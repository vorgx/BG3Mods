# Hero Subclass Progression Generation Report
**Date**: October 24, 2025  
**Phase**: Phase 2 Step 6  
**Status**: ✅ **GENERATION COMPLETE**  
**Output**: `Reports/HeroSubclass_Progressions_Generated.xml`

---

## Executive Summary

Successfully generated **42 progression nodes** (not 48 as initially planned) for 6 hero subclasses covering levels 13-19. Missing L20 nodes for some subclasses due to insufficient capstone talents in database.

---

## Generation Results

### Total Nodes Generated: 42
- **ArmsColossus**: 7 nodes (L13-19, missing L20)
- **ArmsSlayers**: 8 nodes (L13-20, complete)
- **FuryMountainThane**: 7 nodes (L13-19, missing L20)
- **FurySlayers**: 8 nodes (L13-20, complete)
- **ProtectionMountainThane**: 7 nodes (L13-19, missing L20)
- **ProtectionColossus**: 7 nodes (L13-19, missing L20)

---

## Talent Distribution by Subclass

### ArmsColossus
- **L13 (Keystone)**: 1 talent - `WAR_Dominance_of_the_Colossus` ✅
- **L15 (Choice)**: 3 talents - `WAR_Demolish`, `WAR_Martial_Expert`, `WAR_Colossal_Might` ✅
- **L17 (Choice)**: 3 talents - `WAR_Earthquake`, `WAR_Arterial_Bleed`, `WAR_Tide_of_Battle` ✅
- **L19 (Choice)**: 4 talents - `WAR_No_Stranger_to_Pain`, `WAR_Practiced_Strikes`, `WAR_Precise_Might`, `WAR_Mountain_of_Muscle_and_Scars` ⚠️ (4 instead of 3)
- **L20 (Capstone)**: 0 talents ❌ (missing capstone)

**PassiveList UUIDs Generated**:
- L15: `68a1d6bf-e135-4346-90e2-bf3a016d4d66`
- L17: `635ca501-14ad-439d-ad20-07894f6d9921`
- L19: `626cf6e5-729c-49f2-8ff8-0a553d2878b1`

### ArmsSlayers
- **L13 (Keystone)**: 1 talent - `WAR_Slayer_s_Dominance` ✅
- **L15 (Choice)**: 3 talents - `WAR_Imminent_Demise`, `WAR_Death_Drive`, `WAR_Show_No_Mercy` ✅
- **L17 (Choice)**: 3 talents - `WAR_Unrelenting_Onslaught`, `WAR_Brutal_Finish`, `WAR_Opportunist` ✅
- **L19 (Choice)**: 3 talents - `WAR_Overwhelming_Blades`, `WAR_Reap_the_Storm`, `WAR_Relentless_Pursuit` ✅
- **L20 (Capstone)**: 1 talent - `WAR_Slayer_s_Strike` ✅

**PassiveList UUIDs Generated**:
- L15: `50733716-48ec-466d-bdd8-4c1623789719`
- L17: `5cb32ae6-dc62-4768-b2ef-7e4b495044d1`
- L19: `01df3bc9-020b-4e2b-896c-cae43ca2b5c9`

### FuryMountainThane
- **L13 (Keystone)**: 0 talents ❌ (missing keystone)
- **L15 (Choice)**: 3 talents - `WAR_Lightning_Strikes`, `WAR_Crashing_Thunder`, `WAR_Ground_Current` ✅
- **L17 (Choice)**: 3 talents - `WAR_Strength_of_the_Mountain`, `WAR_Thunder_Blast`, `WAR_Storm_Bolts` ✅
- **L19 (Choice)**: 5 talents - `WAR_Keep_your_feet_on_the_Ground`, `WAR_Flashing_Skies`, `WAR_Thorim_s_Might`, `WAR_Burst_of_Power`, `WAR_Avatar_of_the_Storm` ⚠️ (5 instead of 3)
- **L20 (Capstone)**: 0 talents ❌ (missing capstone)

**PassiveList UUIDs Generated**:
- L15: `1b84a489-fb1e-40d5-841d-b0ceeb89247e`
- L17: `c917b1de-1528-4faa-8e22-359c0a584dcb`
- L19: `ce815dec-d95d-425a-9f89-83e23eda4e7b`

### FurySlayers
- **L13 (Keystone)**: 1 talent - `WAR_Slayer_s_Dominance` ✅
- **L15 (Choice)**: 3 talents - `WAR_Imminent_Demise`, `WAR_Death_Drive`, `WAR_Show_No_Mercy` ✅
- **L17 (Choice)**: 3 talents - `WAR_Unrelenting_Onslaught`, `WAR_Brutal_Finish`, `WAR_Opportunist` ✅
- **L19 (Choice)**: 3 talents - `WAR_Overwhelming_Blades`, `WAR_Reap_the_Storm`, `WAR_Relentless_Pursuit` ✅
- **L20 (Capstone)**: 1 talent - `WAR_Slayer_s_Strike` ✅

**PassiveList UUIDs Generated**:
- L15: `e3c08a87-c7e1-4a7a-a259-b81e353abbd4`
- L17: `a0f87695-8119-443b-8e3e-a204003af6b9`
- L19: `d27be98c-b1ef-4857-8c1a-ccc0bb7df8ca`

### ProtectionMountainThane
- **L13 (Keystone)**: 0 talents ❌ (missing keystone)
- **L15 (Choice)**: 3 talents - `WAR_Lightning_Strikes`, `WAR_Crashing_Thunder`, `WAR_Ground_Current` ✅
- **L17 (Choice)**: 3 talents - `WAR_Strength_of_the_Mountain`, `WAR_Thunder_Blast`, `WAR_Storm_Bolts` ✅
- **L19 (Choice)**: 5 talents - `WAR_Keep_your_feet_on_the_Ground`, `WAR_Flashing_Skies`, `WAR_Thorim_s_Might`, `WAR_Burst_of_Power`, `WAR_Avatar_of_the_Storm` ⚠️ (5 instead of 3)
- **L20 (Capstone)**: 0 talents ❌ (missing capstone)

**PassiveList UUIDs Generated**:
- L15: `03cec489-bbef-4dd3-9fc6-cff4d3e214b7`
- L17: `6302a361-6916-484e-ad5c-faabfe169efb`
- L19: `9d26b9f2-c7f0-425b-a1d8-d39dc0adaebb`

### ProtectionColossus
- **L13 (Keystone)**: 1 talent - `WAR_Dominance_of_the_Colossus` ✅
- **L15 (Choice)**: 3 talents - `WAR_Demolish`, `WAR_Martial_Expert`, `WAR_Colossal_Might` ✅
- **L17 (Choice)**: 3 talents - `WAR_Earthquake`, `WAR_Arterial_Bleed`, `WAR_Tide_of_Battle` ✅
- **L19 (Choice)**: 4 talents - `WAR_No_Stranger_to_Pain`, `WAR_Practiced_Strikes`, `WAR_Precise_Might`, `WAR_Mountain_of_Muscle_and_Scars` ⚠️ (4 instead of 3)
- **L20 (Capstone)**: 0 talents ❌ (missing capstone)

**PassiveList UUIDs Generated**:
- L15: `b19cb47c-4ffd-41e3-86c3-2c6d10370a52`
- L17: `40564dd2-27cb-4492-97d0-94ef2e45fa57`
- L19: `3f469e52-e5f1-4977-b8fd-6f457803fda9`

---

## Issues Identified

### ❌ Critical Issues

1. **Missing Keystones** (MountainThane subclasses):
   - `FuryMountainThane` has NO L13 keystone talent
   - `ProtectionMountainThane` has NO L13 keystone talent
   - **Impact**: L13 nodes generated without PassivesAdded (empty progression)
   - **Fix Needed**: Add keystone talents to database with `archetype_tags` containing "Keystone"

2. **Missing Capstones** (Colossus + MountainThane):
   - `ArmsColossus` has NO L20 capstone talent
   - `FuryMountainThane` has NO L20 capstone talent
   - `ProtectionMountainThane` has NO L20 capstone talent
   - `ProtectionColossus` has NO L20 capstone talent
   - **Impact**: L20 nodes NOT generated (only 6/10 subclasses have L20 nodes)
   - **Fix Needed**: Add capstone talents to database with `archetype_tags` containing "Capstone"

### ⚠️ Warnings

3. **Excess Choice Talents at L19**:
   - `ArmsColossus` has 4 talents at L19 (expected 3)
   - `FuryMountainThane` has 5 talents at L19 (expected 3)
   - `ProtectionMountainThane` has 5 talents at L19 (expected 3)
   - `ProtectionColossus` has 4 talents at L19 (expected 3)
   - **Impact**: PassiveLists will offer 4-5 choices instead of standard 3
   - **Fix Options**: 
     - A) Leave as-is (allow flexible choice counts)
     - B) Reclassify some talents as L20 capstones
     - C) Move some to L17 tier

---

## Generated XML Structure

### Example Node (ArmsColossus L13 Keystone):
```xml
<!-- Arms Colossus Level 13 - Keystone -->
<node id="Progression">
    <attribute id="Level" type="uint8" value="13"/>
    <attribute id="Name" type="LSString" value="ArmsColossus"/>
    <attribute id="ProgressionType" type="uint8" value="0"/>
    <attribute id="TableUUID" type="guid" value="6a1b8c3d-7e9f-4a5b-8c6d-9e0f1a2b3c4d"/>
    <attribute id="PassivesAdded" type="LSString" value="WAR_Dominance_of_the_Colossus"/>
</node>
```

### Example Node (ArmsColossus L15 Choice):
```xml
<!-- Arms Colossus Level 15 - Choice Talents -->
<node id="Progression">
    <attribute id="Level" type="uint8" value="15"/>
    <attribute id="Name" type="LSString" value="ArmsColossus"/>
    <attribute id="ProgressionType" type="uint8" value="0"/>
    <attribute id="TableUUID" type="guid" value="6a1b8c3d-7e9f-4a5b-8c6d-9e0f1a2b3c4d"/>
    <children>
        <node id="Selectors">
            <children>
                <node id="PassivesSelector">
                    <attribute id="UUID" type="guid" value="68a1d6bf-e135-4346-90e2-bf3a016d4d66"/>
                </node>
            </children>
        </node>
    </children>
</node>
```

---

## Next Steps

### Immediate Actions Required

1. **FIX MISSING KEYSTONES** ❌ BLOCKING
   - Review WoW sources for Mountain Thane keystone talent name
   - Add 2 keystone talents to database:
     - `WAR_Fury_MountainThane_Keystone` (for FuryMountainThane)
     - `WAR_Protection_MountainThane_Keystone` (for ProtectionMountainThane)
   - Update `granted_by_subclass` column
   - Re-run generation script

2. **FIX MISSING CAPSTONES** ❌ BLOCKING
   - Review WoW sources for capstone talent names
   - Add 4 capstone talents to database (or reclassify existing L19 talents)
   - Ensure `archetype_tags` includes "Capstone"
   - Re-run generation script

3. **RESOLVE L19 EXCESS TALENTS** ⚠️ DECISION NEEDED
   - User decision: Keep 4-5 choices or limit to 3?
   - If limiting: Reclassify extras as L20 capstones or move to L17

### After Fixes Complete

4. **Create PassiveLists.lsx Entries**
   - 18 PassiveList entries needed (6 subclasses × 3 choice tiers)
   - Use generated UUIDs from this report
   - Format: 3-5 passive options per list

5. **Insert Nodes into Progressions.lsx**
   - Insert after each parent spec's L20 node
   - Maintain 16-space indentation for `<node id="Progression">`
   - Order: ArmsColossus → ArmsSlayers → FuryMountainThane → FurySlayers → ProtectionMountainThane → ProtectionColossus

6. **Validation**
   - Run `Validate_HeroSubclass_Progressions.ps1` (needs to be created)
   - Check XML syntax with `get_errors`
   - Verify all UUIDs match ClassDescriptions.lsx

7. **Phase 2 Step 7**
   - Update `SpellList_UUID_Mapping.csv` with new PassiveList UUIDs

8. **Phase 2 Step 8**
   - Update `SOURCE_OF_TRUTH.md` with progression structure

9. **Phase 2 Step 9**
   - End-to-end testing in-game

---

## Files Generated

1. **`Reports/HeroSubclass_Progressions_Generated.xml`** - 521 lines, 42 progression nodes ready for manual insertion
2. **`Reports/HERO_SUBCLASS_PROGRESSION_REPORT.md`** - This file
3. **`Scripts/Generate_HeroSubclass_Progressions.ps1`** - Reusable generator script

---

## User Decision Points

### DECISION 1: Fix Missing Talents vs. Proceed As-Is?
**Options**:
- A) **Fix database and regenerate** (RECOMMENDED) - Ensures complete L13-20 progression for all 6 subclasses
- B) **Proceed with current generation** - 4 subclasses missing capstones, 2 missing keystones

**Recommendation**: **Option A** - Fix database to ensure complete progressions

### DECISION 2: L19 Talent Count (3 vs. 4-5)?
**Options**:
- A) **Keep excess talents** - Allow 4-5 choices at L19 (non-standard but functional)
- B) **Reclassify excess as L20 capstones** - Move extras to fill missing capstones
- C) **Redistribute to L17** - Balance across choice tiers

**Recommendation**: **Option B** - Reclassify extras as L20 capstones to solve both issues

---

**Status**: ⏸️ **PAUSED** - Awaiting user decision on missing talents before proceeding to insertion

---

**End of Report**
