WH.SocialLinks=function(e){const t=WH.Icon;const a=WH.Strings;const s=WH.getPageData("guide.author");const o=WH.getPageData("guide.author.profiles");const n=WH.getPageData("guide.author.twitchAvatar");const c="bluesky";const i="discord";const l="facebook";const r="twitch";const u="twitter";const f="youtube";const d={[c]:{faIcon:{prefix:"fab",name:"bluesky"}},[i]:{faIcon:{prefix:"fab",name:"discord"}},[l]:{faIcon:{prefix:"fab",name:"facebook"}},[r]:{faIcon:{prefix:"fab",name:"twitch"}},[u]:{faIcon:{prefix:"fab",name:"twitter"}},[f]:{faIcon:{prefix:"fab",name:"youtube"}}};const h={[i]:"%s",[l]:"https://www.facebook.com/profile.php?id=%s",[r]:"https://www.twitch.tv/%s",[u]:"https://twitter.com/%s",[f]:"https://www.youtube.com/@%s"};const H=5*WH.Time.MS_MIN;const W={elements:{container:undefined,statusSection:undefined},hasSocialMedia:false,hasTwitch:false,socialData:undefined};function m(){const e=WH.ce("section",{className:"author-social-links-info"});const o=WH.ce("section",{className:"author-social-links-avatar"});const c=WH.ce("section",{className:"author-social-links-status-pill"},WH.ct(WH.TERMS.liveBroadcasting));const i=WH.ce("section",{className:"author-social-links-name"},WH.ct(s));o.style.backgroundImage=`url(${n||t.getIconUrl("inv_misc_1h_scribesquill_b_01_gold",t.LARGE)})`;WH.ae(W.elements.container,e);WH.ae(e,o);WH.ae(o,c);WH.ae(e,i);if(W.hasTwitch){let t="author-social-links-status";let s=WH.ce("section",{className:t});let o=W.socialData[r];WH.ae(s,WH.ce("a",{className:`${t}-online`,href:a.sprintf(h[r],o),target:"_blank"},WH.ct(WH.TERMS.twitchTextOnline)));WH.ae(s,WH.ce("span",{className:`${t}-offline`},WH.ct(WH.TERMS.twitchTextOffline)));WH.ae(e,s);T()}}function w(){const e=WH.ce("section",{className:"wh-button-group",dataset:{alignment:"end"}});const a=WH.ce("section",{className:"author-social-links-cta"},WH.ct(`${WH.TERMS.follow}${WH.TERMS.colon_punct}`));const s=new WH.Popover(undefined,(e=>{e.classList.add("author-social-links-popover");const t=WH.ae(e,WH.ce("div",{className:"wh-button-group",dataset:{groupLayout:"popover-cta"}}));Object.entries(W.socialData).forEach((([e,a])=>{a&&g(t,e,a,true)}))}),{headerIcon:n||t.getIconUrl("inv_misc_1h_scribesquill_b_01_gold",t.LARGE),headerText:WH.TERMS.follow});const o=new WH.Button({"data-icon-position":"end","data-variation":WH.getDataTreeKey(),"data-visible-small":true,clickHandler:e=>s.show(e),iconConfig:{faIcon:{prefix:"fas",name:"caret-down"}},label:WH.TERMS.follow,size:"small",style:"hybrid"});WH.ae(W.elements.container,e);WH.ae(e,a);WH.ae(e,o.getElement());Object.entries(W.socialData).forEach((([t,a])=>{a&&g(e,t,a)}))}function p(){if(!o){return}W.elements.container=e;W.socialData=o;if(!Object.values(W.socialData).some((e=>e!==null&&e!==""))){W.elements.container.style.display="none";return}b();m();if(W.hasSocialMedia){w()}}function b(){WH.aE(W.elements.container,"resize",(e=>{let t=e.target;let a=t.getBoundingClientRect().width;if(a<=WH.Responsive.BREAKPOINTS.MOBILE_MODE&&!t.dataset.layoutMode){t.dataset.layoutMode="small"}else if(a>WH.Responsive.BREAKPOINTS.MOBILE_MODE){delete t.dataset.layoutMode}}));W.hasSocialMedia=Object.values(W.socialData).some((e=>e!==null&&e!==""));if(W.hasSocialMedia){let e=W.socialData.twitch;W.hasTwitch=!!e;W.elements.container.dataset.hasTwitch=`${W.hasTwitch}`;if(W.hasTwitch){setInterval(T,H)}}}function g(e,t,s,o=false){const n={discord:"discordapp",youtube:"youTube"};const c=d[t]??null;const i=new WH.Button({"data-hidden-small":!o,"aria-label":WH.TERMS[n[t.toLowerCase()]??t.toLowerCase()],href:a.sprintf(h[t],s),iconConfig:c,label:o&&WH.TERMS[n[t.toLowerCase()]??t.toLowerCase()],size:"small",style:`social-brand-${t}`,target:"_blank"}).getElement();WH.ae(e,i)}function T(){WH.fetch(WH.Url.generateAnonymous("/twitch/streaming-status"),{mode:"cors",success:e=>{let t=e.activeStreamers||[];W.socialData.live=!!t.find((e=>e===o.twitch));W.elements.container.dataset.live=`${W.socialData.live}`},error:(e,t)=>{WH.error({response:e,statusCode:t,message:`Failed to fetch Twitch status for Twitch channel: ${o.twitch}`});W.socialData.live=false;W.elements.container.dataset.live=`${W.socialData.live}`}})}p.apply(this,arguments)};