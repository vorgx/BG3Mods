!function(){"use strict";window.zamaf=window.zamaf||{},window.zamaf.user=window.zamaf.user||{},window.zamaf.user.region="vic",window.zamaf.user.countryCode="au",window.zamaf.user.isGDPR=!1,window.zamaf.user.isCCPA=!1,window.zamaf.user.deviceType="desktop",window.zamaf.user.isDesktop=!0,window.debug=window.debug||null}();
!function(){"use strict";function e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function t(t){for(var r=1;r<arguments.length;r++){var i=null!=arguments[r]?arguments[r]:{};r%2?e(Object(i),!0).forEach((function(e){n(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):e(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||a(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}window.zaf_globals={site:"wowhead",version:"2.4.0",id:"68e7eaf6ba8c9c000923cae0",adFormationId:window.zaf_formation_id,qualifier:"undefined"},window.zamaf_loadCount=window.zamaf_loadCount||0;var c,u,d,l,f=((window.location.search||"").match(/zaf=([^&]*)/)||[])[1];if(f&&!window.zamaf_loadCount){window.zamaf_loadCount=1;var p=document.createElement("script");p.setAttribute("async","async"),p.src="https://zaf.api.fanbyte.com/stable/js/"+window.zaf_globals.site+".js?id="+f,document.getElementsByTagName("head")[0].appendChild(p),window.zamaf_cancel=!0}else window.zamaf_cancel=!1;window.zamaf_cancel||(function(){var e,t,a="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};function s(){throw new Error("setTimeout has not been defined")}function c(){throw new Error("clearTimeout has not been defined")}var u=s,d=c;function l(e){if(u===setTimeout)return setTimeout(e,0);if((u===s||!u)&&setTimeout)return u=setTimeout,setTimeout(e,0);try{return u(e,0)}catch(t){try{return u.call(null,e,0)}catch(t){return u.call(this,e,0)}}}"function"==typeof a.setTimeout&&(u=setTimeout),"function"==typeof a.clearTimeout&&(d=clearTimeout);var f,p=[],m=!1,v=-1;function g(){m&&f&&(m=!1,f.length?p=f.concat(p):v=-1,p.length&&h())}function h(){if(!m){var e=l(g);m=!0;for(var t=p.length;t;){for(f=p,p=[];++v<t;)f&&f[v].run();v=-1,t=p.length}f=null,m=!1,function(e){if(d===clearTimeout)return clearTimeout(e);if((d===c||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}(e)}}function b(e,t){this.fun=e,this.array=t}function y(){}b.prototype.run=function(){this.fun.apply(null,this.array)};var w,I,_=y,C=y,S=y,x=y,A=y,E=y,T=y,O=a.performance||{},k=O.now||O.mozNow||O.msNow||O.oNow||O.webkitNow||function(){return(new Date).getTime()},j=new Date,R={nextTick:function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];p.push(new b(e,t)),1!==p.length||m||l(h)},title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:_,addListener:C,once:S,off:x,removeListener:A,removeAllListeners:E,emit:T,binding:function(e){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(e){throw new Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(e){var t=.001*k.call(O),n=Math.floor(t),r=Math.floor(t%1*1e9);return e&&(n-=e[0],(r-=e[1])<0&&(n--,r+=1e9)),[n,r]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-j)/1e3}},z={exports:{}};function P(){if(I)return w;I=1;var e=1e3,t=60*e,n=60*t,r=24*n,i=7*r,o=365.25*r;function a(e,t,n,r){var i=t>=1.5*n;return Math.round(e/n)+" "+r+(i?"s":"")}return w=function(s,c){c=c||{};var u=typeof s;if("string"===u&&s.length>0)return function(a){if(!((a=String(a)).length>100)){var s=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(a);if(s){var c=parseFloat(s[1]);switch((s[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return c*o;case"weeks":case"week":case"w":return c*i;case"days":case"day":case"d":return c*r;case"hours":case"hour":case"hrs":case"hr":case"h":return c*n;case"minutes":case"minute":case"mins":case"min":case"m":return c*t;case"seconds":case"second":case"secs":case"sec":case"s":return c*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return c;default:return}}}}(s);if("number"===u&&isFinite(s))return c.long?function(i){var o=Math.abs(i);return o>=r?a(i,o,r,"day"):o>=n?a(i,o,n,"hour"):o>=t?a(i,o,t,"minute"):o>=e?a(i,o,e,"second"):i+" ms"}(s):function(i){var o=Math.abs(i);return o>=r?Math.round(i/r)+"d":o>=n?Math.round(i/n)+"h":o>=t?Math.round(i/t)+"m":o>=e?Math.round(i/e)+"s":i+"ms"}(s);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(s))}}var B,D,U=function(e){function t(e){var r,i,o,a=null;function s(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];if(s.enabled){var o=s,a=Number(new Date),c=a-(r||a);o.diff=c,o.prev=r,o.curr=a,r=a,n[0]=t.coerce(n[0]),"string"!=typeof n[0]&&n.unshift("%O");var u=0;n[0]=n[0].replace(/%([a-zA-Z%])/g,(function(e,r){if("%%"===e)return"%";u++;var i=t.formatters[r];if("function"==typeof i){var a=n[u];e=i.call(o,a),n.splice(u,1),u--}return e})),t.formatArgs.call(o,n);var d=o.log||t.log;d.apply(o,n)}}return s.namespace=e,s.useColors=t.useColors(),s.color=t.selectColor(e),s.extend=n,s.destroy=t.destroy,Object.defineProperty(s,"enabled",{enumerable:!0,configurable:!1,get:function(){return null!==a?a:(i!==t.namespaces&&(i=t.namespaces,o=t.enabled(e)),o)},set:function(e){a=e}}),"function"==typeof t.init&&t.init(s),s}function n(e,n){var r=t(this.namespace+(void 0===n?":":n)+e);return r.log=this.log,r}function r(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){var e=[].concat(o(t.names.map(r)),o(t.skips.map(r).map((function(e){return"-"+e})))).join(",");return t.enable(""),e},t.enable=function(e){var n;t.save(e),t.namespaces=e,t.names=[],t.skips=[];var r=("string"==typeof e?e:"").split(/[\s,]+/),i=r.length;for(n=0;n<i;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.slice(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=P(),t.destroy=function(){},Object.keys(e).forEach((function(n){t[n]=e[n]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){for(var n=0,r=0;r<e.length;r++)n=(n<<5)-n+e.charCodeAt(r),n|=0;return t.colors[Math.abs(n)%t.colors.length]},t.enable(t.load()),t};function N(e){var t=this;if(!e.getAdUnitPath)return"unknown slot";var n,r={};return(e&&e.getTargetingKeys&&e.getTargetingKeys()||[]).forEach((function(n){r[n]=e.getTargeting(n),0===r[n].length&&t.error(e.getSlotElementId(),"key",n,"is empty!")})),{targeting:r,adUnitPath:e.getAdUnitPath(),slotElementId:e.getSlotElementId(),slotId:e.getSlotId().toString(),sizes:(n=e.getSizes(),"fluid"===n[0]?n[0]:n.filter((function(e){return"fluid"!=e})).map((function(e){return e.getWidth?[e.getWidth(),e.getHeight()]:[0,0]}))),_slot:e}}B=z,(D=z.exports).formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+B.exports.humanize(this.diff),this.useColors){var t="color: "+this.color;e.splice(1,0,t,"color: inherit");var n=0,r=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(n++,"%c"===e&&(r=n))})),e.splice(r,0,t)}},D.save=function(e){try{e?D.storage.setItem("debug",e):D.storage.removeItem("debug")}catch(e){}},D.load=function(){var e;try{e=D.storage.getItem("debug")}catch(e){}return!e&&void 0!==R&&"env"in R&&(e=R.env.DEBUG),e},D.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},D.storage=function(){try{return localStorage}catch(e){}}(),D.destroy=function(){},D.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],D.log=console.debug||console.log||function(){},B.exports=U(D),B.exports.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}};class F{constructor(e){this.namespace=e}log(){}error(){}warn(){}_slots(){}slots(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"slots",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=t;void 0!==t&&(n=[]),n=Array.isArray(t)?t:[t],this._slots(e,n.filter((function(e){return!!e})).map(N.bind(this)))}}function M(e){return new F(e)}var q="dataTags",L="dom:zafInit",W="dom:loading",H="dom:interactive",V="dom:loaded",G="dom:beforeunload",$="dom:unloaded",J="dom:ended",X="dom:visibilityChanged",Q=function(){return Math.random.apply(Math,arguments)};function K(e){return K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},K(e)}function Y(e,t){var n=this.event&&this.event.type,r="unload"===n||"beforeunload"===n,i="XMLHttpRequest"in this?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");i.open("POST",e,!r),i.withCredentials=!0,i.setRequestHeader("Accept","*/*"),"string"==typeof t?(i.setRequestHeader("Content-Type","text/plain;charset=UTF-8"),i.responseType="text"):function(e){return e instanceof Blob}(t)&&t.type&&i.setRequestHeader("Content-Type",t.type);try{i.send(t)}catch(e){return!1}return!0}function Z(){}function ee(){ee.init.call(this)}function te(e){return void 0===e._maxListeners?ee.defaultMaxListeners:e._maxListeners}function ne(e,t,n){if(t)e.call(n);else for(var r=e.length,i=de(e,r),o=0;o<r;++o)i[o].call(n)}function re(e,t,n,r){if(t)e.call(n,r);else for(var i=e.length,o=de(e,i),a=0;a<i;++a)o[a].call(n,r)}function ie(e,t,n,r,i){if(t)e.call(n,r,i);else for(var o=e.length,a=de(e,o),s=0;s<o;++s)a[s].call(n,r,i)}function oe(e,t,n,r,i,o){if(t)e.call(n,r,i,o);else for(var a=e.length,s=de(e,a),c=0;c<a;++c)s[c].call(n,r,i,o)}function ae(e,t,n,r){if(t)e.apply(n,r);else for(var i=e.length,o=de(e,i),a=0;a<i;++a)o[a].apply(n,r)}function se(e,t,n,r){var i,o,a;if("function"!=typeof n)throw new TypeError('"listener" argument must be a function');if((o=e._events)?(o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),a=o[t]):(o=e._events=new Z,e._eventsCount=0),a){if("function"==typeof a?a=o[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),!a.warned&&(i=te(e))&&i>0&&a.length>i){a.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+t+" listeners added. Use emitter.setMaxListeners() to increase limit");s.name="MaxListenersExceededWarning",s.emitter=e,s.type=t,s.count=a.length}}else a=o[t]=n,++e._eventsCount;return e}function ce(e,t,n){var r=!1;function i(){e.removeListener(t,i),r||(r=!0,n.apply(e,arguments))}return i.listener=n,i}function ue(e){var t=this._events;if(t){var n=t[e];if("function"==typeof n)return 1;if(n)return n.length}return 0}function de(e,t){for(var n=new Array(t);t--;)n[t]=e[t];return n}function le(){return window._domEventEmitter=window._domEventEmitter||new ee,window._domEventEmitter}function fe(e){return e?(e^16*Q()>>e/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,fe)}(function(){"navigator"in this||(this.navigator={}),"function"!=typeof this.navigator.sendBeacon&&(this.navigator.sendBeacon=Y.bind(this))}).call("object"===("undefined"==typeof window?"undefined":K(window))?window:{}),M("utils"),Z.prototype=Object.create(null),ee.EventEmitter=ee,ee.usingDomains=!1,ee.prototype.domain=void 0,ee.prototype._events=void 0,ee.prototype._maxListeners=void 0,ee.defaultMaxListeners=10,ee.init=function(){this.domain=null,ee.usingDomains&&(void 0).active,this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new Z,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},ee.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this},ee.prototype.getMaxListeners=function(){return te(this)},ee.prototype.emit=function(e){var t,n,r,i,o,a,s,c="error"===e;if(a=this._events)c=c&&null==a.error;else if(!c)return!1;if(s=this.domain,c){if(t=arguments[1],!s){if(t instanceof Error)throw t;var u=new Error('Uncaught, unspecified "error" event. ('+t+")");throw u.context=t,u}return t||(t=new Error('Uncaught, unspecified "error" event')),t.domainEmitter=this,t.domain=s,t.domainThrown=!1,s.emit("error",t),!1}if(!(n=a[e]))return!1;var d="function"==typeof n;switch(r=arguments.length){case 1:ne(n,d,this);break;case 2:re(n,d,this,arguments[1]);break;case 3:ie(n,d,this,arguments[1],arguments[2]);break;case 4:oe(n,d,this,arguments[1],arguments[2],arguments[3]);break;default:for(i=new Array(r-1),o=1;o<r;o++)i[o-1]=arguments[o];ae(n,d,this,i)}return!0},ee.prototype.addListener=function(e,t){return se(this,e,t,!1)},ee.prototype.on=ee.prototype.addListener,ee.prototype.prependListener=function(e,t){return se(this,e,t,!0)},ee.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.on(e,ce(this,e,t)),this},ee.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.prependListener(e,ce(this,e,t)),this},ee.prototype.removeListener=function(e,t){var n,r,i,o,a;if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');if(!(r=this._events))return this;if(!(n=r[e]))return this;if(n===t||n.listener&&n.listener===t)0==--this._eventsCount?this._events=new Z:(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length;o-- >0;)if(n[o]===t||n[o].listener&&n[o].listener===t){a=n[o].listener,i=o;break}if(i<0)return this;if(1===n.length){if(n[0]=void 0,0==--this._eventsCount)return this._events=new Z,this;delete r[e]}else!function(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}(n,i);r.removeListener&&this.emit("removeListener",e,a||t)}return this},ee.prototype.off=function(e,t){return this.removeListener(e,t)},ee.prototype.removeAllListeners=function(e){var t,n;if(!(n=this._events))return this;if(!n.removeListener)return 0===arguments.length?(this._events=new Z,this._eventsCount=0):n[e]&&(0==--this._eventsCount?this._events=new Z:delete n[e]),this;if(0===arguments.length){for(var r,i=Object.keys(n),o=0;o<i.length;++o)"removeListener"!==(r=i[o])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=new Z,this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(t)do{this.removeListener(e,t[t.length-1])}while(t[0]);return this},ee.prototype.listeners=function(e){var t,n=this._events;return n&&(t=n[e])?"function"==typeof t?[t.listener||t]:function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(t):[]},ee.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):ue.call(e,t)},ee.prototype.listenerCount=ue,ee.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};var pe=M("zaf:tracking-utils"),me="zafusr",ve="localStorage",ge="sessionStorage";function he(e,t){var n=window[e].getItem(t);return n||(n=fe(),window[e].setItem(t,n)),n}function be(){zamaf.user=zamaf.user||{};var e=zamaf.user.consents||{},t=!1;return zamaf.user.isCCPA||zamaf.user.isGDPR||(t=!0,pe.log("user is not ccpa nor gdpr, can store user id: ".concat(t))),zamaf.user.isGDPR&&e.storeUserId&&e.adPerformance&&(t=!0,pe.log("user is gdpr but has given consent, can store user id: ".concat(t))),t||(pe.log("removing zafUserKey from local/session storage"),window[ve].removeItem(me),window[ge].removeItem(me)),t}function ye(){try{var e=window[ge].getItem("zaf-dt");e=e?JSON.parse(e):[];var t=window[ve].getItem("zaf-dt");return t=t?JSON.parse(t):[],o(new Set([].concat(o(e),o(t))))}catch(e){console.error("Cannot find data tags",e)}return[]}function we(e){return Number.parseFloat(e).toFixed(2)}window.zamaf_adt=function(e,t){window.zamaf.user=window.zamaf.user||{};var n=zamaf.user.consents||{};if(!window.zamaf.user.isGDPR||n.storeUserId){t=t===ge?ge:ve;var r=window[t].getItem("zaf-dt");(r=r?JSON.parse(r):[]).push(e),window[t].setItem("zaf-dt",JSON.stringify(r))}},window.zamaf_rdt=function(e){[ge,ve].forEach((function(t){var n=window[ge].getItem("zaf-dt"),r=(n=n?JSON.parse(n):[]).indexOf(e);-1!==r&&n.splice(r,1),window[t].setItem("zaf-dt",JSON.stringify(n))}))};var Ie=window.performance.now();function _e(){return we(window.performance.now()-Ie)}function Ce(){window._zafTrackingVisibility||(window._zafTrackingVisibility=!0,window._zafLastVisibleTime=window.performance.now())}function Se(e){e?window._zafLastVisibleTime=window.performance.now():window._zafVisibilityTime+=window.performance.now()-window._zafLastVisibleTime}var xe=fe(),Ae=(n(e={},"userId",(function(){return be()?he(ve,me):"NONE"})),n(e,"sessionId",(function(){return be()?he(ge,me):"NONE"})),n(e,"pageId",(function(){return xe})),n(e,"elapsedTime",_e),n(e,"absoluteTime",(function(){return we(window.performance.now())})),n(e,"visibilityTime",(function(){window._zafVisibilityTime=window._zafVisibilityTime||0,window._zafLastVisibleTime=window._zafLastVisibleTime||0;var e=window._zafVisibilityTime;return document.hidden||(e+=window.performance.now()-window._zafLastVisibleTime),we(e)})),n(e,q,ye),e);function Ee(e,t){var n=Ae[e];if(n){var r=n();return r&&(t[e]=r),!0}return!1}var Te=M("requestqueue"),Oe="https://tr.api.fanbyte.com/ev/bulk",ke={requestTimeout:!1,queue:[],site:"",init:function(e,t){var n;this.user=t,this.site=e.site,n=this.clearQueue.bind(this),"complete"!==document.readyState?window.addEventListener("load",(function(){n()})):n(),le().on(J,this.clearQueue.bind(this)),le().on(X,this.clearQueue.bind(this))},addToQueue:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.site=t.site||this.site,Te.log("adding to queue...",e,t.site);var n=e.replace(/:/g,".");this.queue.push({eventName:n,params:t}),this.requestTimeout||(this.requestTimeout=this.deferRequest())},deferRequest:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6e4;return setTimeout((function(){e.clearQueue(),clearTimeout(e.requestTimeout),e.requestTimeout=!1}),t)},getCurrentTrackingEvents:function(){for(var e=[];0!==this.queue.length;){var t=this.queue.pop();e.push(t)}return e.length||Te.log("nothing in queue"),e},sendRequest:function(e){var t=JSON.stringify(e);return Te.log("sending tracking data to ".concat(Oe)),navigator.sendBeacon(Oe,t),!0},clearQueue:function(){var e=this.getCurrentTrackingEvents();if(Te.log("clearing queue...",e),0!==e.length){var t={zu:this.user,r:document.referrer,u:window.location.href,e:e,t:_e()};this.sendRequest(t)}}},je=M("zaf:tracker");function Re(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return ke.addToQueue(e,t)}var ze=["zaf:unit:renderinfo","zaf:unit:loadinfo","zaf:unit:pbjsrender","zaf:error"].concat(o(Object.values({LOADSTART:"video:loadstart",SOURCESET:"video:sourceset",WAITING:"video:waiting",ENDED:"video:ended",SEEKING:"video:seeking",PLAY:"video:play",FIRSTPLAY:"video:firstplay",PAUSE:"video:pause",DURATIONCHANGE:"video:durationchange",FULLSCREENCHANGE:"video:fullscreenchange",ENTERPICTUREINPICTURE:"video:enterpictureinpicture",LEAVEPICTUREINPICTURE:"video:leavepictureinpicture",ERROR:"video:error",LOADEDMETADATA:"video:loadedmetadata",POSTERCHANGE:"video:posterchange",TEXTDATA:"video:textdata",RATECHANGE:"video:ratechange"})),o(Object.values({ADSTARTED:"videoad:started",ADSTARTEDXSECOND:"videoad:startedXSeconds",BIDFETCHED:"videoad:bidFetched"}))),Pe={handleDefaultMetrics:Ee,initialize:function(e){if(e.events){if(ke.init(e),e.percentage=e.percentage?Number(e.percentage):0,Math.floor(101*Q())>e.events.percentage)return je.log("tracking: Tracking disabled"),void(e.events={});je.log("tracking: Tracking enabled")}else je.warn("no events set")},serviceCall:Re,track:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(void 0!==e)if(void 0!==t)if(t.events&&t.events[e])if(t.events[e].percentage&&t.events[e].percentage<100&&101*Math.random()>t.events[e].percentage)je.log("cannot track event ".concat(e,": disabled by randomization"),t.events);else if(0!==t.events[e].percentage)try{je.log("tracking: Tracking event %j",e);var i={},a=t.events[e];a.metrics&&a.metrics.forEach((function(e){if(!Ee(e,i)){var t=n[e];i[e]=void 0===t?"EMPTY":t}})),ze.includes(e)&&(i=r(i,JSON.parse(JSON.stringify(n))));var s=window.zaf_globals||{};i.site=s.site,i.version=s.version,i.id=s.id,i.adFormationId=s.adFormationId,i.qualifier=s.qualifier||"EMPTY",i.dataTags=[].concat(o(n.dataTags||[]),o(ye())),Re(e,i)}catch(e){je.error("tracking: unable to send tracking event",e)}else je.log("cannot track event ".concat(e,": percentage is set to 0"),t.events);else je.log("cannot track event ".concat(e,": does not exist in trackingConfig.events"),t.events);else je.log("cannot track event ".concat(e,": no config passed!"));else je.log("cannot track event no eventName passed!")}},Be=M("domtracking");function De(){var e=parseInt(window.pageYOffset||(document.documentElement||document.body.parentNode||document.body).scrollTop||0),t=parseInt(window.innerHeight||(document.documentElement||document.body).clientHeight||0),n=e+t;if(!(window.zamaf.pagePosition.viewableDepth&&window.zamaf.pagePosition.viewableDepth>n)){var r,i=parseInt(((r=document).body?Math.max(r.body.scrollHeight,r.documentElement.scrollHeight,r.body.offsetHeight,r.documentElement.offsetHeight,r.body.clientHeight,r.documentElement.clientHeight):Math.max(r.documentElement.scrollHeight,r.documentElement.offsetHeight,r.documentElement.clientHeight))||0);Object.keys(window.zamaf.pagePosition).length||(window.zamaf.pagePosition.pageHeight=i,window.zamaf.pagePosition.trackLength=i-t),n>window.zamaf.pagePosition.pageHeight?(window.zamaf.pagePosition.scrollPercentage=100,window.zamaf.pagePosition.viewablePercentage=100,window.zamaf.pagePosition.scrollDepth=window.zamaf.pagePosition.trackLength,window.zamaf.pagePosition.viewableDepth=window.zamaf.pagePosition.pageHeight):(window.zamaf.pagePosition.scrollPercentage=e?Math.floor(e/window.zamaf.pagePosition.trackLength*100):0,window.zamaf.pagePosition.viewablePercentage=Math.floor(n/window.zamaf.pagePosition.pageHeight*100),window.zamaf.pagePosition.scrollDepth=e,window.zamaf.pagePosition.viewableDepth=n),window.zamaf.pagePosition.finalPageHeight=i,window.zamaf.pagePosition.finalTrackLength=i-t,window.zamaf.pagePosition.finalViewableDepth=n,window.zamaf.pagePosition.finalScrollDepth=e}}function Ue(e,t){var n=Object.entries(Ae).reduce((function(e,t){var n=i(t,2),r=n[0],o=n[1];return e[r]=o(),e}),{}),o=window.zaf_globals||{};n.version=o.version;var a=r({},n,t);Be.log("Tracking data for ".concat(e,": ").concat(JSON.stringify(a))),window.zamaf_tr_tl.serviceCall(e,a)}var Ne=(n(t={},L,(function(e){Ue(L,n({},L,parseInt(e)))})),n(t,W,(function(){Ue(W,n({},W,parseInt(window.performance.timing.domLoading-window.performance.timeOrigin)))})),n(t,H,(function(){Ue(H,n({},H,parseInt(window.performance.timing.domInteractive-window.performance.timeOrigin)))})),n(t,V,(function(){window.addEventListener("load",(function(e){Ue(V,n({},V,parseInt(e.timeStamp)))}))})),n(t,G,(function(){window.addEventListener("beforeunload",(function(e){Ue(G,n({},G,parseInt(e.timeStamp)))}))})),n(t,$,(function(){var e;"complete"!==document.readyState?window.addEventListener("load",(function(){window.zamaf.pagePosition={},De()})):(window.zamaf.pagePosition={},De()),window.addEventListener("scroll",(function(){clearTimeout(e),e=setTimeout((function(){window.zamaf.pagePosition&&De()}),50)}),!1),le().on($,(function(e){var t;window.zamaf.pagePosition||(window.zamaf.pagePosition={},De()),Ue($,(n(t={},$,parseInt(e.timeStamp)),n(t,"scrollDepth",window.zamaf.pagePosition.scrollDepth),n(t,"viewableDepth",window.zamaf.pagePosition.viewableDepth),n(t,"pageHeight",window.zamaf.pagePosition.pageHeight),n(t,"trackLength",window.zamaf.pagePosition.trackLength),n(t,"scrollPercentage",window.zamaf.pagePosition.scrollPercentage),n(t,"viewablePercentage",window.zamaf.pagePosition.viewablePercentage),n(t,"finalScrollDepth",window.zamaf.pagePosition.finalScrollDepth),n(t,"finalViewableDepth",window.zamaf.pagePosition.finalViewableDepth),n(t,"finalPageHeight",window.zamaf.pagePosition.finalPageHeight),n(t,"finalTrackLength",window.zamaf.pagePosition.finalTrackLength),t))}))})),t),Fe={setupDOMTracking:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Be.log("setting up dom tracking");var n=le();if(window.addEventListener("pagehide",(function(e){n.emit($,e),n.emit(J,e)})),Ce(),document.addEventListener("visibilitychange",(function(e){Se(!document.hidden),document.hidden&&n.emit(X,e)})),!e.events)return null;var r=[],i=Object.keys(e.events);for(var o of i)try{void 0!==Ne[o]&&(r.push(o),Ne[o](t))}catch(e){return Be.error("tracking: unable to process dom tracking event data",e),null}return Be.log("matched dom events found in config: ".concat(JSON.stringify(r))),r},sendTrackingData:Ue,listeners:Ne},Me=M("tracking");window.zamaf_setup_tracking=function(e){var t=window.performance.now();window.zamaf_tr_tl=Pe,Pe.initialize(e),Fe.setupDOMTracking(e,t);var n={};Object.entries(e.events).forEach((function(t){var r=i(t,2),o=r[0];r[1];var a=null,s=o.split(":");"zaf"==s[0]?a="zamaf":"pbjs"==s[0]&&(a="pbjs"),a&&(n[a]||(n[a]=[]),n[a].push({eventName:o,percentage:e.percentage}))})),Object.entries(n).forEach((function(t){var n=i(t,2),r=n[0],o=n[1];!function(e,t,n){var r="cmd",i="on",o=function(e){return e};"pbjs"==t&&(r="que",i="onEvent",o=function(e){return e.substr("pbjs:".length)});var a=window[t]||{};a[r]=a[r]||[],a[r].push((function(){a=window[t],n.forEach((function(t){var n=t.eventName,r=t.percentage,s=o(n);a[i](s,(function(t,i){r&&r<100&&101*Math.random()>r?Me.log("cannot track event ".concat(n,": disabled by randomization")):0!==r?Pe.track(n,e,i):Me.log("cannot track event ".concat(n,": percentage is set to 0"))}))}))}))}(e,r,o)}))}}(),window.pbjs=window.pbjs||{},window.pbjs.que=window.pbjs.que||[],window.zamaf=window.zamaf||{},window.zamaf.cmd=window.zamaf.cmd||[],window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.zamaf_setup_tracking({archived:!1,label:"e7cf4d89-5636-4e1f-803a-8c1f924eeca2",events:{"zaf:page:load":{metrics:["userId","sessionId","pageId","elapsedTime"]},"zaf:unit:renderinfo":{metrics:["userId","sessionId","pageId","elapsedTime"]},"zaf:unit:loadinfo":{metrics:["userId","sessionId","pageId","elapsedTime"]},"zaf:unit:pbjsrender":{metrics:["userId","sessionId","pageId","elapsedTime"]},"dom:unloaded":{metrics:["userId","sessionId","pageId","elapsedTime","absoluteTime","visibilityTime","version","scrollDepth","viewableDepth","pageHeight","trackLength","scrollPercentage","viewablePercentage","finalScrollDepth","finalViewableDepth","finalPageHeight","finalTrackLength"]},"zaf:error":{metrics:["userId","sessionId","pageId","elapsedTime","error"]},"zaf:auctionEndMetrics":{metrics:["userId","sessionId","pageId","elementId","auctionId","auctionStart","auctionEnd","minBid","maxBid","meanBid","medianBid","bidFloor","biddersConfigured","biddersParticipated","biddersConfiguredCount","biddersReceivedCount","winningBidder","elapsedTime"]}},generatorVersion:"2_2_2",site:"wowhead",qualifier:"*|*|*",audit:{created:{user:{id:"5a29f217c6034f0001ad6949",type:"user"},date:"2023-03-28T18:51:57.698Z"}},_id:"6423374d768adb000836fdc8",version:"2.2.2",percentage:"100"}),function(){var e,t,n,r,i,o;function a(e){var t=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=document.getElementById("zaf-video-top");(r=r||document.getElementById("video-top")||document.getElementById("video-pos-inner"))?(r.innerHTML="",e(r)):n<50&&setTimeout((function(){t(n++)}),100)};t()}window.pbjs=window.pbjs||{},window.pbjs.que=window.pbjs.que||[],window.zamaf=window.zamaf||{},window.zamaf.cmd=window.zamaf.cmd||[],window.zamaf=window.zamaf||{},window.zamaf.cmd=window.zamaf.cmd||[],window.htlbid=window.htlbid||{},htlbid.cmd=htlbid.cmd||[];var s="us"===(null===(e=window.zamaf)||void 0===e||null===(t=e.user)||void 0===t?void 0:t.countryCode)?"connatix":"exco",c="us"!==(null===(n=window.zamaf)||void 0===n||null===(r=n.user)||void 0===r?void 0:r.countryCode)?"connatix":"exco",u="us"===(null===(i=window.zamaf)||void 0===i||null===(o=i.user)||void 0===o?void 0:o.countryCode)?.5:.9,d=Math.random()<u?s:c,l=window.location.href;l.indexOf("zaf_video=exco")>0&&(d="exco"),l.indexOf("zaf_video=connatix")>0&&(d="connatix"),l.indexOf("zaf_video=primis")>0&&(d="primis"),a("primis"==d?function(e){var t,n,r;htlbid.cmd.push((function(){htlbid.setTargeting("video","primis")}));var i,o=/iPad|iPhone|iPod/.test(navigator.platform),a="MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,s=!window.MSStream&&(o||a||((i=new Audio).volume=.5,1===i.volume)),c=null===(t=navigator.userAgent)||void 0===t?void 0:t.match(/Android/i);null===(n=window.zamaf)||void 0===n||null===(r=n.user)||void 0===r||r.deviceType;var u="115904";s?u="115906":c&&(u="115905");var d=document.createElement("script");d.setAttribute("language","javascript"),d.setAttribute("type","text/javascript"),d.src="https://live.primis.tech/live/liveView.php?playerApiId=wowheadPrimisPlayer&s=".concat(u,"&cbuster=%%CACHEBUSTER%%"),e.appendChild(d)}:"exco"==d?function(e){htlbid.cmd.push((function(){htlbid.setTargeting("video","exco")}));var t="ddd17ba6-5923-4152-96cd-e233684fd89b",n=window.location.pathname.replace(/^\//,"").replace(/\//g,"-"),r="/76136274/wowhead.com/".concat(n||"global","/").concat(t),i=document.createElement("div");i.setAttribute("id",t),i.setAttribute("data-exs-config",'{"macros": {"gpid": "'.concat(r,'"}}')),e.appendChild(i);var o=document.createElement("script");o.setAttribute("className","exco-player"),o.setAttribute("src","//player.ex.co/player/ddd17ba6-5923-4152-96cd-e233684fd89b"),e.appendChild(o)}:function(e){htlbid.cmd.push((function(){htlbid.setTargeting("video","connatix")})),function(e){if(!window.cnx){window.cnx={},window.cnx.cmd=[];var t=e.createElement("iframe");t.src="javascript:false",t.display="none",t.onload=function(){var e=t.contentWindow.document,n=e.createElement("script");n.src="//cd.connatix.com/connatix.player.js?cid=e42b69b5-eab9-4c20-81a2-0a9187783587",n.setAttribute("async","1"),n.setAttribute("type","text/javascript"),e.body.appendChild(n)},e.head.appendChild(t)}}(document);var t=document.createElement("script");t.setAttribute("language","javascript"),t.setAttribute("type","text/javascript"),t.setAttribute("id","14ca455cb990453190570af98c521b87"),t.innerHTML='(new Image()).src = \'https://capi.connatix.com/tr/si?token=bba7c7f8-144d-4703-adec-750755a09475&cid=e42b69b5-eab9-4c20-81a2-0a9187783587\';  cnx.cmd.push(function() {    cnx({      playerId: "bba7c7f8-144d-4703-adec-750755a09475"    }).render("14ca455cb990453190570af98c521b87");  });',e.appendChild(t)})}(),window.pbjs=window.pbjs||{},window.pbjs.que=window.pbjs.que||[],window.zamaf=window.zamaf||{},window.zamaf.cmd=window.zamaf.cmd||[],window.zamaf=window.zamaf||{},window.zamaf.videoInterface=new function(){var e={allowFloating:!0,primisPlayer:void 0,vidazooWidget:void 0};function t(t){e.vidazooWidget&&(t?e.vidazooWidget.enableFloat():e.vidazooWidget.disableFloat())}this.getAllowFloating=function(){return e.allowFloating},this.setFloating=function(n){window.aclreFloatingModeToggle&&window.aclreFloatingModeToggle(n),window.connatix_api&&(n?window.connatix_api.enableFloatingMode():window.connatix_api.disableFloatingMode()),t(n),e.primisPlayer&&e.primisPlayer.float(n?"enable":"disable")},this.wasMoved=function(){window.aclrePlayerMoved&&aclrePlayerMoved()},window.addEventListener("vidazooWidgetReady",(function(n){e.vidazooWidget=n.detail,e.vidazooWidget.on("closeClick",(function(){return e.allowFloating=!1})),t(WH.WAS.Video.getFloating())})),window.addEventListener("readyConfigPlayerApi",(function(e){e.detail.setConfig({floatInitialStatus:"disable"})})),window.addEventListener("primisPlayerInit",(function(t){"wowheadPrimisPlayer"===t.detail.playerApiId&&(e.primisPlayer=t.detail)}))},window.pbjs=window.pbjs||{},window.pbjs.que=window.pbjs.que||[],window.zamaf=window.zamaf||{},window.zamaf.cmd=window.zamaf.cmd||[],window.zafActivateAsteri=function(){function e(e){var t=document.createElement("div");t.setAttribute("asterilivestream_profile","96_77"),t.setAttribute("asterilivestream_width","300"),t.setAttribute("asterilivestream_height","250"),e.insertBefore(t,e.firstChild);var n=document.createElement("script");n.setAttribute("type","text/javascript"),n.setAttribute("async",""),n.src="https://asteriresearch.com/livestream-latest.min.js",e.appendChild(n)}var t;t=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=document.getElementsByClassName("sidebar")[0];r?setTimeout((function(){e(r)}),2e3):n<50&&setTimeout((function(){t(n++)}),100)},t()},window.pbjs=window.pbjs||{},window.pbjs.que=window.pbjs.que||[],window.zamaf=window.zamaf||{},window.zamaf.cmd=window.zamaf.cmd||[],window.zamaf=window.zamaf||{},window.zamaf.cmd=window.zamaf.cmd||[],window.zamaf.cmd.push((function(){pbjs.que.push((function(){pbjs.setConfig({ortb2:{site:{content:{data:[{name:"iab.com",ext:{segtax:6},segment:[{id:"680"},{id:"684"},{id:"685"},{id:"686"},{id:"687"},{id:"691"},{id:"692"},{id:"696"}]}]}}}})}))})),function(){window.pbjs=window.pbjs||{},window.pbjs.que=window.pbjs.que||[],window.zamaf=window.zamaf||{},window.zamaf.cmd=window.zamaf.cmd||[];var e=document.createElement("link");e.rel="dns-prefetch",e.href="https://c.amazon-adsystem.com",document.head.appendChild(e);var t=document.createElement("link");t.rel="preconnect",t.href="https://c.amazon-adsystem.com",t.crossOrigin="anonymous",document.head.appendChild(t);var n=document.createElement("script");n.async=!0,n.src="https://c.amazon-adsystem.com/aax2/apstag.js",document.head.appendChild(n),function(e,t,n,r,i,o,a){function s(n,r){t[e]._Q.push([n,r])}t[e]||(t[e]={init:function(){s("i",arguments)},fetchBids:function(){s("f",arguments)},setDisplayBids:function(){},targetingKeys:function(){return[]},dpa:function(){s("di",arguments)},rpa:function(){s("ri",arguments)},upa:function(){s("ui",arguments)},_Q:[]})}("apstag",window)}(),window.pbjs=window.pbjs||{},window.pbjs.que=window.pbjs.que||[],window.zamaf=window.zamaf||{},window.zamaf.cmd=window.zamaf.cmd||[],window.zamaf=window.zamaf||{},window.zamaf.cmd=window.zamaf.cmd||[],window.zamaf.cmd.push((function(){var e=WH.getPageData("pageHash")?1:0;googletag.pubads().setTargeting("userLogged",e.toString())})),window.pbjs=window.pbjs||{},window.pbjs.que=window.pbjs.que||[],window.zamaf=window.zamaf||{},window.zamaf.cmd=window.zamaf.cmd||[],function(){var e,t;if(!1===(null===(e=window.WH)||void 0===e||null===(t=e.User)||void 0===t?void 0:t.isPremium())){var n=document.createElement("script");n.type="text/javascript",n.text='!(function(o,_name){\n        o[_name]=o[_name]||function $(){($.q=$.q||[]).push(arguments)},\n        o[_name].v=o[_name].v||2;\n        !(function(o,t,e,n,c,a){\n            function f(n,c){\n                (n=(function(t,e){\n                    try {\n                        if (e=(t=o.localStorage).getItem("_aQS01RkY4RUZCOEEzOUQ2MDc4MTMxMDM3QUMtMQ")) \n                            return JSON.parse(e).lgk||[];\n                        if ((t.getItem(decodeURI(decodeURI(\'v%34a%25%36%33%2531%256%35%256%39%5ar%25%33%30\')))||"").split(",")[4]>0) \n                            return [[_name+"-engaged","true"]];\n                    } catch(n) {}\n                })()) && typeof n.forEach===e && (c=o[t].pubads()) && n.forEach((function(o){\n                    o && o[0] && c.setTargeting(o[0],o[1]||"")\n                }))\n            }\n            try {\n                (a=o[t]=o[t]||{}).cmd=a.cmd||[],\n                typeof a.pubads===e ? f() : \n                typeof a.cmd.unshift===e ? a.cmd.unshift(f) : a.cmd.push(f)\n            } catch(i) {}\n        })(window,"googletag","function");\n    })(window,decodeURI(decodeURI(\'a%64%25%36%64i%25%372%256%31%256c\')));\n\n    !(function(t,c,i){\n        i=t.createElement(c),\n        t=t.getElementsByTagName(c)[0],\n        i.async=1,\n        i.src="https://offshoregeology.com/dist/90806d25b4547/70ab6725885aa641738c82148443bb9b9.module.js",\n        t.parentNode.insertBefore(i,t)\n    })(document,"script");',document.head.appendChild(n)}}(),function(){window.pbjs=window.pbjs||{},window.pbjs.que=window.pbjs.que||[],window.zamaf=window.zamaf||{},window.zamaf.cmd=window.zamaf.cmd||[];var e=document.createElement("script");function t(e){return"adl-btn-"+e}e.src="https://tagan.adlightning.com/zam/op.js",e.defer=!0,document.getElementsByTagName("head")[0].appendChild(e);var n=function(e){var n=document.getElementById(e);if(n&&n.parentNode){var r=document.createElement("div");r.classList.add("adl-report-ad-container");var i=document.createElement("div"),o=t(e);i.id=o,i.appendChild(r),n.parentNode.insertBefore(i,n.nextElementSibling)}},r=function(e,n){var r=e&&e.slot&&"function"==typeof e.slot.getSlotElementId?e.slot.getSlotElementId():n;if(r){var i=t(r),o=i;e&&(o=e.creativeId||e.sourceAgnosticCreativeId||i);var a={adlAction:"createUserReportButton",selector:"#"+i,uniqueId:o,targetAd:r};window.postMessage(a,"*"),setTimeout((function(){var e="btn-".concat(r),t=document.getElementById(e);t&&(t.type="button")}),1)}};window.googletag=window.googletag||{cmd:[]},googletag.cmd.push((function(){googletag.pubads&&"function"==typeof googletag.pubads&&googletag.pubads().addEventListener("slotRenderEnded",(function(e){r(e)})),(Array.isArray(window.zafAdConfigs)?window.zafAdConfigs:[]).forEach((function(e){e&&e.elementId&&document.getElementById(e.elementId)&&(n(e.elementId),r(null,e.elementId))}))}))}(),function(){window.pbjs=window.pbjs||{},window.pbjs.que=window.pbjs.que||[],window.zamaf=window.zamaf||{},window.zamaf.cmd=window.zamaf.cmd||[];var e=document.createElement("style");e.setAttribute("data-zaf-style","adhesion"),e.appendChild(document.createTextNode("\n    .zaf-adhesion-container {\n      position: fixed;\n      left: 0; right: 0; bottom: 0;\n      width: 100%;\n      /* Height bound to contents (no fixed height) */\n      display: flex;\n      justify-content: center;\n      /* No background */\n      background: transparent;\n      z-index: 2147483640;\n      transform: translateY(100%);\n      opacity: 0;\n      transition: transform 0.45s cubic-bezier(0.16, 1, 0.3, 1), opacity 0.3s ease-in-out;\n      padding-bottom: env(safe-area-inset-bottom, 0);\n      pointer-events: none; /* allow clicks only on inner content */\n    }\n    .zaf-adhesion-container.zaf--in {\n      transform: translateY(0);\n      opacity: 1;\n    }\n\n    /* Inner wrapper: only as wide as its children (ad + close) */\n    .zaf-adhesion-inner {\n      display: inline-flex;\n      align-items: stretch; /* Make close button match ad unit height */\n      gap: 0px;\n      pointer-events: auto; /* re-enable interaction for contents */\n      /* Fit to content width across browsers */\n      width: -moz-fit-content;\n      width: fit-content;\n      max-width: 100vw;\n    }\n\n    /* Ad host: width dictated by its injected creative */\n    .zaf-adhesion-unit {\n      display: inline-block; /* shrink to fit content */\n      background: transparent;\n      line-height: 0; /* avoid stray baseline gaps on images/canvases */\n      background: #222;\n\t  min-height: 50px;\n\t  min-width: 300px;\n\t  max-height: 90px;\n    }\n\n    /* Close button: stretches to the ad's height */\n    .zaf-close-btn {\n      align-self: stretch;           /* stretch to inner height (ad height) */\n      display: inline-flex;\n      align-items: center;           /* center the × glyph vertically */\n      justify-content: center;\n      padding: 0 12px;               /* narrow, consistent width */\n      border: none;\n      border-radius: 8px;\n      background: rgba(255,255,255,0.9);\n      color: #111;\n      font-size: 20px;\n      line-height: 1;\n      cursor: pointer;\n      /* Prevent oversized hit area on very tall ads; cap visual width */\n      max-width: 56px;\n      box-shadow: 0 2px 8px rgba(0,0,0,0.25);\n    }\n    .zaf-close-btn:hover { background: #fff; color: #111; }\n    .zaf-close-btn:active { transform: translateY(1px); }\n\n    /* Make sure inner never overflows viewport width */\n    @media (max-width: 480px) {\n      .zaf-adhesion-inner { gap: 6px; }\n      .zaf-close-btn { max-width: 52px; }\n    }\n  ")),document.head.appendChild(e);var t=document.createElement("div");t.id="zaf-adhesion-container",t.className="zaf-adhesion-container",t.setAttribute("data-zaf-slot","true");var n=document.createElement("div");n.className="zaf-adhesion-inner";var r=/Mobi|Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?"zaf-adhesion-mobile":"zaf-adhesion-desktop",i=document.createElement("div");i.id=r,i.className="zaf-adhesion-unit",i.setAttribute("data-zaf-unit","true"),i.setAttribute("role","region"),i.setAttribute("aria-label","Advertisement");var o=document.createElement("button");o.className="zaf-close-btn",o.setAttribute("aria-label","Close advertisement"),o.textContent="×",o.addEventListener("click",(function(){t&&t.parentNode&&t.parentNode.removeChild(t);var e=document.querySelector('style[data-zaf-style="adhesion"]');e&&e.parentNode&&e.parentNode.removeChild(e)})),n.appendChild(i),n.appendChild(o),t.appendChild(n),document.body.appendChild(t),requestAnimationFrame((function(){t.classList.add("zaf--in")})),window.zafAdhesion={destroy:function(){o.click()},container:t,host:i}}(),window.Element.prototype.matches||(window.Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),window.Element.prototype.closest||(window.Element.prototype.closest=function(e){var t=this;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null}),[window.Element.prototype,window.Document.prototype,window.DocumentFragment.prototype].forEach((function(e){e.hasOwnProperty("prepend")||Object.defineProperty(e,"prepend",{configurable:!0,enumerable:!0,writable:!0,value:function(){var e=Array.prototype.slice.call(arguments),t=document.createDocumentFragment();e.forEach((function(e){var n=e instanceof Node;t.appendChild(n?e:document.createTextNode(String(e)))})),this.insertBefore(t,this.firstChild)}})})),window.Array.from||(window.Array.from=(c=Object.prototype.toString,u=function(e){return"function"==typeof e||"[object Function]"===c.call(e)},d=Math.pow(2,53)-1,l=function(e){var t=function(e){var t=Number(e);return isNaN(t)?0:0!==t&&isFinite(t)?(t>0?1:-1)*Math.floor(Math.abs(t)):t}(e);return Math.min(Math.max(t,0),d)},function(e){var t=this,n=Object(e);if(null==e)throw new TypeError("Array.from requires an array-like object - not null or undefined");var r,i=arguments.length>1?arguments[1]:void 0;if(void 0!==i){if(!u(i))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(r=arguments[2])}for(var o,a=l(n.length),s=u(t)?Object(new t(a)):new Array(a),c=0;c<a;)o=n[c],s[c]=i?void 0===r?i(o,c):i.call(r,o,c):o,c+=1;return s.length=a,s})),window.activateCMP=function(){function e(t,n){if(null!==t&&"string"!=typeof t&&"object"==typeof t&&n){if("object"==typeof t)for(var r in t)n[r]=e(t[r],n[r])}else n=t;return n}window.zamaf=window.zamaf||{},zamaf.cmd=zamaf.cmd||[],zamaf.cmd.push((function(){window.zamaf.cmpConfigurations={config_version:1,advanced_settings:!0,publicPath:"https://cmp.zam.com/",timeout:0,default_to_optin:!0,require_optout_confirm:!0,require_initial_optout_confirm:!0,locale:{localeId:"enEN_01",version:1,texts:{label_intro_heading:"Ads help us run this site",label_intro:"We use cookies to personalize content and ads, provide social media features and to analyze our site traffic. We also share information about your use of the site with our social media, advertising and analytics partners. Please visit the cookies section of our <a target='_blank' href='https://corp.fanbyte.com/legal-privacy'>privacy policy</a> for more details.",label_button_yes:"Accept and Continue",label_button_advanced_settings:"Manage Your Cookies",label_cpc_deactivate_all:"No Thanks",label_cpc_initial_deactivate_all:"No Thanks"}}},window.zamaf.customCmpConfigurations&&(window.zamaf.cmpConfigurations=e(window.zamaf.customCmpConfigurations,window.zamaf.cmpConfigurations)),window.AS_OIL||(window.AS_OIL=window.AS_OIL||{}),window.AS_OIL.CONFIG=window.zamaf.cmpConfigurations}));var t=document.createElement("style");t.type="text/css",t.innerHTML=".as-oil {height: 100vh; width: 100vw; background-color: rgba(0,0,0,0.8);}",document.getElementsByTagName("head")[0].appendChild(t),function(e,t){if(!e.__cmp){e.__cmp=function(){function n(e){if(e){var n=!0,i=t.querySelector('script[type="application/configuration"]#oil-configuration');if(null!==i&&i.text)try{var o=JSON.parse(i.text);o&&o.hasOwnProperty("gdpr_applies_globally")&&(n=o.gdpr_applies_globally)}catch(e){}e({gdprAppliesGlobally:n,cmpLoaded:r()},!0)}}function r(){return!(!e.AS_OIL||!e.AS_OIL.commandCollectionExecutor)}!function e(){if(!(t.getElementsByName("__cmpLocator").length>0))if(t.body){var n=t.createElement("iframe");n.style.display="none",n.name="__cmpLocator",t.body.appendChild(n)}else setTimeout(e,5)}();var i=[],o=function(t,o,a){if("ping"===t)n(a);else{var s={command:t,parameter:o,callback:a};i.push(s),r()&&e.AS_OIL.commandCollectionExecutor(s)}};return o.commandCollection=i,o.receiveMessage=function(t){var o=t&&t.data,a="string"==typeof o;if(o=a&&-1!==o.indexOf("__cmpCall")?JSON.parse(o).__cmpCall:o.__cmpCall)if("ping"===o.command)n((function(e,n){var r={__cmpReturn:{returnValue:e,success:n,callId:o.callId}};t.source.postMessage(a?JSON.stringify(r):r,t.origin)}));else{var s={callId:o.callId,command:o.command,parameter:o.parameter,event:t};i.push(s),r()&&e.AS_OIL.commandCollectionExecutor(s)}},function(t){var n=e.addEventListener||e.attachEvent;n("attachEvent"===n?"onmessage":"message",(function(e){t.receiveMessage(e)}),!1)}(o),o}();var n=t.createElement("script");n.async=!1,n.src="https://cmp.zam.com/cmp.bundle.js",t.getElementsByTagName("head")[0].appendChild(n)}}(window,document)},function(){var e=function(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(e){return}}();function t(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(i){if("TypeError"!==i.name)throw i;for(var n=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),r=0;r<e.length;r+=1)n.append(e[r]);return n.getBlob(t.type)}}"undefined"==typeof Promise&&require("lie/polyfill");var n=Promise;function r(e,t){t&&e.then((function(e){t(null,e)}),(function(e){t(e)}))}function i(e,t,n){"function"==typeof t&&e.then(t),"function"==typeof n&&e.catch(n)}function a(e){return"string"!=typeof e&&(e=String(e)),e}function s(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var c,u="local-forage-detect-blob-support",d={},l=Object.prototype.toString,f="readonly",p="readwrite";function m(e){return"boolean"==typeof c?n.resolve(c):function(e){return new n((function(n){var r=e.transaction(u,p),i=t([""]);r.objectStore(u).put(i,"key"),r.onabort=function(e){e.preventDefault(),e.stopPropagation(),n(!1)},r.oncomplete=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),t=navigator.userAgent.match(/Edge\//);n(t||!e||parseInt(e[1],10)>=43)}})).catch((function(){return!1}))}(e).then((function(e){return c=e}))}function v(e){var t=d[e.name],r={};r.promise=new n((function(e,t){r.resolve=e,r.reject=t})),t.deferredOperations.push(r),t.dbReady?t.dbReady=t.dbReady.then((function(){return r.promise})):t.dbReady=r.promise}function g(e){var t=d[e.name].deferredOperations.pop();if(t)return t.resolve(),t.promise}function h(e,t){var n=d[e.name].deferredOperations.pop();if(n)return n.reject(t),n.promise}function b(t,r){return new n((function(n,i){if(d[t.name]=d[t.name]||{forages:[],db:null,dbReady:null,deferredOperations:[]},t.db){if(!r)return n(t.db);v(t),t.db.close()}var o=[t.name];r&&o.push(t.version);var a=e.open.apply(e,o);r&&(a.onupgradeneeded=function(e){var n=a.result;try{n.createObjectStore(t.storeName),e.oldVersion<=1&&n.createObjectStore(u)}catch(e){if("ConstraintError"!==e.name)throw e}}),a.onerror=function(e){e.preventDefault(),i(a.error)},a.onsuccess=function(){var e=a.result;e.onversionchange=function(e){e.target.close()},n(e),g(t)}}))}function y(e){return b(e,!1)}function w(e){return b(e,!0)}function I(e,t){if(!e.db)return!0;var n=!e.db.objectStoreNames.contains(e.storeName),r=e.version<e.db.version,i=e.version>e.db.version;if(r&&(e.version,e.version=e.db.version),i||n){if(n){var o=e.db.version+1;o>e.version&&(e.version=o)}return!0}return!1}function _(e){var n=function(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),i=0;i<t;i++)r[i]=e.charCodeAt(i);return n}(atob(e.data));return t([n],{type:e.type})}function C(e){return e&&e.__local_forage_encoded_blob}function S(e){var t=this,n=t._initReady().then((function(){var e=d[t._dbInfo.name];if(e&&e.dbReady)return e.dbReady}));return i(n,e,e),n}function x(e,t,r,i){void 0===i&&(i=1);try{var o=e.db.transaction(e.storeName,t);r(null,o)}catch(o){if(i>0&&(!e.db||"InvalidStateError"===o.name||"NotFoundError"===o.name))return n.resolve().then((function(){if(!e.db||"NotFoundError"===o.name&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),w(e)})).then((function(){return function(e){v(e);for(var t=d[e.name],n=t.forages,r=0;r<n.length;r++){var i=n[r];i._dbInfo.db&&(i._dbInfo.db.close(),i._dbInfo.db=null)}return e.db=null,y(e).then((function(t){return e.db=t,I(e)?w(e):t})).then((function(r){e.db=t.db=r;for(var i=0;i<n.length;i++)n[i]._dbInfo.db=r})).catch((function(t){throw h(e,t),t}))}(e).then((function(){x(e,t,r,i-1)}))})).catch(r);r(o)}}var A={_driver:"asyncStorage",_initStorage:function(e){var t=this,r={db:null};if(e)for(var i in e)r[i]=e[i];var o=d[r.name];o||(o={forages:[],db:null,dbReady:null,deferredOperations:[]},d[r.name]=o),o.forages.push(t),t._initReady||(t._initReady=t.ready,t.ready=S);var a=[];function s(){return n.resolve()}for(var c=0;c<o.forages.length;c++){var u=o.forages[c];u!==t&&a.push(u._initReady().catch(s))}var l=o.forages.slice(0);return n.all(a).then((function(){return r.db=o.db,y(r)})).then((function(e){return r.db=e,I(r,t._defaultConfig.version)?w(r):e})).then((function(e){r.db=o.db=e,t._dbInfo=r;for(var n=0;n<l.length;n++){var i=l[n];i!==t&&(i._dbInfo.db=r.db,i._dbInfo.version=r.version)}}))},_support:function(){try{if(!e||!e.open)return!1;var t="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),n="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!t||n)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(e){return!1}}(),iterate:function(e,t){var i=this,o=new n((function(t,n){i.ready().then((function(){x(i._dbInfo,f,(function(r,o){if(r)return n(r);try{var a=o.objectStore(i._dbInfo.storeName).openCursor(),s=1;a.onsuccess=function(){var n=a.result;if(n){var r=n.value;C(r)&&(r=_(r));var i=e(r,n.key,s++);void 0!==i?t(i):n.continue()}else t()},a.onerror=function(){n(a.error)}}catch(e){n(e)}}))})).catch(n)}));return r(o,t),o},getItem:function(e,t){var i=this;e=a(e);var o=new n((function(t,n){i.ready().then((function(){x(i._dbInfo,f,(function(r,o){if(r)return n(r);try{var a=o.objectStore(i._dbInfo.storeName).get(e);a.onsuccess=function(){var e=a.result;void 0===e&&(e=null),C(e)&&(e=_(e)),t(e)},a.onerror=function(){n(a.error)}}catch(e){n(e)}}))})).catch(n)}));return r(o,t),o},setItem:function(e,t,i){var o=this;e=a(e);var s=new n((function(r,i){var a;o.ready().then((function(){return a=o._dbInfo,"[object Blob]"===l.call(t)?m(a.db).then((function(e){return e?t:(r=t,new n((function(e,t){var n=new FileReader;n.onerror=t,n.onloadend=function(t){var n=btoa(t.target.result||"");e({__local_forage_encoded_blob:!0,data:n,type:r.type})},n.readAsBinaryString(r)})));var r})):t})).then((function(t){x(o._dbInfo,p,(function(n,a){if(n)return i(n);try{var s=a.objectStore(o._dbInfo.storeName);null===t&&(t=void 0);var c=s.put(t,e);a.oncomplete=function(){void 0===t&&(t=null),r(t)},a.onabort=a.onerror=function(){var e=c.error?c.error:c.transaction.error;i(e)}}catch(e){i(e)}}))})).catch(i)}));return r(s,i),s},removeItem:function(e,t){var i=this;e=a(e);var o=new n((function(t,n){i.ready().then((function(){x(i._dbInfo,p,(function(r,o){if(r)return n(r);try{var a=o.objectStore(i._dbInfo.storeName).delete(e);o.oncomplete=function(){t()},o.onerror=function(){n(a.error)},o.onabort=function(){var e=a.error?a.error:a.transaction.error;n(e)}}catch(e){n(e)}}))})).catch(n)}));return r(o,t),o},clear:function(e){var t=this,i=new n((function(e,n){t.ready().then((function(){x(t._dbInfo,p,(function(r,i){if(r)return n(r);try{var o=i.objectStore(t._dbInfo.storeName).clear();i.oncomplete=function(){e()},i.onabort=i.onerror=function(){var e=o.error?o.error:o.transaction.error;n(e)}}catch(e){n(e)}}))})).catch(n)}));return r(i,e),i},length:function(e){var t=this,i=new n((function(e,n){t.ready().then((function(){x(t._dbInfo,f,(function(r,i){if(r)return n(r);try{var o=i.objectStore(t._dbInfo.storeName).count();o.onsuccess=function(){e(o.result)},o.onerror=function(){n(o.error)}}catch(e){n(e)}}))})).catch(n)}));return r(i,e),i},key:function(e,t){var i=this,o=new n((function(t,n){e<0?t(null):i.ready().then((function(){x(i._dbInfo,f,(function(r,o){if(r)return n(r);try{var a=o.objectStore(i._dbInfo.storeName),s=!1,c=a.openKeyCursor();c.onsuccess=function(){var n=c.result;n?0===e||s?t(n.key):(s=!0,n.advance(e)):t(null)},c.onerror=function(){n(c.error)}}catch(e){n(e)}}))})).catch(n)}));return r(o,t),o},keys:function(e){var t=this,i=new n((function(e,n){t.ready().then((function(){x(t._dbInfo,f,(function(r,i){if(r)return n(r);try{var o=i.objectStore(t._dbInfo.storeName).openKeyCursor(),a=[];o.onsuccess=function(){var t=o.result;t?(a.push(t.key),t.continue()):e(a)},o.onerror=function(){n(o.error)}}catch(e){n(e)}}))})).catch(n)}));return r(i,e),i},dropInstance:function(t,i){i=s.apply(this,arguments);var o=this.config();(t="function"!=typeof t&&t||{}).name||(t.name=t.name||o.name,t.storeName=t.storeName||o.storeName);var a,c=this;if(t.name){var u=t.name===o.name&&c._dbInfo.db,l=u?n.resolve(c._dbInfo.db):y(t).then((function(e){var n=d[t.name],r=n.forages;n.db=e;for(var i=0;i<r.length;i++)r[i]._dbInfo.db=e;return e}));a=t.storeName?l.then((function(r){if(r.objectStoreNames.contains(t.storeName)){var i=r.version+1;v(t);var o=d[t.name],a=o.forages;r.close();for(var s=0;s<a.length;s++){var c=a[s];c._dbInfo.db=null,c._dbInfo.version=i}var u=new n((function(n,r){var o=e.open(t.name,i);o.onerror=function(e){o.result.close(),r(e)},o.onupgradeneeded=function(){o.result.deleteObjectStore(t.storeName)},o.onsuccess=function(){var e=o.result;e.close(),n(e)}}));return u.then((function(e){o.db=e;for(var t=0;t<a.length;t++){var n=a[t];n._dbInfo.db=e,g(n._dbInfo)}})).catch((function(e){throw(h(t,e)||n.resolve()).catch((function(){})),e}))}})):l.then((function(r){v(t);var i=d[t.name],o=i.forages;r.close();for(var a=0;a<o.length;a++)o[a]._dbInfo.db=null;var s=new n((function(n,r){var i=e.deleteDatabase(t.name);i.onerror=function(){var e=i.result;e&&e.close(),r(i.error)},i.onblocked=function(){},i.onsuccess=function(){var e=i.result;e&&e.close(),n(e)}}));return s.then((function(e){i.db=e;for(var t=0;t<o.length;t++)g(o[t]._dbInfo)})).catch((function(e){throw(h(t,e)||n.resolve()).catch((function(){})),e}))}))}else a=n.reject("Invalid arguments");return r(a,i),a}},E="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",T=/^~~local_forage_type~([^~]+)~/,O="__lfsc__:",k=O.length,j="arbf",R="blob",z="si08",P="ui08",B="uic8",D="si16",U="si32",N="ur16",F="ui32",M="fl32",q="fl64",L=k+j.length,W=Object.prototype.toString;function H(e){var t,n,r,i,o,a=.75*e.length,s=e.length,c=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var u=new ArrayBuffer(a),d=new Uint8Array(u);for(t=0;t<s;t+=4)n=E.indexOf(e[t]),r=E.indexOf(e[t+1]),i=E.indexOf(e[t+2]),o=E.indexOf(e[t+3]),d[c++]=n<<2|r>>4,d[c++]=(15&r)<<4|i>>2,d[c++]=(3&i)<<6|63&o;return u}function V(e){var t,n=new Uint8Array(e),r="";for(t=0;t<n.length;t+=3)r+=E[n[t]>>2],r+=E[(3&n[t])<<4|n[t+1]>>4],r+=E[(15&n[t+1])<<2|n[t+2]>>6],r+=E[63&n[t+2]];return n.length%3==2?r=r.substring(0,r.length-1)+"=":n.length%3==1&&(r=r.substring(0,r.length-2)+"=="),r}var G={serialize:function(e,t){var n="";if(e&&(n=W.call(e)),e&&("[object ArrayBuffer]"===n||e.buffer&&"[object ArrayBuffer]"===W.call(e.buffer))){var r,i=O;e instanceof ArrayBuffer?(r=e,i+=j):(r=e.buffer,"[object Int8Array]"===n?i+=z:"[object Uint8Array]"===n?i+=P:"[object Uint8ClampedArray]"===n?i+=B:"[object Int16Array]"===n?i+=D:"[object Uint16Array]"===n?i+=N:"[object Int32Array]"===n?i+=U:"[object Uint32Array]"===n?i+=F:"[object Float32Array]"===n?i+=M:"[object Float64Array]"===n?i+=q:t(new Error("Failed to get type for BinaryArray"))),t(i+V(r))}else if("[object Blob]"===n){var o=new FileReader;o.onload=function(){var n="~~local_forage_type~"+e.type+"~"+V(this.result);t("__lfsc__:blob"+n)},o.readAsArrayBuffer(e)}else try{t(JSON.stringify(e))}catch(n){console.error("Couldn't convert value into a JSON string: ",e),t(null,n)}},deserialize:function(e){if(e.substring(0,k)!==O)return JSON.parse(e);var n,r=e.substring(L),i=e.substring(k,L);if(i===R&&T.test(r)){var o=r.match(T);n=o[1],r=r.substring(o[0].length)}var a=H(r);switch(i){case j:return a;case R:return t([a],{type:n});case z:return new Int8Array(a);case P:return new Uint8Array(a);case B:return new Uint8ClampedArray(a);case D:return new Int16Array(a);case N:return new Uint16Array(a);case U:return new Int32Array(a);case F:return new Uint32Array(a);case M:return new Float32Array(a);case q:return new Float64Array(a);default:throw new Error("Unkown type: "+i)}},stringToBuffer:H,bufferToString:V};function $(e,t,n,r){e.executeSql("CREATE TABLE IF NOT EXISTS ".concat(t.storeName," ")+"(id INTEGER PRIMARY KEY, key unique, value)",[],n,r)}function J(e,t,n,r,i,o){e.executeSql(n,r,i,(function(e,a){a.code===a.SYNTAX_ERR?e.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[t.storeName],(function(e,s){s.rows.length?o(e,a):$(e,t,(function(){e.executeSql(n,r,i,o)}),o)}),o):o(e,a)}),o)}function X(e,t,i,o){var s=this;e=a(e);var c=new n((function(n,r){s.ready().then((function(){void 0===t&&(t=null);var a=t,c=s._dbInfo;c.serializer.serialize(t,(function(t,u){u?r(u):c.db.transaction((function(i){J(i,c,"INSERT OR REPLACE INTO ".concat(c.storeName," ")+"(key, value) VALUES (?, ?)",[e,t],(function(){n(a)}),(function(e,t){r(t)}))}),(function(t){if(t.code===t.QUOTA_ERR){if(o>0)return void n(X.apply(s,[e,a,i,o-1]));r(t)}}))}))})).catch(r)}));return r(c,i),c}function Q(e){return new n((function(t,n){e.transaction((function(r){r.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],(function(n,r){for(var i=[],o=0;o<r.rows.length;o++)i.push(r.rows.item(o).name);t({db:e,storeNames:i})}),(function(e,t){n(t)}))}),(function(e){n(e)}))}))}var K={_driver:"webSQLStorage",_initStorage:function(e){var t=this,r={db:null};if(e)for(var i in e)r[i]="string"!=typeof e[i]?e[i].toString():e[i];var o=new n((function(e,n){try{r.db=openDatabase(r.name,String(r.version),r.description,r.size)}catch(e){return n(e)}r.db.transaction((function(i){$(i,r,(function(){t._dbInfo=r,e()}),(function(e,t){n(t)}))}),n)}));return r.serializer=G,o},_support:"function"==typeof openDatabase,iterate:function(e,t){var i=this,o=new n((function(t,n){i.ready().then((function(){var r=i._dbInfo;r.db.transaction((function(i){J(i,r,"SELECT * FROM ".concat(r.storeName),[],(function(n,i){for(var o=i.rows,a=o.length,s=0;s<a;s++){var c=o.item(s),u=c.value;if(u&&(u=r.serializer.deserialize(u)),void 0!==(u=e(u,c.key,s+1)))return void t(u)}t()}),(function(e,t){n(t)}))}))})).catch(n)}));return r(o,t),o},getItem:function(e,t){var i=this;e=a(e);var o=new n((function(t,n){i.ready().then((function(){var r=i._dbInfo;r.db.transaction((function(i){J(i,r,"SELECT * FROM ".concat(r.storeName," WHERE key = ? LIMIT 1"),[e],(function(e,n){var i=n.rows.length?n.rows.item(0).value:null;i&&(i=r.serializer.deserialize(i)),t(i)}),(function(e,t){n(t)}))}))})).catch(n)}));return r(o,t),o},setItem:function(e,t,n){return X.apply(this,[e,t,n,1])},removeItem:function(e,t){var i=this;e=a(e);var o=new n((function(t,n){i.ready().then((function(){var r=i._dbInfo;r.db.transaction((function(i){J(i,r,"DELETE FROM ".concat(r.storeName," WHERE key = ?"),[e],(function(){t()}),(function(e,t){n(t)}))}))})).catch(n)}));return r(o,t),o},clear:function(e){var t=this,i=new n((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){J(t,r,"DELETE FROM ".concat(r.storeName),[],(function(){e()}),(function(e,t){n(t)}))}))})).catch(n)}));return r(i,e),i},length:function(e){var t=this,i=new n((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){J(t,r,"SELECT COUNT(key) as c FROM ".concat(r.storeName),[],(function(t,n){var r=n.rows.item(0).c;e(r)}),(function(e,t){n(t)}))}))})).catch(n)}));return r(i,e),i},key:function(e,t){var i=this,o=new n((function(t,n){i.ready().then((function(){var r=i._dbInfo;r.db.transaction((function(i){J(i,r,"SELECT key FROM ".concat(r.storeName," WHERE id = ? LIMIT 1"),[e+1],(function(e,n){var r=n.rows.length?n.rows.item(0).key:null;t(r)}),(function(e,t){n(t)}))}))})).catch(n)}));return r(o,t),o},keys:function(e){var t=this,i=new n((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){J(t,r,"SELECT key FROM ".concat(r.storeName),[],(function(t,n){for(var r=[],i=0;i<n.rows.length;i++)r.push(n.rows.item(i).key);e(r)}),(function(e,t){n(t)}))}))})).catch(n)}));return r(i,e),i},dropInstance:function(e,t){t=s.apply(this,arguments);var i=this.config();(e="function"!=typeof e&&e||{}).name||(e.name=e.name||i.name,e.storeName=e.storeName||i.storeName);var o,a=this;return r(o=e.name?new n((function(t){var n;n=e.name===i.name?a._dbInfo.db:openDatabase(e.name,"","",0),e.storeName?t({db:n,storeNames:[e.storeName]}):t(Q(n))})).then((function(e){return new n((function(t,r){e.db.transaction((function(i){function o(e){return new n((function(t,n){i.executeSql("DROP TABLE IF EXISTS ".concat(e),[],(function(){t()}),(function(e,t){n(t)}))}))}for(var a=[],s=0,c=e.storeNames.length;s<c;s++)a.push(o(e.storeNames[s]));n.all(a).then((function(){t()})).catch((function(e){r(e)}))}),(function(e){r(e)}))}))})):n.reject("Invalid arguments"),t),o}};function Y(e,t){var n=e.name+"/";return e.storeName!==t.storeName&&(n+=e.storeName+"/"),n}function Z(){return!function(){var e="_localforage_support_test";try{return localStorage.setItem(e,!0),localStorage.removeItem(e),!1}catch(e){return!0}}()||localStorage.length>0}var ee={_driver:"localStorageWrapper",_initStorage:function(e){var t={};if(e)for(var r in e)t[r]=e[r];return t.keyPrefix=Y(e,this._defaultConfig),Z()?(this._dbInfo=t,t.serializer=G,n.resolve()):n.reject()},_support:function(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(e){return!1}}(),iterate:function(e,t){var n=this,i=n.ready().then((function(){for(var t=n._dbInfo,r=t.keyPrefix,i=r.length,o=localStorage.length,a=1,s=0;s<o;s++){var c=localStorage.key(s);if(0===c.indexOf(r)){var u=localStorage.getItem(c);if(u&&(u=t.serializer.deserialize(u)),void 0!==(u=e(u,c.substring(i),a++)))return u}}}));return r(i,t),i},getItem:function(e,t){var n=this;e=a(e);var i=n.ready().then((function(){var t=n._dbInfo,r=localStorage.getItem(t.keyPrefix+e);return r&&(r=t.serializer.deserialize(r)),r}));return r(i,t),i},setItem:function(e,t,i){var o=this;e=a(e);var s=o.ready().then((function(){void 0===t&&(t=null);var r=t;return new n((function(n,i){var a=o._dbInfo;a.serializer.serialize(t,(function(t,o){if(o)i(o);else try{localStorage.setItem(a.keyPrefix+e,t),n(r)}catch(e){"QuotaExceededError"!==e.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==e.name||i(e),i(e)}}))}))}));return r(s,i),s},removeItem:function(e,t){var n=this;e=a(e);var i=n.ready().then((function(){var t=n._dbInfo;localStorage.removeItem(t.keyPrefix+e)}));return r(i,t),i},clear:function(e){var t=this,n=t.ready().then((function(){for(var e=t._dbInfo.keyPrefix,n=localStorage.length-1;n>=0;n--){var r=localStorage.key(n);0===r.indexOf(e)&&localStorage.removeItem(r)}}));return r(n,e),n},length:function(e){var t=this.keys().then((function(e){return e.length}));return r(t,e),t},key:function(e,t){var n=this,i=n.ready().then((function(){var t,r=n._dbInfo;try{t=localStorage.key(e)}catch(e){t=null}return t&&(t=t.substring(r.keyPrefix.length)),t}));return r(i,t),i},keys:function(e){var t=this,n=t.ready().then((function(){for(var e=t._dbInfo,n=localStorage.length,r=[],i=0;i<n;i++){var o=localStorage.key(i);0===o.indexOf(e.keyPrefix)&&r.push(o.substring(e.keyPrefix.length))}return r}));return r(n,e),n},dropInstance:function(e,t){if(t=s.apply(this,arguments),!(e="function"!=typeof e&&e||{}).name){var i=this.config();e.name=e.name||i.name,e.storeName=e.storeName||i.storeName}var o,a=this;return o=e.name?new n((function(t){e.storeName?t(Y(e,a._defaultConfig)):t("".concat(e.name,"/"))})).then((function(e){for(var t=localStorage.length-1;t>=0;t--){var n=localStorage.key(t);0===n.indexOf(e)&&localStorage.removeItem(n)}})):n.reject("Invalid arguments"),r(o,t),o}},te=function(e,t){for(var n,r,i=e.length,o=0;o<i;){if((n=e[o])===(r=t)||"number"==typeof n&&"number"==typeof r&&isNaN(n)&&isNaN(r))return!0;o++}return!1},ne=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},re={},ie={},oe={INDEXEDDB:A,WEBSQL:K,LOCALSTORAGE:ee},ae=[oe.INDEXEDDB._driver,oe.WEBSQL._driver,oe.LOCALSTORAGE._driver],se=["dropInstance"],ce=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(se),ue={description:"",driver:ae.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function de(e,t){e[t]=function(){var n=arguments;return e.ready().then((function(){return e[t].apply(e,n)}))}}function le(){for(var e=1;e<arguments.length;e++){var t=arguments[e];if(t)for(var n in t)t.hasOwnProperty(n)&&(ne(t[n])?arguments[0][n]=t[n].slice():arguments[0][n]=t[n])}return arguments[0]}class fe{constructor(e){for(var t in oe)if(oe.hasOwnProperty(t)){var n=oe[t],r=n._driver;this[t]=r,re[r]||this.defineDriver(n)}this._defaultConfig=le({},ue),this._config=le({},this._defaultConfig,e),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch((function(){}))}config(e){if("object"==typeof e){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var t in e){if("storeName"===t&&(e[t]=e[t].replace(/\W/g,"_")),"version"===t&&"number"!=typeof e[t])return new Error("Database version must be a number.");this._config[t]=e[t]}return!("driver"in e)||!e.driver||this.setDriver(this._config.driver)}return"string"==typeof e?this._config[e]:this._config}defineDriver(e,t,o){var a=new n((function(t,i){try{var o=e._driver,a=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!e._driver)return void i(a);for(var s=ce.concat("_initStorage"),c=0,u=s.length;c<u;c++){var d=s[c];if((!te(se,d)||e[d])&&"function"!=typeof e[d])return void i(a)}!function(){for(var t=function(e){return function(){var t=new Error("Method ".concat(e," is not implemented by the current driver")),i=n.reject(t);return r(i,arguments[arguments.length-1]),i}},i=0,o=se.length;i<o;i++){var a=se[i];e[a]||(e[a]=t(a))}}();var l=function(n){re[o]&&console.info("Redefining LocalForage driver: ".concat(o)),re[o]=e,ie[o]=n,t()};"_support"in e?e._support&&"function"==typeof e._support?e._support().then(l,i):l(!!e._support):l(!0)}catch(e){i(e)}}));return i(a,t,o),a}driver(){return this._driver||null}getDriver(e,t,r){var o=re[e]?n.resolve(re[e]):n.reject(new Error("Driver not found."));return i(o,t,r),o}getSerializer(e){var t=n.resolve(G);return i(t,e),t}ready(e){var t=this,n=t._driverSet.then((function(){return null===t._ready&&(t._ready=t._initDriver()),t._ready}));return i(n,e,e),n}setDriver(e,t,r){var o=this;ne(e)||(e=[e]);var a=this._getSupportedDrivers(e);function s(){o._config.driver=o.driver()}function c(e){return o._extend(e),s(),o._ready=o._initStorage(o._config),o._ready}var u=null!==this._driverSet?this._driverSet.catch((function(){return n.resolve()})):n.resolve();return this._driverSet=u.then((function(){var e=a[0];return o._dbInfo=null,o._ready=null,o.getDriver(e).then((function(e){o._driver=e._driver,s(),o._wrapLibraryMethodsWithReady(),o._initDriver=function(e){return function(){var t=0;return function r(){for(;t<e.length;){var i=e[t];return t++,o._dbInfo=null,o._ready=null,o.getDriver(i).then(c).catch(r)}s();var a=new Error("No available storage method found.");return o._driverSet=n.reject(a),o._driverSet}()}}(a)}))})).catch((function(){s();var e=new Error("No available storage method found.");return o._driverSet=n.reject(e),o._driverSet})),i(this._driverSet,t,r),this._driverSet}supports(e){return!!ie[e]}_extend(e){le(this,e)}_getSupportedDrivers(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];this.supports(i)&&t.push(i)}return t}_wrapLibraryMethodsWithReady(){for(var e=0,t=ce.length;e<t;e++)de(this,ce[e])}createInstance(e){return new fe(e)}}function pe(e){var t=e+"=",n=decodeURIComponent(document.cookie).split(";").map((function(e){return e.trim()})).find((function(e){return 0==e.indexOf(t)}));return n?n.substring(t.length):""}new fe;var me="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};function ve(){throw new Error("setTimeout has not been defined")}function ge(){throw new Error("clearTimeout has not been defined")}var he=ve,be=ge;function ye(e){if(he===setTimeout)return setTimeout(e,0);if((he===ve||!he)&&setTimeout)return he=setTimeout,setTimeout(e,0);try{return he(e,0)}catch(t){try{return he.call(null,e,0)}catch(t){return he.call(this,e,0)}}}"function"==typeof me.setTimeout&&(he=setTimeout),"function"==typeof me.clearTimeout&&(be=clearTimeout);var we,Ie=[],_e=!1,Ce=-1;function Se(){_e&&we&&(_e=!1,we.length?Ie=we.concat(Ie):Ce=-1,Ie.length&&xe())}function xe(){if(!_e){var e=ye(Se);_e=!0;for(var t=Ie.length;t;){for(we=Ie,Ie=[];++Ce<t;)we&&we[Ce].run();Ce=-1,t=Ie.length}we=null,_e=!1,function(e){if(be===clearTimeout)return clearTimeout(e);if((be===ge||!be)&&clearTimeout)return be=clearTimeout,clearTimeout(e);try{be(e)}catch(t){try{return be.call(null,e)}catch(t){return be.call(this,e)}}}(e)}}function Ae(e,t){this.fun=e,this.array=t}function Ee(){}Ae.prototype.run=function(){this.fun.apply(null,this.array)};var Te,Oe,ke=Ee,je=Ee,Re=Ee,ze=Ee,Pe=Ee,Be=Ee,De=Ee,Ue=me.performance||{},Ne=Ue.now||Ue.mozNow||Ue.msNow||Ue.oNow||Ue.webkitNow||function(){return(new Date).getTime()},Fe=new Date,Me={nextTick:function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];Ie.push(new Ae(e,t)),1!==Ie.length||_e||ye(xe)},title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:ke,addListener:je,once:Re,off:ze,removeListener:Pe,removeAllListeners:Be,emit:De,binding:function(e){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(e){throw new Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(e){var t=.001*Ne.call(Ue),n=Math.floor(t),r=Math.floor(t%1*1e9);return e&&(n-=e[0],(r-=e[1])<0&&(n--,r+=1e9)),[n,r]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-Fe)/1e3}},qe={exports:{}};function Le(){if(Oe)return Te;Oe=1;var e=1e3,t=60*e,n=60*t,r=24*n,i=7*r,o=365.25*r;function a(e,t,n,r){var i=t>=1.5*n;return Math.round(e/n)+" "+r+(i?"s":"")}return Te=function(s,c){c=c||{};var u=typeof s;if("string"===u&&s.length>0)return function(a){if(!((a=String(a)).length>100)){var s=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(a);if(s){var c=parseFloat(s[1]);switch((s[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return c*o;case"weeks":case"week":case"w":return c*i;case"days":case"day":case"d":return c*r;case"hours":case"hour":case"hrs":case"hr":case"h":return c*n;case"minutes":case"minute":case"mins":case"min":case"m":return c*t;case"seconds":case"second":case"secs":case"sec":case"s":return c*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return c;default:return}}}}(s);if("number"===u&&isFinite(s))return c.long?function(i){var o=Math.abs(i);return o>=r?a(i,o,r,"day"):o>=n?a(i,o,n,"hour"):o>=t?a(i,o,t,"minute"):o>=e?a(i,o,e,"second"):i+" ms"}(s):function(i){var o=Math.abs(i);return o>=r?Math.round(i/r)+"d":o>=n?Math.round(i/n)+"h":o>=t?Math.round(i/t)+"m":o>=e?Math.round(i/e)+"s":i+"ms"}(s);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(s))}}var We,He,Ve=function(e){function t(e){var r,i,o,a=null;function s(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];if(s.enabled){var o=s,a=Number(new Date),c=a-(r||a);o.diff=c,o.prev=r,o.curr=a,r=a,n[0]=t.coerce(n[0]),"string"!=typeof n[0]&&n.unshift("%O");var u=0;n[0]=n[0].replace(/%([a-zA-Z%])/g,(function(e,r){if("%%"===e)return"%";u++;var i=t.formatters[r];if("function"==typeof i){var a=n[u];e=i.call(o,a),n.splice(u,1),u--}return e})),t.formatArgs.call(o,n);var d=o.log||t.log;d.apply(o,n)}}return s.namespace=e,s.useColors=t.useColors(),s.color=t.selectColor(e),s.extend=n,s.destroy=t.destroy,Object.defineProperty(s,"enabled",{enumerable:!0,configurable:!1,get:function(){return null!==a?a:(i!==t.namespaces&&(i=t.namespaces,o=t.enabled(e)),o)},set:function(e){a=e}}),"function"==typeof t.init&&t.init(s),s}function n(e,n){var r=t(this.namespace+(void 0===n?":":n)+e);return r.log=this.log,r}function r(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){var e=[].concat(o(t.names.map(r)),o(t.skips.map(r).map((function(e){return"-"+e})))).join(",");return t.enable(""),e},t.enable=function(e){var n;t.save(e),t.namespaces=e,t.names=[],t.skips=[];var r=("string"==typeof e?e:"").split(/[\s,]+/),i=r.length;for(n=0;n<i;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.slice(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=Le(),t.destroy=function(){},Object.keys(e).forEach((function(n){t[n]=e[n]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){for(var n=0,r=0;r<e.length;r++)n=(n<<5)-n+e.charCodeAt(r),n|=0;return t.colors[Math.abs(n)%t.colors.length]},t.enable(t.load()),t};function Ge(){var e=function(){var e={},t=document.cookie.split(";").map((function(e){return e.trim().split("=").map(decodeURIComponent)}));for(var n in t){var r=t[n];try{e[r[0]]=JSON.parse(r[1])}catch(t){e[r[0]]=r[1]}}return e}(),t=e.usconsent?"selected":"",n="1YNY"==e.usconsent,r=n?"zaf-btn-optin":"zaf-btn-optout",i=n?"zaf-btn-optout":"zaf-btn-optin",o=document.getElementById(r),a=document.getElementById(i);o.className=t,a.className=""}function $e(){var e=window.zamaf&&window.zamaf.ccpa_referrer?window.encodeURI(window.zamaf.ccpa_referrer):window.encodeURI(window.location.protocol+"//"+window.location.host+"/"),t=document.createElement("div");t.innerHTML=function(e){var t=e.referrer;return'\n<div id="ccpaModel" class="ccpa-modal">\n  <div class="ccpa-modal-content">\n    <span class="ccpa-close">&times;</span>\n    <p>Are you sure you would like to opt out?</p>\n    <p class="ccpa-pp">\n      <a target="_blank" rel="noopener noreferrer" href="http://corp.fanbyte.com/legal/privacy?zaf_referrer='.concat(t,'">\n        Privacy Policy\n      </a>\n    </p>\n    <p class="ccpa-buttons">\n      <button id="zaf-btn-optin" onclick="javascript:ccpaConsent(true)" >Opt in</button>\n      <button id="zaf-btn-optout" onclick="javascript:ccpaConsent(false)" >Opt out</button>\n    </p>\n  </div>\n\n</div>\n')}({referrer:e}),document.body.appendChild(t);var n=function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(location.search);return null===t?"":decodeURIComponent(t[1].replace(/\+/g," "))}("zaf_ccpa"),r="string"==typeof t.style.grid?"grid":"block",i=document.createElement("style");i.innerHTML="\n.ccpa-modal {\n  display: ".concat(n?r:"none",";\n  position: fixed;\n  z-index: 999999;\n  padding-top: 100px;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  overflow: auto;\n  background-color: rgb(0,0,0);\n  background-color: rgba(0,0,0,0.4);\n  font-family: arial;\n}\n\n.ccpa-modal p {\n  padding: 20px;\n}\n\n.ccpa-modal-content {\n  background-color: #fefefe;\n  margin: auto;\n  padding: 20px;\n  border: 1px solid #888;\n  max-width: 80%;\n  width: 600px;\n}\n\n.ccpa-close {\n  color: #aaaaaa;\n  float: right;\n  font-size: 28px;\n  font-weight: bold;\n}\n\n.ccpa-close:hover,\n.ccpa-close:focus {\n  color: #000;\n  text-decoration: none;\n  cursor: pointer;\n}\n\n.ccpa-modal p.ccpa-buttons {\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  padding: 10px;\n}\n\n.ccpa-buttons button {\n  margin: 10px;\n  font-family: arial;\n  padding: 10px;\n  background-color: #ccc;\n  color: #ea4c41;\n}\n\n.ccpa-buttons button.selected {\n  background-color: #ea4c41;\n  color: #fff\n}\n\n.ccpa-modal p.ccpa-pp {\n  padding-bottom: 0;\n  padding-top: 0;\n  text-align: right;\n  font-size: 16px;\n  text-decoration: underline;\n}\n\n"),document.head.appendChild(i),Ge();var o=document.getElementById("ccpaModel"),a=document.getElementsByClassName("ccpa-close")[0];window.ccpaShowDialog=function(){o.style.display=r,Ge()},a.onclick=function(){o.style.display="none"},window.onclick=function(e){e.target==o&&(o.style.display="none")},window.ccpaModal=o}We=qe,(He=qe.exports).formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+We.exports.humanize(this.diff),this.useColors){var t="color: "+this.color;e.splice(1,0,t,"color: inherit");var n=0,r=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(n++,"%c"===e&&(r=n))})),e.splice(r,0,t)}},He.save=function(e){try{e?He.storage.setItem("debug",e):He.storage.removeItem("debug")}catch(e){}},He.load=function(){var e;try{e=He.storage.getItem("debug")}catch(e){}return!e&&void 0!==Me&&"env"in Me&&(e=Me.env.DEBUG),e},He.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},He.storage=function(){try{return localStorage}catch(e){}}(),He.destroy=function(){},He.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],He.log=console.debug||console.log||function(){},We.exports=Ve(He),We.exports.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},window.ccpaConsent=function(e){document.cookie=e?"usconsent=1YNY":"usconsent=1YYY",window.ccpaModal&&(window.ccpaModal.style.display="none"),Ge()},window.ccpaShowDialog=function(){window.ccpaConsent(!1)},window.activateCCPA=function(){window.zamaf=window.zamaf||{},zamaf.cmd=zamaf.cmd||[],zamaf.cmd.push((function(){$e()})),function(e,t){e.__uspapi||(e.__uspapi=function(){(e.attachEvent||e.addEventListener)("message",(function(t){e.__uspapi.receiveMessage(t)}),!1),function n(){if(!e.frames.__uspapiLocator)if(t.body){var r=t.createElement("iframe");r.style.display="none",r.name="__uspapiLocator",t.body.appendChild(r)}else setTimeout(n,5)}();var n=function(e,t,n){"getUSPData"===e&&n({uspString:pe("usconsent")||"1YNY"},!0)};return n.receiveMessage=function(t){var n=t&&t.data&&t.data.__uspapiCall;n&&t.source&&e.__uspapi(n.command,n.parameter,(function(e,r){var i={__uspapiReturn:{returnValue:e,success:r,callId:n.callId}};t.source.postMessage(JSON.stringify(i),"*")}))},n}())}(window,document)}}(),window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.pbjs=window.pbjs||{},window.pbjs.que=window.pbjs.que||[],window.zamaf=window.zamaf||{},window.zamaf.cmd=window.zamaf.cmd||[],window.zamaf.user=window.zamaf.user||{},window.zamaf_config={archived:!1,allowedDomains:["*.wowhead.com","wowhead.com"],enableCCPA:!0,enableCMP:!0,site:"wowhead",thirdPartyCmp:!0,generatorVersion:"2_10_1",qualifier:"au|*|*",mutationMap:{"*|*|mobile":"68de6df9e7eb0c00082839b6","au|*|*":"68de6df9e7eb0c00082839b7","ca|*|*":"68de6df9e7eb0c00082839b8","gb|*|*":"68de6df9e7eb0c00082839b9","kr|*|*":"68de6df9e7eb0c00082839ba","nz|*|*":"68de6df9e7eb0c00082839bb","ru|*|*":"68de6df9e7eb0c00082839bc"},audit:{created:{user:{id:"56bd152557d237220091d239",type:"user"},date:"2025-10-02T12:54:38.309Z"}},complete:!1,label:"68de760ed8c26100081251fd-au-*-*",_id:"68de760ed8c2610008125206",version:"2.10.1",options:{adLightning:!0,enableServicesFirst:!0,instartSuffix:!0,enableMaxDimensions:!0,directAdvertisers:[24692954,4449142733,4450726284,4471825129],refreshRate:30,refreshLimit:45,noDisplay:!1,targeting:{channel:[{name:"WH-Test1",type:"url",value:".*WH-Test1.*"},{name:"WH-Test2",type:"url",value:".*WH-Test2.*"},{name:"WH-Test3",type:"url",value:".*WH-Test3.*"},{name:"WH-Test4",type:"url",value:".*WH-Test4.*"},{name:"WH-Test5",type:"url",value:".*WH-Test5.*"},{name:"WH-Test6",type:"url",value:".*WH-Test6.*"},{name:"WH-Test7",type:"url",value:".*WH-Test7.*"},{name:"WH-Test8",type:"url",value:".*WH-Test8.*"},{name:"WH-Test9",type:"url",value:".*WH-Test9.*"},{name:"WH-Skin",type:"url",value:".*WH-Skin.*"},{name:"WH-Marquee",type:"url",value:".*WH-Marquee.*"},{name:"WH-MarqueePushDown",type:"url",value:".*WH-MarqueePushDown.*"},{name:"WH-BetaTalent",type:"url",value:"https://www.wowhead.com/beta/talent-calc/demon-hunter/vengeance"}],Channel:[{name:"Youtooz",type:"url",value:"https://www.wowhead.com/news/illidan-lich-king-and-deathwing-youtooz-figures-now-on-sale-save-5-with-wowhead-352008"}]},videoElement:{elementId:"",content:""},prebid:{modules:["riseBidAdapter","sovrnBidAdapter","rubiconBidAdapter","pubmaticBidAdapter","vidazooBidAdapter","sharedIdSystem","publinkIdSystem","openxBidAdapter","adkernelBidAdapter","rtdModule","sharethroughBidAdapter","appnexusBidAdapter","seedtagBidAdapter","cpmstarBidAdapter","tripleliftBidAdapter","ixBidAdapter","ttdBidAdapter","kueezRtbBidAdapter","richaudienceBidAdapter"],bidders:{sovrn:{server:!1,serverPercentage:20},rubicon:{server:!1},pubmatic:{server:!1},vidazoo:{server:!1},openx:{server:!1},sharethrough:{server:!1},appnexus:{server:!1},rise:{server:!1},seedtag:{server:!1},cpmstar:{server:!1},triplelift:{server:!1},ix:{server:!1},ttd:{server:!1},kueezrtb:{server:!1},richaudience:{server:!1}},prebidTimeout:3500,failsafeTimeout:3e3,useBidCache:!0,enablePublink:!0,bidderGroups:[["rubicon","pubmatic","appnexus","sovrn"]],server:{accountId:"1",host:"https://prebid.services.zam.com"},floor:.1,sellers:{version:"1.0",sellers:[{name:"Fanbyte",domain:"fanbyte.com",seller_id:"1",seller_type:"PUBLISHER"}]},ID5:{enabled:!1,partner:811}},uam:{pubID:"1953b87d-605c-4eaa-85c9-a121595b5e11"},refreshViewableAds:!0,isSpa:!1,targetingPrefix:"hb_",disableDefineOnInit:!1,wrapAdUnits:!1},slots:[{code:"/76136274/Wowhead_Horizontal_BTF",sizes:[[728,90]],elementId:"zaf-inline-leaderboard",blockThrough:{placementId:"5c06d68164-170",className:"bt-uid-tg"},insert:!1,selectors:{selectorList:[{selectorName:"block-pair",selectorType:"class"}],depth:1,placement:"prepend"},bidderParams:{sovrn:{tagid:"588161",bidfloor:"0.1"},rubicon:{accountId:1685,siteId:225312,zoneId:1137560,floor:.1},pubmatic:{publisherId:"157733",adSlot:"1787250@728x90,1787252@970x250,1787251@970x90",kadfloor:"0.1"},vidazoo:{cId:"6321bd2a39005536f517e956",pId:"59ac17c192832d0011283fe3"},openx:{delDomain:"fanbyte-d.openx.net",unit:"560705065"},sharethrough:{pkey:"rLOqq8eNpsRr0AJWkx9k0v9E"},appnexus:{placementId:"14190997",reserve:2},rise:{org:"6388b3f8bedf040001242b35"},seedtag:{publisherId:"3248-0439-01",placement:"inScreen",adUnitId:"35971502"},cpmstar:{placementId:"90321"},triplelift:{inventoryCode:"Wowhead_Horizontal_BTF_970x250"},ix:{siteId:"319355,319362",size:"728x90",bidFloor:.1},ttd:{publisherId:"1",supplySourceId:"fanbyte"},kueezrtb:{cId:"6800a456679b1fe4f9de8b7d",pId:"65lk7c192882r0011813fn9"},richaudience:{supplyType:"site",pid:"glDrcMqy1U"}},excludes:[],mediaTypes:["banner"]},{code:"/76136274/Wowhead_Mobile_300x250",sizes:[[300,250]],elementId:"zaf-inline-mobile",blockThrough:{placementId:"5c06d6d358-170",className:"bt-uid-tg"},insert:!1,selectors:{selectorList:[{selectorName:"",selectorType:""}],depth:2,placement:"prepend"},bidderParams:{sovrn:{tagid:"588159",bidfloor:"0.1"},rubicon:{accountId:1685,siteId:225312,zoneId:1137560,floor:.1},pubmatic:{publisherId:"157733",adSlot:"1787256@300x250",kadfloor:"0.1"},vidazoo:{cId:"6321bd2a39005536f517e956",pId:"59ac17c192832d0011283fe3"},openx:{delDomain:"fanbyte-d.openx.net",unit:"560705065"},sharethrough:{pkey:"iyTjacS0vzvm2TSQag5SmVHd"},appnexus:{placementId:"14191010",reserve:2},rise:{org:"6388b3f8bedf040001242b35"},seedtag:{publisherId:"3248-0439-01",placement:"inBanner",adUnitId:"35971509"},cpmstar:{placementId:"90321"},triplelift:{inventoryCode:"Wowhead_Mobile_300x250"},ix:{siteId:"319356",size:"300x250",bidFloor:.1},ttd:{publisherId:"1",supplySourceId:"fanbyte"},kueezrtb:{cId:"6800a456679b1fe4f9de8b7d",pId:"65lk7c192882r0011813fn9"},richaudience:{supplyType:"site",pid:"Q5ebAp0ofC"}},excludes:[],mediaTypes:["banner"]},{code:"/76136274/Wowhead_Mobile_Adhesion",sizes:[[320,50]],elementId:"zaf-adhesion-mobile",blockThrough:{placementId:"5c06d6d358-170",className:"bt-uid-tg"},insert:!1,selectors:{selectorList:[{selectorName:"",selectorType:""}],depth:1,placement:"prepend"},bidderParams:{sovrn:{tagid:"588162",bidfloor:"0.1"},rubicon:{accountId:1685,siteId:225312,zoneId:1137560,floor:.1},pubmatic:{publisherId:"157733",adSlot:"1787257@320x50",kadfloor:"0.1"},vidazoo:{cId:"6321bd2a39005536f517e956",pId:"59ac17c192832d0011283fe3"},openx:{delDomain:"fanbyte-d.openx.net",unit:"560705065"},sharethrough:{pkey:"favVEpHuTFUr1YStDCO8zTtu"},appnexus:{placementId:"14191006",reserve:.1},rise:{org:"6388b3f8bedf040001242b35"},seedtag:{publisherId:"3248-0439-01",placement:"inScreen",adUnitId:"35971502"},cpmstar:{placementId:"90321"},triplelift:{inventoryCode:"Wowhead_Mobile_300x250"},ix:{siteId:"319357",size:"320x50",bidFloor:.1},ttd:{publisherId:"1",supplySourceId:"fanbyte"},kueezrtb:{cId:"6800a456679b1fe4f9de8b7d",pId:"65lk7c192882r0011813fn9"},richaudience:{supplyType:"site",pid:"CygnMo79qa"}},excludes:[],mediaTypes:["banner"],refreshOnlyIfViewable:!1},{code:"/76136274/Wowhead_Vertical_ATF",sizes:[[300,250],[160,600],[300,600]],elementId:"zaf-left-rail-1",blockThrough:{placementId:"5c06d6cc28-170",className:"bt-uid-tg"},insert:!1,selectors:{selectorList:[{selectorName:"sidebar-zamaf-bt-ph",selectorType:"id"}],depth:1,placement:"prepend"},bidderParams:{sovrn:{tagid:"588159,588160,677008",bidfloor:"0.1"},rubicon:{accountId:1685,siteId:225312,zoneId:1137560,floor:.1},pubmatic:{publisherId:"157733",adSlot:"1787253@160x600,1787254@300x250,1787255@300x600",kadfloor:"0.1"},vidazoo:{cId:"6321bd2a39005536f517e956",pId:"59ac17c192832d0011283fe3"},openx:{delDomain:"fanbyte-d.openx.net",unit:"560705065"},sharethrough:{pkey:"iyTjacS0vzvm2TSQag5SmVHd"},appnexus:{placementId:"14191000",reserve:3},rise:{org:"6388b3f8bedf040001242b35"},seedtag:{publisherId:"3248-0439-01",placement:"inBanner",adUnitId:"35971510"},cpmstar:{placementId:"90321"},triplelift:{inventoryCode:"Wowhead_Vertical_ATF_300x250"},ix:{siteId:"319358,319359,319360",size:"300x250,160x600,300x600",bidFloor:.1},ttd:{publisherId:"1",supplySourceId:"fanbyte"},kueezrtb:{cId:"6800a456679b1fe4f9de8b7d",pId:"65lk7c192882r0011813fn9"},richaudience:{supplyType:"site",pid:"m2z3exgYsO"}},excludes:[],mediaTypes:["banner"]},{code:"/76136274/Wowhead_Vertical_ATF",sizes:[[300,250],[160,600],[300,600]],elementId:"zaf-right-rail-1",blockThrough:{placementId:"5c06d6cc28-170",className:"bt-uid-tg"},insert:!1,selectors:{selectorList:[{selectorName:"sidebar-zamaf-bt-ph",selectorType:"id"}],depth:1,placement:"prepend"},bidderParams:{sovrn:{tagid:"588159,588160,677008",bidfloor:"0.1"},rubicon:{accountId:1685,siteId:225312,zoneId:1137560,floor:.1},pubmatic:{publisherId:"157733",adSlot:"1787253@160x600,1787254@300x250,1787255@300x600",kadfloor:"0.1"},vidazoo:{cId:"6321bd2a39005536f517e956",pId:"59ac17c192832d0011283fe3"},openx:{delDomain:"fanbyte-d.openx.net",unit:"560705065"},sharethrough:{pkey:"iyTjacS0vzvm2TSQag5SmVHd"},appnexus:{placementId:"14191000",reserve:3},rise:{org:"6388b3f8bedf040001242b35"},seedtag:{publisherId:"3248-0439-01",placement:"inBanner",adUnitId:"35971511"},cpmstar:{placementId:"90321"},triplelift:{inventoryCode:"Wowhead_Vertical_ATF_300x250"},ix:{siteId:"319358,319359,319360",size:"300x250,160x600,300x600",bidFloor:.1},ttd:{publisherId:"1",supplySourceId:"fanbyte"},kueezrtb:{cId:"6800a456679b1fe4f9de8b7d",pId:"65lk7c192882r0011813fn9"},richaudience:{supplyType:"site",pid:"m2z3exgYsO"}},excludes:[],mediaTypes:["banner"]},{code:"/76136274/WH_1x1",insert:!0,sizes:[[1,1]],type:"prelude-skin",elementId:"zaf-skin",blockThrough:{placementId:null,className:""},selectors:{selectorList:[{selectorName:"",selectorType:""}],depth:1},bidderParams:{sovrn:{tagid:"0",bidfloor:"0.1"},rubicon:{accountId:1685,siteId:225312,zoneId:1137560,floor:.1},pubmatic:{publisherId:"",adSlot:"",kadfloor:"0.1"},vidazoo:{cId:"6321bd2a39005536f517e956",pId:"59ac17c192832d0011283fe3"},appnexus:{reserve:.1},rise:{org:"6388b3f8bedf040001242b35"},ttd:{publisherId:"",supplySourceId:""}},excludes:[],refreshRate:0,mediaTypes:["banner"]},{code:"/76136274/Wowhead_Responsive_Block",sizes:[[300,250],[728,90],[970,250]],bidderParams:{sovrn:{tagid:"588161,1121464,1121463",bidfloor:"0.1"},rubicon:{accountId:1685,siteId:225312,zoneId:1137560},pubmatic:{publisherId:"157733",adSlot:"1787247@728x90,1787249@970x250,1787248@970x90",kadfloor:"0.1"},vidazoo:{cId:"6321bd2a39005536f517e956",pId:"59ac17c192832d0011283fe3"},openx:{delDomain:"fanbyte-d.openx.net",unit:"560705065"},sharethrough:{pkey:"rLOqq8eNpsRr0AJWkx9k0v9E"},appnexus:{placementId:"14190995",reserve:.1},rise:{org:"6388b3f8bedf040001242b35"},seedtag:{publisherId:"3248-0439-01",placement:"inBanner",adUnitId:"35971509"},cpmstar:{placementId:"90321"},triplelift:{inventoryCode:"Wowhead_Responsive_Block_970x250"},ix:{siteId:"319354,319361,319363",size:"728x90,970x250,970x90",bidFloor:.1},ttd:{publisherId:"1",supplySourceId:"fanbyte"},kueezrtb:{cId:"6800a456679b1fe4f9de8b7d",pId:"65lk7c192882r0011813fn9"},richaudience:{supplyType:"site",pid:"AVGrIzPSIq"}},blockThrough:{placementId:"",className:""},selectors:{depth:1,placement:"",selectorList:[{selectorName:"",selectorType:""}]},excludes:[],mediaTypes:["banner"],elementId:"zaf-billboard"},{code:"/76136274/Wowhead_Vertical_2",sizes:[[300,250],[160,600],[300,600]],elementId:"zaf-left-rail-2",blockThrough:{placementId:"5c06d6cc28-170",className:"bt-uid-tg"},insert:!1,selectors:{selectorList:[{selectorName:"sidebar-zamaf-bt-ph",selectorType:"id"}],depth:1,placement:"prepend"},bidderParams:{sovrn:{tagid:"588159,588160,677008",bidfloor:"0.1"},rubicon:{accountId:1685,siteId:225312,zoneId:1137560,floor:.1},pubmatic:{publisherId:"157733",adSlot:"1787253@160x600,1787254@300x250,1787255@300x600",kadfloor:"0.1"},vidazoo:{cId:"6321bd2a39005536f517e956",pId:"59ac17c192832d0011283fe3"},openx:{delDomain:"fanbyte-d.openx.net",unit:"560705065"},sharethrough:{pkey:"iyTjacS0vzvm2TSQag5SmVHd"},appnexus:{placementId:"14191000",reserve:.1},rise:{org:"6388b3f8bedf040001242b35"},seedtag:{publisherId:"3248-0439-01",placement:"inBanner",adUnitId:"35971510"},cpmstar:{placementId:"90321"},triplelift:{inventoryCode:"Wowhead_Vertical_2_300x250"},ix:{siteId:"319358,319359,319360",size:"300x250,160x600,300x600",bidFloor:.1},ttd:{publisherId:"1",supplySourceId:"fanbyte"},kueezrtb:{cId:"6800a456679b1fe4f9de8b7d",pId:"65lk7c192882r0011813fn9"},richaudience:{supplyType:"site",pid:"m2z3exgYsO"}},excludes:[],mediaTypes:["banner"]},{code:"/76136274/Wowhead_Vertical_2",sizes:[[300,250],[160,600],[300,600]],elementId:"zaf-right-rail-2",blockThrough:{placementId:"5c06d6cc28-170",className:"bt-uid-tg"},insert:!1,selectors:{selectorList:[{selectorName:"sidebar-zamaf-bt-ph",selectorType:"id"}],depth:1,placement:"prepend"},bidderParams:{sovrn:{tagid:"588159,588160,677008",bidfloor:"0.1"},rubicon:{accountId:1685,siteId:225312,zoneId:1137560,floor:.1},pubmatic:{publisherId:"157733",adSlot:"1787253@160x600,1787254@300x250,1787255@300x600",kadfloor:"0.1"},vidazoo:{cId:"6321bd2a39005536f517e956",pId:"59ac17c192832d0011283fe3"},openx:{delDomain:"fanbyte-d.openx.net",unit:"560705065"},sharethrough:{pkey:"iyTjacS0vzvm2TSQag5SmVHd"},appnexus:{placementId:"14191000",reserve:.1},rise:{org:"6388b3f8bedf040001242b35"},seedtag:{publisherId:"3248-0439-01",placement:"inBanner",adUnitId:"35971511"},cpmstar:{placementId:"90321"},triplelift:{inventoryCode:"Wowhead_Vertical_2_300x250"},ix:{siteId:"319358,319359,319360",size:"300x250,160x600,300x600",bidFloor:.1},ttd:{publisherId:"1",supplySourceId:"fanbyte"},kueezrtb:{cId:"6800a456679b1fe4f9de8b7d",pId:"65lk7c192882r0011813fn9"},richaudience:{supplyType:"site",pid:"m2z3exgYsO"}},excludes:[],mediaTypes:["banner"]},{code:"/76136274/Wowhead_Desktop_Adhesion",sizes:[[728,90]],elementId:"zaf-adhesion-desktop",blockThrough:{placementId:"5c06d6d358-170",className:"bt-uid-tg"},insert:!1,selectors:{selectorList:[{selectorName:"",selectorType:""}],depth:1,placement:"prepend"},bidderParams:{sovrn:{tagid:"588162",bidfloor:"0.1"},rubicon:{accountId:1685,siteId:225312,zoneId:1137560,floor:.1},pubmatic:{publisherId:"157733",adSlot:"1787257@320x50",kadfloor:"0.1"},vidazoo:{cId:"6321bd2a39005536f517e956",pId:"59ac17c192832d0011283fe3"},openx:{delDomain:"fanbyte-d.openx.net",unit:"560705065"},sharethrough:{pkey:"favVEpHuTFUr1YStDCO8zTtu"},appnexus:{placementId:"14191006",reserve:.1},rise:{org:"6388b3f8bedf040001242b35"},seedtag:{publisherId:"3248-0439-01",placement:"inScreen",adUnitId:"35971502"},cpmstar:{placementId:"90321"},triplelift:{inventoryCode:"Wowhead_Mobile_300x250"},ix:{siteId:"319357",size:"320x50",bidFloor:.1},ttd:{publisherId:"1",supplySourceId:"fanbyte"},kueezrtb:{cId:"6800a456679b1fe4f9de8b7d",pId:"65lk7c192882r0011813fn9"},richaudience:{supplyType:"site",pid:"4ji3T7kq7n"}},excludes:[],mediaTypes:["banner"],refreshOnlyIfViewable:!1}],dynamicSlots:[{code:"/76136274/Wowhead_InContent_728x90",excludedClasses:"grid",sizes:[[728,90]],type:"article",frequency:2,elementClass:"",blockThrough:{placementId:"5c06d65b52-170",className:"bt-uid-tg"},selectors:{selectorList:[{selectorName:"",selectorType:""}],depth:1},bidderParams:{sovrn:{tagid:"588161",bidfloor:"0.1"},rubicon:{accountId:1685,siteId:225312,zoneId:1137560,floor:.1},pubmatic:{publisherId:"157733",adSlot:"1787247@728x90",kadfloor:"0.1"},vidazoo:{cId:"6321bd2a39005536f517e956",pId:"59ac17c192832d0011283fe3"},openx:{delDomain:"fanbyte-d.openx.net",unit:"560705065"},sharethrough:{pkey:"rLOqq8eNpsRr0AJWkx9k0v9E"},appnexus:{placementId:"14191000",reserve:.1},rise:{org:"6388b3f8bedf040001242b35"},seedtag:{publisherId:"3248-0439-01",placement:"inArticle",adUnitId:"35971503"},cpmstar:{placementId:"90321"},triplelift:{inventoryCode:"Wowhead_InContent_728x90"},ix:{siteId:"319354",size:"728x90",bidFloor:.1},ttd:{publisherId:"1",supplySourceId:"fanbyte"},kueezrtb:{cId:"6800a456679b1fe4f9de8b7d",pId:"65lk7c192882r0011813fn9"},richaudience:{supplyType:"site",pid:"BgxSv73egQ"}},excludes:["mobile"],insertIndex:2,mediaTypes:["banner"],dataAttribute:"article",carveSize:"fullsize"},{code:"/76136274/Wowhead_InContent_728x90",excludedClasses:"grid",sizes:[[728,90]],type:"list",elementClass:"",insertIndex:3,offset:0,subItemElementClass:"news-list-card",blockThrough:{placementId:"5c06d65b52-170",className:"bt-uid-tg"},selectors:{selectorList:[{selectorName:"",selectorType:""}],depth:1},bidderParams:{sovrn:{tagid:"588161",bidfloor:"0.1"},rubicon:{accountId:1685,siteId:225312,zoneId:1137560,floor:.1},pubmatic:{publisherId:"157733",adSlot:"1787247@728x90",kadfloor:"0.1"},vidazoo:{cId:"6321bd2a39005536f517e956",pId:"59ac17c192832d0011283fe3"},openx:{delDomain:"fanbyte-d.openx.net",unit:"560705065"},sharethrough:{pkey:"rLOqq8eNpsRr0AJWkx9k0v9E"},appnexus:{placementId:"14191000",reserve:.1},rise:{org:"6388b3f8bedf040001242b35"},seedtag:{publisherId:"3248-0439-01",placement:"inArticle",adUnitId:"35971504"},cpmstar:{placementId:"90321"},triplelift:{inventoryCode:"Wowhead_InContent_728x90"},ix:{siteId:"319354",size:"728x90",bidFloor:.1},ttd:{publisherId:"1",supplySourceId:"fanbyte"},kueezrtb:{cId:"6800a456679b1fe4f9de8b7d",pId:"65lk7c192882r0011813fn9"},richaudience:{supplyType:"site",pid:"BgxSv73egQ"}},excludes:["mobile"],mediaTypes:["banner"],dataAttribute:"list",carveSize:"fullsize"},{code:"/76136274/Wowhead_InContent_728x90",excludedClasses:"grid",sizes:[[728,90]],type:"unit",elementClass:"",blockThrough:{placementId:"5c06d68164-170",className:"bt-uid-tg"},selectors:{selectorList:[{selectorName:"",selectorType:""}],depth:1},bidderParams:{sovrn:{tagid:"588161",bidfloor:"0.1"},rubicon:{accountId:1685,siteId:225312,zoneId:1137560,floor:.1},pubmatic:{publisherId:"157733",adSlot:"1787247@728x90",kadfloor:"0.1"},vidazoo:{cId:"6321bd2a39005536f517e956",pId:"59ac17c192832d0011283fe3"},openx:{delDomain:"fanbyte-d.openx.net",unit:"560705065"},sharethrough:{pkey:" rLOqq8eNpsRr0AJWkx9k0v9E"},appnexus:{placementId:"14191000",reserve:.1},rise:{org:"6388b3f8bedf040001242b35"},seedtag:{publisherId:"3248-0439-01",placement:"inArticle",adUnitId:"35971505"},cpmstar:{placementId:"90321"},triplelift:{inventoryCode:"Wowhead_InContent_728x90"},ix:{siteId:"319354",size:"728x90",bidFloor:.1},ttd:{publisherId:"1",supplySourceId:"fanbyte"},kueezrtb:{cId:"6800a456679b1fe4f9de8b7d",pId:"65lk7c192882r0011813fn9"},richaudience:{supplyType:"site",pid:"BgxSv73egQ"}},excludes:["mobile","tablet"],insertIndex:2,mediaTypes:["banner"],dataAttribute:"unit",carveSize:"fullsize"},{code:"/76136274/Wowhead_InContent_Mobile",excludedClasses:"grid",sizes:[[300,250],[320,50]],type:"unit",elementClass:"",blockThrough:{placementId:"5c06d6cc28-170",className:"bt-uid-tg"},selectors:{selectorList:[{selectorName:"",selectorType:""}],depth:1},bidderParams:{sovrn:{tagid:"588162,588159",bidfloor:"0.1"},rubicon:{accountId:1685,siteId:225312,zoneId:1137560,floor:.1},pubmatic:{publisherId:"157733",adSlot:"1787257@320x50,1787256@300x250",kadfloor:"0.1"},vidazoo:{cId:"6321bd2a39005536f517e956",pId:"59ac17c192832d0011283fe3"},openx:{delDomain:"fanbyte-d.openx.net",unit:"560705065"},sharethrough:{pkey:"iyTjacS0vzvm2TSQag5SmVHd"},appnexus:{placementId:"14191006,14191010",reserve:.1},rise:{org:"6388b3f8bedf040001242b35"},seedtag:{publisherId:"3248-0439-01",placement:"inArticle",adUnitId:"35971503"},cpmstar:{placementId:"90321"},triplelift:{inventoryCode:"Wowhead_InContent_Mobile_300x250"},ix:{siteId:"319357,319356",size:"320x50,300x250",bidFloor:.1},ttd:{publisherId:"1",supplySourceId:"fanbyte"},kueezrtb:{cId:"6800a456679b1fe4f9de8b7d",pId:"65lk7c192882r0011813fn9"},richaudience:{supplyType:"site",pid:"be43NfpNBc"}},excludes:["desktop"],insertIndex:2,mediaTypes:["banner"],dataAttribute:"unit",carveSize:"fullsize"},{code:"/76136274/Wowhead_InContent_Mobile",excludedClasses:"grid",type:"article",sizes:[[300,250],[320,50]],frequency:2,elementClass:"",blockThrough:{placementId:"5c06d6d358-170",className:"bt-uid-tg"},selectors:{selectorList:[{selectorName:"",selectorType:""}],depth:1},bidderParams:{sovrn:{tagid:"588162,588159",bidfloor:"0.1"},rubicon:{accountId:1685,siteId:225312,zoneId:1137560,floor:.1},pubmatic:{publisherId:"157733",adSlot:"1787257@320x50,1787256@300x250",kadfloor:"0.1"},vidazoo:{cId:"6321bd2a39005536f517e956",pId:"59ac17c192832d0011283fe3"},openx:{delDomain:"fanbyte-d.openx.net",unit:"560705065"},sharethrough:{pkey:"iyTjacS0vzvm2TSQag5SmVHd"},appnexus:{placementId:"14191006,14191010",reserve:.1},rise:{org:"6388b3f8bedf040001242b35"},seedtag:{publisherId:"3248-0439-01",placement:"inArticle",adUnitId:"35971504"},cpmstar:{placementId:"90321"},triplelift:{inventoryCode:"Wowhead_InContent_Mobile_300x250"},ix:{siteId:"319357,319356",size:"320x50,300x250",bidFloor:.1},ttd:{publisherId:"1",supplySourceId:"fanbyte"},kueezrtb:{cId:"6800a456679b1fe4f9de8b7d",pId:"65lk7c192882r0011813fn9"},richaudience:{supplyType:"site",pid:"be43NfpNBc"}},excludes:["desktop"],insertIndex:2,mediaTypes:["banner"],dataAttribute:"article",carveSize:"fullsize"}]},window.zamaf_config.enableCMP&&window.activateCMP&&!window.zamaf_config.thirdPartyCmp&&window.activateCMP(),window.zamaf_config.enableCCPA&&window.activateCCPA&&window.activateCCPA(),function(){var e={432:function(e){
/*
    * @license MIT
    * Fun Hooks v0.9.10
    * (c) @snapwich
    */
a.SYNC=1,a.ASYNC=2,a.QUEUE=4;var t=Object.freeze({useProxy:!0,ready:0}),n=new WeakMap,r="2,1,0"===[1].reduce((function(e,t,n){return[e,t,n]}),2).toString()?Array.prototype.reduce:function(e,t){var n,r=Object(this),i=r.length>>>0,o=0;if(t)n=t;else{for(;o<i&&!(o in r);)o++;n=r[o++]}for(;o<i;)o in r&&(n=e(n,r[o],o,r)),o++;return n};function i(e,t){return Array.prototype.slice.call(e,t)}var o=Object.assign||function(e){return r.call(i(arguments,1),(function(e,t){return t&&Object.keys(t).forEach((function(n){e[n]=t[n]})),e}),e)};function a(e){var s,c={},u=[];function d(e,t){return"function"==typeof e?m.call(null,"sync",e,t):"string"==typeof e&&"function"==typeof t?m.apply(null,arguments):"object"==typeof e?l.apply(null,arguments):void 0}function l(e,t,n){var r=!0;void 0===t&&(t=Object.getOwnPropertyNames(e),r=!1);var i={},o=["constructor"];do{(t=t.filter((function(t){return!("function"!=typeof e[t]||-1!==o.indexOf(t)||t.match(/^_/))}))).forEach((function(t){var r=t.split(":"),o=r[0],a=r[1]||"sync";if(!i[o]){var s=e[o];i[o]=e[o]=m(a,s,n?[n,o]:void 0)}})),e=Object.getPrototypeOf(e)}while(r&&e);return i}function f(e){var t=Array.isArray(e)?e:e.split(".");return r.call(t,(function(e,n,r){var i=e[n];return i||(r===t.length-1?(s||u.push((function(){})),e[n]=p((function(t){e[n]=t}))):e[n]={})}),c)}function p(e){var t=[],r=[],i=function(){},a={before:function(e,n){return c.call(this,t,"before",e,n)},after:function(e,t){return c.call(this,r,"after",e,t)},getHooks:function(e){var n=t.concat(r);"object"==typeof e&&(n=n.filter((function(t){return Object.keys(e).every((function(n){return t[n]===e[n]}))})));try{o(n,{remove:function(){return n.forEach((function(e){e.remove()})),this}})}catch(e){console.error("error adding `remove` to array, did you modify Array.prototype?")}return n},removeAll:function(){return this.getHooks().remove()}},s={install:function(n,o,a){this.type=n,i=a,a(t,r),e&&e(o)}};return n.set(a.after,s),a;function c(e,n,o,a){var s={hook:o,type:n,priority:a||10,remove:function(){var n=e.indexOf(s);-1!==n&&(e.splice(n,1),i(t,r))}};return e.push(s),e.sort((function(e,t){return t.priority-e.priority})),i(t,r),this}}function m(t,r,c){var d=r.after&&n.get(r.after);if(d){if(d.type!==t)throw"fun-hooks: recreated hookable with different type";return r}var l,m,v=c?f(c):p(),g={get:function(e,t){return v[t]||Reflect.get.apply(Reflect,arguments)}};return s||u.push(h),e.useProxy&&"function"==typeof Proxy&&Proxy.revocable?m=new Proxy(r,g):(m=function(){return g.apply?g.apply(r,this,i(arguments)):r.apply(this,arguments)},o(m,v)),n.get(m.after).install(t,m,(function(e,n){var r,o=[];function a(e){o.push(e.hook)}e.length||n.length?(e.forEach(a),r=o.push(void 0)-1,n.forEach(a),l=function(e,n,a){var s,c=0,u="async"===t&&"function"==typeof a[a.length-1]&&a.pop();function d(e){"sync"===t?s=e:u&&u.apply(null,arguments)}function l(e){if(o[c]){var r=i(arguments);return l.bail=d,r.unshift(l),o[c++].apply(n,r)}"sync"===t?s=e:u&&u.apply(null,arguments)}return o[r]=function(){var r=i(arguments,1);"async"===t&&u&&(delete l.bail,r.push(l));var o=e.apply(n,r);"sync"===t&&l(o)},l.apply(null,a),s}):l=void 0,h()})),m;function h(){!s&&("sync"!==t||e.ready&a.SYNC)&&("async"!==t||e.ready&a.ASYNC)?"sync"!==t&&e.ready&a.QUEUE?g.apply=function(){var e=arguments;u.push((function(){m.apply(e[1],e[2])}))}:g.apply=function(){throw"fun-hooks: hooked function not ready"}:g.apply=l}}return(e=o({},t,e)).ready?d.ready=function(){s=!0,function(e){for(var t;t=e.shift();)t()}(u)}:s=!0,d.get=f,d}e.exports=a},79:function(e){e.exports=function e(t){var n=Array.isArray(t)?[]:{};for(var r in t){var i=t[r];n[r]=i&&"object"==typeof i?e(i):i}return n}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e=window,t=e.pbjs=e.pbjs||{};function r(){return t}function i(e){t.installedModules.push(e)}function o(e,t,n){return e&&e.includes(t,n)||!1}function a(e,t,n){return e&&e.find(t,n)}t.cmd=t.cmd||[],t.que=t.que||[],e===window&&(e._pbjsGlobals=e._pbjsGlobals||[],e._pbjsGlobals.push("pbjs"));var s={buckets:[{max:5,increment:.5}]},c={buckets:[{max:20,increment:.1}]},u={buckets:[{max:20,increment:.01}]},d={buckets:[{max:3,increment:.01},{max:8,increment:.05},{max:20,increment:.5}]},l={buckets:[{max:5,increment:.05},{max:10,increment:.1},{max:20,increment:.5}]};function f(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=parseFloat(e);return isNaN(r)&&(r=""),{low:""===r?"":p(e,s,n),med:""===r?"":p(e,c,n),high:""===r?"":p(e,u,n),auto:""===r?"":p(e,l,n),dense:""===r?"":p(e,d,n),custom:""===r?"":p(e,t,n)}}function p(e,t,n){var r="";if(!m(t))return r;var i=t.buckets.reduce((function(e,t){return e.max>t.max?e:t}),{max:0}),o=0,s=a(t.buckets,(function(t){if(e>i.max*n){var a=t.precision;void 0===a&&(a=2),r=(t.max*n).toFixed(a)}else{if(e<=t.max*n&&e>=o*n)return t.min=o,t;o=t.max}}));return s&&(r=v(e,s,n)),r}function m(e){if(De(e)||!e.buckets||!Array.isArray(e.buckets))return!1;var t=!0;return e.buckets.forEach((function(e){e.max&&e.increment||(t=!1)})),t}function v(e,t,n){var r=void 0!==t.precision?t.precision:2,i=t.increment*n,o=t.min*n,a=Math.floor,s=T.getConfig("cpmRoundingFunction");"function"==typeof s&&(a=s);var c,u,d=Math.pow(10,r+2),l=(e*d-o*d)/(i*d);try{c=a(l)*i+o}catch(e){u=!0}return(u||"number"!=typeof c)&&(Ce("Invalid rounding function passed in config"),c=Math.floor(l)*i+o),(c=Number(c.toFixed(10))).toFixed(r)}function g(e,t,n,r,i){for(t=t.split?t.split("."):t,r=0;r<t.length;r++)e=e?e[t[r]]:i;return e===i?n:e}var h=JSON.parse('{"k2":{"xn":"adserverTargeting","zF":"standard"},"f":"pbjs_debug","Q_":{"Q":1},"FP":{"AUCTION_INIT":"auctionInit","AUCTION_TIMEOUT":"auctionTimeout","AUCTION_END":"auctionEnd","BID_ADJUSTMENT":"bidAdjustment","BID_TIMEOUT":"bidTimeout","BID_REQUESTED":"bidRequested","BID_RESPONSE":"bidResponse","BID_REJECTED":"bidRejected","NO_BID":"noBid","SEAT_NON_BID":"seatNonBid","BID_WON":"bidWon","BIDDER_DONE":"bidderDone","BIDDER_ERROR":"bidderError","SET_TARGETING":"setTargeting","BEFORE_REQUEST_BIDS":"beforeRequestBids","BEFORE_BIDDER_HTTP":"beforeBidderHttp","REQUEST_BIDS":"requestBids","ADD_AD_UNITS":"addAdUnits","AD_RENDER_FAILED":"adRenderFailed","AD_RENDER_SUCCEEDED":"adRenderSucceeded","TCF2_ENFORCEMENT":"tcf2Enforcement","AUCTION_DEBUG":"auctionDebug","BID_VIEWABLE":"bidViewable","STALE_RENDER":"staleRender","BILLABLE_EVENT":"billableEvent","BID_ACCEPTED":"bidAccepted"},"q_":{"Sn":"preventWritingOnMainDocument","Ex":"noAd","XW":"exception","WT":"cannotFindAd","mb":"missingDocOrAdid"},"aI":{"bidWon":"adUnitCode"},"Ql":{"yE":"low","M2":"medium","lj":"high","B7":"auto","uN":"dense","qN":"custom"},"TD":{"BIDDER":"hb_bidder","AD_ID":"hb_adid","PRICE_BUCKET":"hb_pb","SIZE":"hb_size","DEAL":"hb_deal","SOURCE":"hb_source","FORMAT":"hb_format","UUID":"hb_uuid","CACHE_ID":"hb_cache_id","CACHE_HOST":"hb_cache_host","ADOMAIN":"hb_adomain","ACAT":"hb_acat","CRID":"hb_crid","DSP":"hb_dsp"},"kF":{"BIDDER":"hb_bidder","AD_ID":"hb_adid","PRICE_BUCKET":"hb_pb","SIZE":"hb_size","DEAL":"hb_deal","FORMAT":"hb_format","UUID":"hb_uuid","CACHE_HOST":"hb_cache_host"},"FY":{"title":"hb_native_title","body":"hb_native_body","body2":"hb_native_body2","privacyLink":"hb_native_privacy","privacyIcon":"hb_native_privicon","sponsoredBy":"hb_native_brand","image":"hb_native_image","icon":"hb_native_icon","clickUrl":"hb_native_linkurl","displayUrl":"hb_native_displayurl","cta":"hb_native_cta","rating":"hb_native_rating","address":"hb_native_address","downloads":"hb_native_downloads","likes":"hb_native_likes","phone":"hb_native_phone","price":"hb_native_price","salePrice":"hb_native_saleprice","rendererUrl":"hb_renderer_url","adTemplate":"hb_adTemplate"},"os":{"YZ":"s2s"},"UE":{"CK":"targetingSet","fe":"rendered"},"Gw":{"UI":"Bid has missing or invalid properties","Gp":"Invalid request ID","Dg":"Bidder code is not allowed by allowedAlternateBidderCodes / allowUnknownBidderCodes","pe":"Bid does not meet price floor"},"V1":{"body":"desc","body2":"desc2","sponsoredBy":"sponsored","cta":"ctatext","rating":"rating","address":"address","downloads":"downloads","likes":"likes","phone":"phone","price":"price","salePrice":"saleprice","displayUrl":"displayurl"},"s$":{"sponsored":1,"desc":2,"rating":3,"likes":4,"downloads":5,"price":6,"saleprice":7,"phone":8,"address":9,"desc2":10,"displayurl":11,"ctatext":12},"oF":{"ICON":1,"MAIN":3},"zA":["privacyIcon","clickUrl","sendTargetingKeys","adTemplate","rendererUrl","type"]}');function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(){return w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},w.apply(this,arguments)}function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var C="TRUE"===Te(h.f).toUpperCase(),S="random",x={random:!0,fixed:!0},A={LOW:"low",MEDIUM:"medium",HIGH:"high",AUTO:"auto",DENSE:"dense",CUSTOM:"custom"},E="*",T=function(){var e,t,n,r=[],i=null;function s(){function r(e){return o[e].val}function i(e,t){o[e].val=t}e={};var o={publisherDomain:{set:function(e){null!=e&&Ce("publisherDomain is deprecated and has no effect since v7 - use pageUrl instead"),i("publisherDomain",e)}},priceGranularity:{val:A.MEDIUM,set:function(e){u(e)&&("string"==typeof e?i("priceGranularity",c(e)?e:A.MEDIUM):Pe(e)&&(i("customPriceBucket",e),i("priceGranularity",A.CUSTOM),Ie("Using custom price granularity")))}},customPriceBucket:{val:{},set:function(){}},mediaTypePriceGranularity:{val:{},set:function(e){null!=e&&i("mediaTypePriceGranularity",Object.keys(e).reduce((function(t,n){return u(e[n])?"string"==typeof e?t[n]=c(e[n])?e[n]:r("priceGranularity"):Pe(e)&&(t[n]=e[n],Ie("Using custom price granularity for ".concat(n))):Ce("Invalid price granularity for media type: ".concat(n)),t}),{}))}},bidderSequence:{val:"random",set:function(e){x[e]?i("bidderSequence",e):Ce("Invalid order: ".concat(e,". Bidder Sequence was not set."))}},auctionOptions:{val:{},set:function(e){(function(e){if(!Pe(e))return Ce("Auction Options must be an object"),!1;for(var t of Object.keys(e)){if("secondaryBidders"!==t&&"suppressStaleRender"!==t)return Ce("Auction Options given an incorrect param: ".concat(t)),!1;if("secondaryBidders"===t){if(!Re(e[t]))return Ce("Auction Options ".concat(t," must be of type Array")),!1;if(!e[t].every(je))return Ce("Auction Options ".concat(t," must be only string")),!1}else if("suppressStaleRender"===t&&!Be(e[t]))return Ce("Auction Options ".concat(t," must be of type boolean")),!1}return!0})(e)&&i("auctionOptions",e)}}},s={debug:C,bidderTimeout:3e3,enableSendAllBids:!0,useBidCache:!1,deviceAccess:!0,timeoutBuffer:400,disableAjaxTimeout:!1,maxNestedIframes:10};function c(e){return a(Object.keys(A),(function(t){return e===A[t]}))}function u(e){if(!e)return Se("Prebid Error: no value passed to `setPriceGranularity()`"),!1;if("string"==typeof e)c(e)||Ce("Prebid Warning: setPriceGranularity was called with invalid setting, using `medium` as default.");else if(Pe(e)&&!m(e))return Se("Invalid custom price value passed to `setPriceGranularity()`"),!1;return!0}Object.defineProperties(s,Object.fromEntries(Object.entries(o).map((function(e){var t=I(e,2),n=t[0],o=t[1];return[n,w({get:r.bind(null,n),set:i.bind(null,n),enumerable:!0},o)]})))),t&&O(Object.keys(t).reduce((function(e,n){return t[n]!==s[n]&&(e[n]=s[n]||{}),e}),{})),t=s,n={}}function c(){if(i&&n&&Pe(n[i])){var e=n[i];return function(){return Array.from.apply(Array,arguments)}(new Set(Object.keys(t).concat(Object.keys(e)))).reduce((function(n,r){return void 0===e[r]?n[r]=t[r]:void 0===t[r]?n[r]=e[r]:Pe(e[r])?n[r]=_t({},t[r],e[r]):n[r]=e[r],n}),{})}return w({},t)}var u=[c,function(){var e=c();return Object.defineProperty(e,"ortb2",{get:function(){throw new Error("invalid access to 'orbt2' config - use request parameters instead")}}),e}].map((function(e){return function(){if(arguments.length<=1&&"function"!=typeof(arguments.length<=0?void 0:arguments[0])){var t=arguments.length<=0?void 0:arguments[0];return t?g(e(),t):c()}return T.apply(void 0,arguments)}})),d=I(u,2),l=d[0],f=d[1],p=[f,l].map((function(e){return function(){var t=e.apply(void 0,arguments);return t&&"object"==typeof t&&(t=Ze(t)),t}})),v=I(p,2),h=v[0],_=v[1];function S(n){if(Pe(n)){var r=Object.keys(n),i={};r.forEach((function(r){var o=n[r];Pe(e[r])&&Pe(o)&&(o=w({},e[r],o));try{i[r]=t[r]=o}catch(e){Ce("Cannot set config for property ".concat(r," : "),e)}})),O(i)}else Se("setConfig options must be an object")}function T(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=t;if("string"!=typeof e&&(i=e,e=E,n=t||{}),"function"==typeof i){var o={topic:e,callback:i};return r.push(o),n.init&&i(e===E?f():y({},e,f(e))),function(){r.splice(r.indexOf(o),1)}}Se("listener must be a function")}function O(e){var t=Object.keys(e);r.filter((function(e){return o(t,e.topic)})).forEach((function(t){t.callback(y({},t.topic,e[t.topic]))})),r.filter((function(e){return e.topic===E})).forEach((function(t){return t.callback(e)}))}function k(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{r(e),e.bidders.forEach((function(r){n[r]||(n[r]={}),Object.keys(e.config).forEach((function(i){var o=e.config[i];if(Pe(o)){var a=t?_t:Object.assign;n[r][i]=a({},n[r][i]||{},o)}else n[r][i]=o}))}))}catch(e){Se(e)}function r(e){if(!Pe(e))throw"setBidderConfig bidder options must be an object";if(!Array.isArray(e.bidders)||!e.bidders.length)throw"setBidderConfig bidder options must contain a bidders list with at least 1 bidder";if(!Pe(e.config))throw"setBidderConfig bidder options must contain a config object"}}function j(e,t){i=e;try{return t()}finally{R()}}function R(){i=null}return s(),{getCurrentBidder:function(){return i},resetBidder:R,getConfig:f,getAnyConfig:l,readConfig:h,readAnyConfig:_,setConfig:S,mergeConfig:function(e){if(Pe(e)){var t=_t(c(),e);return S(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t)),t}Se("mergeConfig input must be an object")},setDefaults:function(n){Pe(e)?(w(e,n),w(t,n)):Se("defaults must be an object")},resetConfig:s,runWithBidder:j,callbackWithBidder:function(e){return function(t){return function(){if("function"==typeof t){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return j(e,t.bind.apply(t,[this].concat(r)))}Ce("config.callbackWithBidder callback is not a function")}}},setBidderConfig:k,getBidderConfig:function(){return n},mergeBidderConfig:function(e){return k(e,!0)}}}(),O=n(79),k=n.n(O);function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?R(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function B(e,t,n){return function(e,t){if(e!==t)throw new TypeError("Private static access of wrong provenance")}(e,t),n}function D(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,N(e,t,"get"))}function U(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,N(e,t,"set"),n),n}function N(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var F=0,M=1,q=new WeakMap,L=new WeakMap,W=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),P(this,q,{writable:!0,value:void 0}),P(this,L,{writable:!0,value:void 0}),"function"!=typeof t)throw new Error("resolver not a function");var n=[],r=[],i=j([F,M].map((function(e){return function(t){if(e===F&&"function"==typeof(null==t?void 0:t.then))t.then(o,a);else if(!n.length)for(n.push(e,t);r.length;)r.shift()()}})),2),o=i[0],a=i[1];try{t(o,a)}catch(e){a(e)}U(this,q,n),U(this,L,r)}return t=e,n=[{key:"then",value:function(e,t){var n=this,r=D(this,q);return new this.constructor((function(i,o){var a=function(){var n=r[1],a=j(r[0]===F?[e,i]:[t,o],2),s=a[0],c=a[1];if("function"==typeof s){try{n=s(n)}catch(e){return void o(e)}c=i}c(n)};r.length?a():D(n,L).push(a)}))}},{key:"catch",value:function(e){return this.then(null,e)}},{key:"finally",value:function(e){var t,n=this;return this.then((function(n){return t=n,e()}),(function(r){return t=n.constructor.reject(r),e()})).then((function(){return t}))}}],r=[{key:"timeout",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new e((function(e){0===t?e():setTimeout(e,t)}))}},{key:"race",value:function(t){var n=this;return new this((function(r,i){B(n,e,H).call(n,t,(function(e,t){return e?r(t):i(t)}))}))}},{key:"all",value:function(t){var n=this;return new this((function(r,i){var o=[];B(n,e,H).call(n,t,(function(e,t,n){return e?o[n]=t:i(t)}),(function(){return r(o)}))}))}},{key:"allSettled",value:function(t){var n=this;return new this((function(r){var i=[];B(n,e,H).call(n,t,(function(e,t,n){return i[n]=e?{status:"fulfilled",value:t}:{status:"rejected",reason:t}}),(function(){return r(i)}))}))}},{key:"resolve",value:function(e){return new this((function(t){return t(e)}))}},{key:"reject",value:function(e){return new this((function(t,n){return n(e)}))}}],n&&z(t.prototype,n),r&&z(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();function H(e,t,n){var r=this,i=e.length;function o(){t.apply(this,arguments),--i<=0&&n&&n()}0===e.length&&n?n():e.forEach((function(e,t){return r.resolve(e).then((function(e){return o(!0,e,t)}),(function(e){return o(!1,e,t)}))}))}function V(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.promiseFactory,i=void 0===r?function(e){return new W(e)}:r;function o(e){return function(t){return e(t)}}return{promise:i((function(n,r){e=n,t=r})),resolve:o(e),reject:o(t)}}function G(e){return function(e){if(Array.isArray(e))return K(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Q(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function J(){return J=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},J.apply(this,arguments)}function X(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||Q(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(e,t){if(e){if("string"==typeof e)return K(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?K(e,t):void 0}}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Y,Z=Object.prototype.toString,ee=Boolean(window.console),te=Boolean(ee&&window.console.log),ne=Boolean(ee&&window.console.info),re=Boolean(ee&&window.console.warn),ie=Boolean(ee&&window.console.error),oe=r();function ae(){null!=Y&&Y.apply(void 0,arguments)}var se,ce={checkCookieSupport:ot,createTrackPixelIframeHtml:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return e?(t&&(e=encodeURI(e)),n&&(n='sandbox="'.concat(n,'"')),"<iframe ".concat(n,' id="').concat(de(),'"\n      frameborder="0"\n      allowtransparency="true"\n      marginheight="0" marginwidth="0"\n      width="0" hspace="0" vspace="0" height="0"\n      style="height:0px;width:0px;display:none;"\n      scrolling="no"\n      src="').concat(e,'">\n    </iframe>')):""},getWindowSelf:ye,getWindowTop:be,getWindowLocation:we,insertUserSyncIframe:Ve,insertElement:qe,isFn:ke,triggerPixel:We,logError:Se,logWarn:Ce,logMessage:Ie,logInfo:_e,parseQS:ht,formatQS:bt,deepEqual:It},ue=(se=0,function(){return++se});function de(){return ue()+Math.random().toString(16).substr(2)}function le(e){return e?(e^(window&&window.crypto&&window.crypto.getRandomValues?crypto.getRandomValues(new Uint8Array(1))[0]%16:16*Math.random())>>e/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,le)}function fe(e,t){return(null==t?void 0:t[e])||""}function pe(e){return e&&Object.getOwnPropertyNames(e).length>0?Object.keys(e).map((function(t){return"".concat(t,"=").concat(encodeURIComponent(e[t]))})).join("&"):""}function me(e){return"string"==typeof e?e.split(",").filter((function(e){return e.match(/^(\d)+x(\d)+$/i)})):"object"==typeof e?2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1]?[ve(e)]:e.map(ve):[]}function ve(e){if(he(e))return e[0]+"x"+e[1]}function ge(e){if(he(e))return{w:e[0],h:e[1]}}function he(e){return Re(e)&&2===e.length&&!isNaN(e[0])&&!isNaN(e[1])}function be(){return window.top}function ye(){return window.self}function we(){return window.location}function Ie(){Ee()&&te&&console.log.apply(console,Ae(arguments,"MESSAGE:"))}function _e(){Ee()&&ne&&console.info.apply(console,Ae(arguments,"INFO:"))}function Ce(){Ee()&&re&&console.warn.apply(console,Ae(arguments,"WARNING:")),ae(h.FP.AUCTION_DEBUG,{type:"WARNING",arguments:arguments})}function Se(){Ee()&&ie&&console.error.apply(console,Ae(arguments,"ERROR:")),ae(h.FP.AUCTION_DEBUG,{type:"ERROR",arguments:arguments})}function xe(e){function t(t){return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];t.apply(void 0,[e].concat(r))}}return{logError:t(Se),logWarn:t(Ce),logMessage:t(Ie),logInfo:t(_e)}}function Ae(e,t){e=[].slice.call(e);var n=T.getCurrentBidder();return t&&e.unshift(t),n&&e.unshift(r("#aaa")),e.unshift(r("#3b88c3")),e.unshift("%cPrebid"+(n?"%c".concat(n):"")),e;function r(e){return"display: inline-block; color: #fff; background: ".concat(e,"; padding: 1px 4px; border-radius: 3px;")}}function Ee(){return!!T.getConfig("debug")}function Te(e){return ht(we().search)[e]||""}function Oe(e,t){return Z.call(e)==="[object "+t+"]"}function ke(e){return Oe(e,"Function")}function je(e){return Oe(e,"String")}var Re=Array.isArray.bind(Array);function ze(e){return Oe(e,"Number")}function Pe(e){return Oe(e,"Object")}function Be(e){return Oe(e,"Boolean")}function De(e){return!e||(Re(e)||je(e)?!(e.length>0):Object.keys(e).length<=0)}function Ue(e){return je(e)&&(!e||0===e.length)}function Ne(e,t){var n=this;if(ke(null==e?void 0:e.forEach))return e.forEach(t,this);Object.entries(e||{}).forEach((function(e){var r=X(e,2),i=r[0],o=r[1];return t.call(n,o,i)}))}function Fe(e,t){return ke(null==e?void 0:e.includes)&&e.includes(t)}function Me(e,t){return ke(null==e?void 0:e.map)?e.map(t):Object.entries(e||{}).map((function(n){var r=X(n,2),i=r[0],o=r[1];return t(o,i,e)}))}function qe(e,t,n,r){var i;t=t||document,i=n?t.getElementsByTagName(n):t.getElementsByTagName("head");try{if((i=i.length?i:t.getElementsByTagName("body")).length){i=i[0];var o=r?null:i.firstChild;return i.insertBefore(e,o)}}catch(e){}}function Le(e,t){var n=null;return new W((function(r){var i=function(){e.removeEventListener("load",i),e.removeEventListener("error",i),null!=n&&window.clearTimeout(n),r()};e.addEventListener("load",i),e.addEventListener("error",i),null!=t&&(n=window.setTimeout(i,t))}))}function We(e,t,n){var r=new Image;t&&ce.isFn(t)&&Le(r,n).then(t),r.src=e}function He(e){if(e){var t,n,r=((t=document.createElement("iframe")).id=de(),t.height=0,t.width=0,t.border="0px",t.hspace="0",t.vspace="0",t.marginWidth="0",t.marginHeight="0",t.style.border="0",t.scrolling="no",t.frameBorder="0",t.src="about:blank",t.style.display="none",t.style.height="0px",t.style.width="0px",t.allowtransparency="true",t);ce.insertElement(r,document,"body"),(n=r.contentWindow.document).open(),n.write(e),n.close()}}function Ve(e,t,n){var r=ce.createTrackPixelIframeHtml(e,!1,"allow-scripts allow-same-origin"),i=document.createElement("div");i.innerHTML=r;var o=i.firstChild;t&&ce.isFn(t)&&Le(o,n).then(t),ce.insertElement(o,document,"html",!0)}function Ge(e){if(!e)return"";var t='<div style="position:absolute;left:0px;top:0px;visibility:hidden;">';return t+='<img src="'+encodeURI(e)+'"></div>'}function $e(e,t,n){return n.indexOf(e)===t}function Je(e,t){return e.concat(t)}function Xe(e,t){if(e)return t.flatMap((function(e){return e.bids})).find((function(t){return["bidId","adId","bid_id"].some((function(n){return t[n]===e}))}))}function Qe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe.adUnits;return e.map((function(e){return e.bids.map((function(e){return e.bidder})).reduce(Je,[])})).reduce(Je,[]).filter((function(e){return void 0!==e})).filter($e)}function Ke(){if(window.googletag&&ke(window.googletag.pubads)&&ke(window.googletag.pubads().getSlots))return!0}function Ye(e){for(var t=e.length;t>0;){var n=Math.floor(Math.random()*t),r=e[--t];e[t]=e[n],e[n]=r}return e}function Ze(e){return k()(e)}function et(){try{return ce.getWindowSelf()!==ce.getWindowTop()}catch(e){return!0}}function tt(e,t){if(e)return Object.entries(t).reduce((function(e,t){var n=X(t,2),r=n[0],i=n[1];return e.replace(new RegExp("\\$\\{"+r+"\\}","g"),i||"")}),e)}function nt(e,t){return tt(e,{AUCTION_PRICE:t})}function rt(){return(new Date).getTime()}function it(){return!1!==T.getConfig("deviceAccess")}function ot(){if(window.navigator.cookieEnabled||document.cookie.length)return!0}function at(e,t){return e.reduce((function(e,n){return(e[n[t]]=e[n[t]]||[]).push(n),e}),{})}function st(e,t){return t.filter((function(t){return e[t]})).reduce((function(t,n){return J(t,$({},n,e[n]))}),{})}function ct(e,t,n){return e.filter((function(e){return e.code===t})).flatMap((function(e){return e.bids})).filter((function(e){return e.bidder===n})).map((function(e){return e.params||{}}))}function ut(){return"1"===navigator.doNotTrack||"1"===window.doNotTrack||"1"===navigator.msDoNotTrack||"yes"===navigator.doNotTrack}var dt=function(e,t){return e.getAdUnitPath()===t||e.getSlotElementId()===t};function lt(e){return function(t){return dt(e,t)}}function ft(e,t){var n=Object.keys(e.mediaTypes||{banner:"banner"}).join(", ");return"\n    ".concat(e.code," is a ").concat(n," ad unit\n    containing bidders that don't support ").concat(n,": ").concat(t,".\n    This bidder won't fetch demand.\n  ")}var pt=Number.isInteger.bind(Number);function mt(e){return Object.fromEntries(Object.entries(e).filter((function(e){var t=X(e,2);return t[0],void 0!==t[1]})))}function vt(e,t){return"object"!=typeof e?{}:t.reduce((function(n,r,i){if("function"==typeof r)return n;var o=r,a=r.match(/^(.+?)\sas\s(.+?)$/i);a&&(r=a[1],o=a[2]);var s=e[r];return"function"==typeof t[i+1]&&(s=t[i+1](s,n)),void 0!==s&&(n[o]=s),n}),{})}function gt(e,t){return Re(e)&&(!t||e.length===t)&&e.every((function(e){return pt(e)}))}function ht(e){return e?e.replace(/^\?/,"").split("&").reduce((function(e,t){var n=X(t.split("="),2),r=n[0],i=n[1];return/\[\]$/.test(r)?(e[r=r.replace("[]","")]=e[r]||[],e[r].push(i)):e[r]=i||"",e}),{}):{}}function bt(e){return Object.keys(e).map((function(t){return Array.isArray(e[t])?e[t].map((function(e){return"".concat(t,"[]=").concat(e)})).join("&"):"".concat(t,"=").concat(e[t])})).join("&")}function yt(e,t){var n=document.createElement("a");t&&"noDecodeWholeURL"in t&&t.noDecodeWholeURL?n.href=e:n.href=decodeURIComponent(e);var r=t&&"decodeSearchAsString"in t&&t.decodeSearchAsString;return{href:n.href,protocol:(n.protocol||"").replace(/:$/,""),hostname:n.hostname,port:+n.port,pathname:n.pathname.replace(/^(?!\/)/,"/"),search:r?n.search:ce.parseQS(n.search||""),hash:(n.hash||"").replace(/^#/,""),host:n.host||window.location.host}}function wt(e){return(e.protocol||"http")+"://"+(e.host||e.hostname+(e.port?":".concat(e.port):""))+(e.pathname||"")+(e.search?"?".concat(ce.formatQS(e.search||"")):"")+(e.hash?"#".concat(e.hash):"")}function It(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.checkTypes,i=void 0!==r&&r;if(e===t)return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t||i&&e.constructor!==t.constructor)return!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var o in e){if(!t.hasOwnProperty(o))return!1;if(!It(e[o],t[o],{checkTypes:i}))return!1}return!0}function _t(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(!n.length)return e;var i=n.shift();if(Pe(e)&&Pe(i)){var o=function(t){Pe(i[t])?(e[t]||J(e,$({},t,{})),_t(e[t],i[t])):Re(i[t])?e[t]?Re(e[t])&&i[t].forEach((function(n){for(var r=1,i=0;i<e[t].length;i++)if(It(e[t][i],n)){r=0;break}r&&e[t].push(n)})):J(e,$({},t,G(i[t]))):J(e,$({},t,i[t]))};for(var a in i)o(a)}return _t.apply(void 0,[e].concat(n))}function Ct(e){for(var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=function(e,t){if(ke(Math.imul))return Math.imul(e,t);var n=(4194303&e)*(t|=0);return 4290772992&e&&(n+=(4290772992&e)*t|0),0|n},i=3735928559^n,o=1103547991^n,a=0;a<e.length;a++)i=r(i^(t=e.charCodeAt(a)),2654435761),o=r(o^t,1597334677);return i=r(i^i>>>16,2246822507)^r(o^o>>>13,3266489909),(4294967296*(2097151&(o=r(o^o>>>16,2246822507)^r(i^i>>>13,3266489909)))+(i>>>0)).toString()}function St(e){try{return JSON.parse(e)}catch(e){}}function xt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e},n=new Map,r=function(){var r=t.apply(this,arguments);return n.has(r)||n.set(r,e.apply(this,arguments)),n.get(r)};return r.clear=n.clear.bind(n),r}function At(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return e},r=0,i=e.length&&e.length-1,o=n(t);i-r>1;){var a=r+Math.round((i-r)/2);o>n(e[a])?r=a:i=a}for(;e.length>r&&o>n(e[r]);)r++;return r}function Et(e,t,n){t.split&&(t=t.split("."));for(var r,i,o=0,a=t.length,s=e;o<a&&"__proto__"!==(i=t[o++])&&"constructor"!==i&&"prototype"!==i;)s=s[i]=o===a?n:typeof(r=s[i])==typeof t?r:0*t[o]!=0||~(""+t[o]).indexOf(".")?{}:[]}function Tt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ot(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return kt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jt(){var e,t,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=r.startTime,o=void 0===i?rt:i,a=r.ttl,s=void 0===a?function(){return null}:a,c=r.monotonic,u=void 0!==c&&c,d=r.slack,l=void 0===d?5e3:d,f=new Map,p=[],m=u?function(e){return p.push(e)}:function(e){return p.splice(At(p,e,(function(e){return e.expiry})),0,e)};function v(){if(n&&clearTimeout(n),p.length>0){var e=rt();t=Math.max(e,p[0].expiry+l),n=setTimeout((function(){var e=rt(),t=0;for(var r of p){if(r.expiry>e)break;f.delete(r.item),t++}p.splice(0,t),n=null,v()}),t-e)}else n=null}function g(e){var r,i={},a=h,c=Object.entries({start:o,delta:s}).map((function(o){var s,c=Ot(o,2),u=c[0],d=c[1];return function(){var o=s={};W.resolve(d(e)).then((function(e){o===s&&(i[u]=e,a===h&&null!=i.start&&null!=i.delta&&(r=i.start+i.delta,m(p),(null==n||t>r+l)&&v()))}))}})),u=Ot(c,2),d=u[0],f=u[1],p={item:e,refresh:f,get expiry(){return r}};return d(),f(),p}var h={};return Tt(e={},Symbol.iterator,(function(){return f.keys()})),Tt(e,"add",(function(e){!f.has(e)&&f.set(e,g(e))})),Tt(e,"clear",(function(){p.length=0,v(),f.clear(),h={}})),Tt(e,"toArray",(function(){return Array.from(f.keys())})),Tt(e,"refresh",(function(){for(var e of(p.length=0,v(),f.values()))e.refresh()})),e}function Rt(){return Rt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rt.apply(this,arguments)}var zt="eventHistoryTTL",Pt=null,Bt=jt({monotonic:!0,ttl:function(){return Pt}});T.getConfig(zt,(function(e){var t,n=Pt;e=null===(t=e)||void 0===t?void 0:t[zt],n!==(Pt="number"==typeof e?1e3*e:null)&&Bt.refresh()}));var Dt,Ut=Array.prototype.slice,Nt=Array.prototype.push,Ft=Object.values(h.FP),Mt=h.aI,qt=function(){var e={},t={};function n(t,n){Ie("Emitting event for: "+t);var r=n[0]||{},i=r[Mt[t]],o=e[t]||{que:[]},a=Object.keys(o),s=[];Bt.add({eventType:t,args:r,id:i,elapsedTime:window.performance&&window.performance.now&&window.performance.now()||0}),i&&a.includes(i)&&Nt.apply(s,o[i].que),Nt.apply(s,o.que),(s||[]).forEach((function(e){if(e)try{e.apply(null,n)}catch(e){Se("Error executing handler:","events.js",e,t)}}))}function r(e){return Ft.includes(e)}return t.has=r,t.on=function(t,n,i){if(r(t)){var o=e[t]||{que:[]};i?(o[i]=o[i]||{que:[]},o[i].que.push(n)):o.que.push(n),e[t]=o}else Se("Wrong event name : "+t+" Valid event names :"+Ft)},t.emit=function(e){var t=Ut.call(arguments,1);n(e,t)},t.off=function(t,n,r){var i=e[t];De(i)||De(i.que)&&De(i[r])||r&&(De(i[r])||De(i[r].que))||(r?(i[r].que||[]).forEach((function(e){var t=i[r].que;e===n&&t.splice(t.indexOf(e),1)})):(i.que||[]).forEach((function(e){var t=i.que;e===n&&t.splice(t.indexOf(e),1)})),e[t]=i)},t.get=function(){return e},t.addEvents=function(e){Ft=Ft.concat(e)},t.getEvents=function(){return Bt.toArray().map((function(e){return Rt({},e)}))},t}();Dt=qt.emit.bind(qt),Y=Dt;var Lt=qt.on,Wt=qt.off;qt.get;var Ht=qt.getEvents,Vt=qt.emit;function Gt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return $t(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$t(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Jt(){return Jt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jt.apply(this,arguments)}qt.addEvents,qt.has;var Xt={fetch:window.fetch.bind(window),makeRequest:function(e,t){return new Request(e,t)},timeout:function(e,t){var n=new AbortController,r=setTimeout((function(){n.abort(),Se("Request timeout after ".concat(e,"ms"),t),r=null}),e);return{signal:n.signal,done:function(){r&&clearTimeout(r)}}}},Qt="GET",Kt="POST",Yt="Content-Type";function Zt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.method||(t?Kt:Qt);if(r===Qt&&t){var i=yt(e,n);Jt(i.search,t),e=wt(i)}var o=new Headers(n.customHeaders);o.set(Yt,n.contentType||"text/plain");var a={method:r,headers:o};return r!==Qt&&t&&(a.body=t),n.withCredentials&&(a.credentials="include"),n.browsingTopics&&isSecureContext&&(a.browsingTopics=!0),Xt.makeRequest(e,a)}function en(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.request,r=t.done,i=function(t,n){var r,i,o;null==e||null!=(null===(r=n)||void 0===r?void 0:r.signal)||T.getConfig("disableAjaxTimeout")||(n=Jt({signal:(o=Xt.timeout(e,t)).signal},n));var a=Xt.fetch(t,n);return null!=(null===(i=o)||void 0===i?void 0:i.done)&&(a=a.finally(o.done)),a};return null==n&&null==r||(i=function(e){return function(t,i){var o=new URL(null==(null==t?void 0:t.url)?t:t.url,document.location).origin,a=e(t,i);return n&&n(o),r&&(a=a.finally((function(){return r(o)}))),a}}(i)),i}function tn(e,t){var n=e.status,r=e.statusText,i=void 0===r?"":r,o=e.headers,a=e.url,s=0;function c(e){if(0===s)try{var n,r;s=(new DOMParser).parseFromString(t,null==o||null===(n=o.get(Yt))||void 0===n||null===(r=n.split(";"))||void 0===r?void 0:r[0])}catch(t){s=null,e&&e(t)}return s}return{readyState:XMLHttpRequest.DONE,status:n,statusText:i,responseText:t,response:t,responseType:"",responseURL:a,get responseXML(){return c(Se)},getResponseHeader:function(e){return null!=o&&o.has(e)?o.get(e):null},toJSON:function(){return Jt({responseXML:c()},this)},timedOut:!1}}function nn(e,t){var n="object"==typeof t&&null!=t?t:{success:"function"==typeof t?t:function(){return null},error:function(e,t){return Se("Network error",e,t)}},r=n.success,i=n.error;e.then((function(e){return e.text().then((function(t){return[e,t]}))})).then((function(e){var t=Gt(e,2),n=t[0],o=t[1],a=tn(n,o);n.ok||304===n.status?r(o,a):i(n.statusText,a)}),(function(e){return i("",Jt(tn({status:0},""),{reason:e,timedOut:"AbortError"===(null==e?void 0:e.name)}))}))}function rn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.request,r=t.done,i=en(e,{request:n,done:r});return function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};nn(i(Zt(e,n,r)),t)}}var on=rn();function an(e,t){var n=t?"<![CDATA[".concat(t,"]]>"):"";return'<VAST version="3.0">\n    <Ad>\n      <Wrapper>\n        <AdSystem>prebid.org wrapper</AdSystem>\n        <VASTAdTagURI><![CDATA['.concat(e,"]]></VASTAdTagURI>\n        <Impression>").concat(n,"</Impression>\n        <Creatives></Creatives>\n      </Wrapper>\n    </Ad>\n  </VAST>")}function sn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.index,r=void 0===n?Ba.index:n,i=e.vastXml?e.vastXml:an(e.vastUrl,e.vastImpUrl),o=r.getAuction(e),a=Number(e.ttl)+15,s={type:"xml",value:i,ttlseconds:a};return T.getConfig("cache.vasttrack")&&(s.bidder=e.bidder,s.bidid=e.requestId,s.aid=e.auctionId),null!=o&&(s.timestamp=o.getAuctionStart()),"string"==typeof e.customCacheKey&&""!==e.customCacheKey&&(s.key=e.customCacheKey),s}function cn(e){return{success:function(t){var n;try{n=JSON.parse(t).responses}catch(t){return void e(t,[])}n?e(null,n):e(new Error("The cache server didn't respond with a responses property."),[])},error:function(t,n){e(new Error("Error storing video ad in the cache: ".concat(t,": ").concat(JSON.stringify(n))),[])}}}en();var un=new WeakMap,dn=["debugging","adloox","criteo","outstream","adagio","spotx","browsi","brandmetrics","justtag","tncId","akamaidap","ftrackId","inskin","hadron","medianet","improvedigital","aaxBlockmeter","confiant","arcspan","airgrid","clean.io","a1Media","geoedge","mediafilter","qortex","dynamicAdBoost","contxtful","id5"];function ln(e,t,n,r,i){if(t&&e){if(o(dn,t)){r||(r=document);var a=u(r,e);if(a)return n&&"function"==typeof n&&(a.loaded?n():a.callbacks.push(n)),a.tag;var s=un.get(r)||{},c={loaded:!1,tag:null,callbacks:[]};return s[e]=c,un.set(r,s),n&&"function"==typeof n&&c.callbacks.push(n),Ce("module ".concat(t," is loading external JavaScript")),function(t,n,r,i){r||(r=document);var o=r.createElement("script");o.type="text/javascript",o.async=!0;var a=u(r,e);return a&&(a.tag=o),o.readyState?o.onreadystatechange=function(){"loaded"!==o.readyState&&"complete"!==o.readyState||(o.onreadystatechange=null,n())}:o.onload=function(){n()},o.src=t,i&&function(e,t){Object.entries(t).forEach((function(t){var n=X(t,2),r=n[0],i=n[1];return e.setAttribute(r,i)}))}(o,i),qe(o,r),o}(e,(function(){c.loaded=!0;try{for(var e=0;e<c.callbacks.length;e++)c.callbacks[e]()}catch(e){Se("Error executing callback","adloader.js:loadExternalScript",e)}}),r,i)}Se("".concat(t," not whitelisted for loading external JavaScript"))}else Se("cannot load external script without url and moduleCode");function u(e,t){var n=un.get(e);return n&&n[t]?n[t]:null}}var fn=r(),pn="outstream";function mn(e){var t=this,n=e.url,r=e.config,i=e.id,o=e.callback,a=e.loaded,s=e.adUnitCode,c=e.renderNow;this.url=n,this.config=r,this.handlers={},this.id=i,this.renderNow=c,this.loaded=a,this.cmd=[],this.push=function(e){"function"==typeof e?t.loaded?e.call():t.cmd.push(e):Se("Commands given to Renderer.push must be wrapped in a function")},this.callback=o||function(){t.loaded=!0,t.process()},this.render=function(){var e=this,t=arguments,r=function(){e._render?e._render.apply(e,t):Ce("No render function was provided, please use .setRender on the renderer")};vn(s)?(Ce("External Js not loaded by Renderer since renderer url and callback is already defined on adUnit ".concat(s)),r()):c?r():(this.cmd.unshift(r),ln(n,pn,this.callback,this.documentContext))}.bind(this)}function vn(e){var t=a(fn.adUnits,(function(t){return t.code===e}));if(!t)return!1;var n=g(t,"renderer"),r=!!(n&&n.url&&n.render),i=g(t,"mediaTypes.video.renderer"),o=!!(i&&i.url&&i.render);return!!(r&&!0!==n.backupOnly||o&&!0!==i.backupOnly)}function gn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hn(e,t){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.add(e)}function bn(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}mn.install=function(e){return new mn({url:e.url,config:e.config,id:e.id,callback:e.callback,loaded:e.loaded,adUnitCode:e.adUnitCode,renderNow:e.renderNow})},mn.prototype.getConfig=function(){return this.config},mn.prototype.setRender=function(e){this._render=e},mn.prototype.setEventHandlers=function(e){this.handlers=e},mn.prototype.handleVideoEvent=function(e){var t=e.id,n=e.eventName;"function"==typeof this.handlers[n]&&this.handlers[n](),Ie("Prebid Renderer event for id ".concat(t," type ").concat(n))},mn.prototype.process=function(){for(;this.cmd.length>0;)try{this.cmd.shift().call()}catch(e){Se("Error processing Renderer command: ",e)}};var yn=new WeakSet,wn=function(){return e=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),hn(this,yn),this.getSettings=t,this.defaultScope=n},t=[{key:"get",value:function(e,t){var n=this.getOwn(e,t);return void 0===n&&(n=this.getOwn(null,t)),n}},{key:"getOwn",value:function(e,t){return e=bn(this,yn,In).call(this,e),g(this.getSettings(),"".concat(e,".").concat(t))}},{key:"getScopes",value:function(){var e=this;return Object.keys(this.getSettings()).filter((function(t){return t!==e.defaultScope}))}},{key:"settingsFor",value:function(e){return _t({},this.ownSettingsFor(null),this.ownSettingsFor(e))}},{key:"ownSettingsFor",value:function(e){return e=bn(this,yn,In).call(this,e),this.getSettings()[e]||{}}}],t&&gn(e.prototype,t),n&&gn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();function In(e){return null==e?this.defaultScope:e}var _n=new wn((function(){return r().bidderSettings||{}}),h.k2.zF),Cn="prebid",Sn="bidder",xn="userId",An="analytics",En=n(432),Tn=n.n(En);function On(e){return function(e){if(Array.isArray(e))return kn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return kn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kn(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var jn,Rn=Tn()({ready:Tn().SYNC|Tn().ASYNC|Tn().QUEUE}),zn=V();Rn.ready=(jn=Rn.ready,function(){try{return jn.apply(Rn,arguments)}finally{zn.resolve()}}),zn.promise;var Pn=Rn.get,Bn={};function Dn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=Bn[e];if(i)return i.apply(void 0,n);Pn(e).before((function(e,t){t.push(n),e(t)}))}function Un(){return Un=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Un.apply(this,arguments)}function Nn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Fn="component",Mn="componentType",qn="componentName",Ln="storageType",Wn="syncType";function Hn(e){return function(t,n,r){var i,o=(Nn(i={},Mn,t),Nn(i,qn,n),Nn(i,Fn,"".concat(t,".").concat(n)),i);return t===Sn&&(o.adapterCode=e(n)),Vn(Un(o,r))}}var Vn=Rn("sync",(function(e){return e}));function Gn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return $n(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$n(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Jn(){return Jn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jn.apply(this,arguments)}var Xn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe("Activity control:"),t={};function n(e){return t[e]=t[e]||[]}function r(t,n,r,i){var o;try{o=r(i)}catch(r){e.logError("Exception in rule ".concat(n," for '").concat(t,"'"),r),o={allow:!1,reason:r}}return o&&Jn({activity:t,name:n,component:i.component},o)}var i={},o=1e3;function a(t){var n=t.activity,r=t.name,a=t.allow,s=t.reason,c=t.component,u="".concat(r," ").concat(a?"allowed":"denied"," '").concat(n,"' for '").concat(c,"'").concat(s?":":""),d=i.hasOwnProperty(u);if(d&&clearTimeout(i[u]),i[u]=setTimeout((function(){return delete i[u]}),o),!d){var l=[u];s&&l.push(s),(a?e.logInfo:e.logWarn).apply(e,l)}}return[function(e,t,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10,o=n(e),a=o.findIndex((function(e){var t=Gn(e,1)[0];return i<t})),s=[i,t,r];return o.splice(a<0?o.length:a,0,s),function(){var e=o.indexOf(s);e>=0&&o.splice(e,1)}},function(e,t){var i,o;for(var s of n(e)){var c=Gn(s,3),u=c[0],d=c[1],l=c[2];if(i!==u&&o)break;i=u;var f=r(e,d,l,t);if(f){if(!f.allow)return a(f),!1;o=f}}return o&&a(o),!0}]}(),Qn=Gn(Xn,2),Kn=Qn[0],Yn=Qn[1],Zn="accessDevice",er="syncUser",tr="enrichUfpd",nr="enrichEids",rr="fetchBids",ir="transmitEids",or="transmitUfpd",ar="transmitPreciseGeo",sr="transmitTid";function cr(e){var t=e;return{callBids:function(){},setBidderCode:function(e){t=e},getBidderCode:function(){return t}}}function ur(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.src,r=void 0===n?"client":n,i=t.bidder,o=void 0===i?"":i,a=t.bidId,s=t.transactionId,c=t.auctionId,u=r,d=e||0;function l(){switch(d){case 0:return"Pending";case 1:return"Bid available";case 2:return"Bid returned empty or error response";case 3:return"Bid timed out"}}this.bidderCode=o,this.width=0,this.height=0,this.statusMessage=l(),this.adId=de(),this.requestId=a,this.transactionId=s,this.auctionId=c,this.mediaType="banner",this.source=u,this.getStatusCode=function(){return d},this.getSize=function(){return this.width+"x"+this.height},this.getIdentifiers=function(){return{src:this.source,bidder:this.bidderCode,bidId:this.requestId,transactionId:this.transactionId,auctionId:this.auctionId}}}function dr(e,t){return new ur(e,t)}var lr="outstream",fr="instream";function pr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.index,r=void 0===n?Ba.index:n,i=g(r.getMediaTypes(e),"video"),o=i&&g(i,"context"),a=i&&g(i,"useCacheKey"),s=r.getAdUnit(e);return mr(e,s,i,o,a)}var mr=Rn("sync",(function(e,t,n,r,i){return n&&(i||r!==lr)?T.getConfig("cache.url")||!e.vastXml||e.vastUrl?!(!e.vastUrl&&!e.vastXml):(Se('\n        This bid contains only vastXml and will not work when a prebid cache url is not specified.\n        Try enabling prebid cache with pbjs.setConfig({ cache: {url: "..."} });\n      '),!1):!(r===lr&&!i&&!(e.renderer||t&&t.renderer||n.renderer))}),"checkVideoBidSetup");function vr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return gr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gr(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function hr(){return hr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hr.apply(this,arguments)}var br="performanceMetrics",yr=window.performance&&window.performance.now?function(){return window.performance.now()}:function(){return Date.now()},wr=new WeakMap;function Ir(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.now,n=void 0===t?yr:t,r=e.mkNode,i=void 0===r?Sr:r,o=e.mkTimer,a=void 0===o?Cr:o,s=e.mkRenamer,c=void 0===s?function(e){return e}:s,u=e.nodes,d=void 0===u?wr:u;return function(){return function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return{forEach:function(t){t(e)}}};function o(e){return function(n){return t.dfWalk({visit:function(t,r){var i=r[e];if(i.hasOwnProperty(n))return i[n]}})}}r=c(r);var s=o("timestamps");function u(e,n){var i=r(e);t.dfWalk({follow:function(e,t){return t.propagate&&(!e||!e.stopPropagation)},visit:function(e,t){i.forEach((function(r){null==e?t.metrics[r]=n:(t.groups.hasOwnProperty(r)||(t.groups[r]=[]),t.groups[r].push(n))}))}})}function l(e){t.timestamps[e]=n()}function f(e,t){var r=s(e),i=null!=r?n()-r:null;return null!=t&&u(t,i),i}function p(e,t,n){var r=s(e),i=s(t),o=null!=r&&null!=i?i-r:null;return null!=n&&u(n,o),o}function m(e){return a(n,(function(t){return u(e,t)}))}function v(e,t){return m(e).stopAfter(t)()}function g(e,t,n){var r=m(e);return n(function(e){var t=r.stopBefore(e);return t.bail=e.bail&&r.stopBefore(e.bail),t.stopTiming=r,t.untimed=e,t}(t))}function h(){var e={};return t.dfWalk({visit:function(t,n){e=hr({},!t||t.includeGroups?n.groups:null,n.metrics,e)}}),e}function b(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=n.propagate,a=void 0===o||o,s=n.stopPropagation,c=void 0!==s&&s,u=n.includeGroups,d=void 0!==u&&u;return e(i([[t,{propagate:a,stopPropagation:c,includeGroups:d}]]),r)}function y(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.propagate,i=void 0===r||r,o=n.stopPropagation,a=void 0!==o&&o,s=n.includeGroups,c=void 0!==s&&s,u=d.get(e);null!=u&&u.addParent(t,{propagate:i,stopPropagation:a,includeGroups:c})}function w(n){return e(t,n)}function I(){return e(t.newSibling(),r)}var _={startTiming:m,measureTime:v,measureHookTime:g,checkpoint:l,timeSince:f,timeBetween:p,setMetric:u,getMetrics:h,fork:b,join:y,newMetrics:I,renameWith:w,toJSON:function(){return h()}};return d.set(_,t),_}(i([]))}}function _r(e,t,n){return function(){t&&t();try{return e.apply(this,arguments)}finally{n&&n()}}}function Cr(e,t){var n=e(),r=!1;function i(){r||(t(e()-n),r=!0)}return i.stopBefore=function(e){return _r(e,i)},i.stopAfter=function(e){return _r(e,null,i)},i}function Sr(e){return{metrics:{},timestamps:{},groups:{},addParent:function(t,n){e.push([t,n])},newSibling:function(){return Sr(e.slice())},dfWalk:function(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.visit,i=n.follow,o=void 0===i?function(){return!0}:i,a=n.visited,s=void 0===a?new Set:a,c=n.inEdge;if(!s.has(this)){if(s.add(this),null!=(t=r(c,this)))return t;for(var u of e){var d=vr(u,2),l=d[0],f=d[1];if(o(c,f)&&null!=(t=l.dfWalk({visit:r,follow:o,visited:s,inEdge:f})))return t}}}}}var xr=function(){var e=function(){},t=function(){return{}},n={forEach:e},r=function(){return null};r.stopBefore=function(e){return e},r.stopAfter=function(e){return e};var i=Object.defineProperties({dfWalk:e,newSibling:function(){return i},addParent:e},Object.fromEntries(["metrics","timestamps","groups"].map((function(e){return[e,{get:t}]}))));return Ir({now:function(){return 0},mkNode:function(){return i},mkRenamer:function(){return function(){return n}},mkTimer:function(){return r},nodes:{get:e,set:e}})()}(),Ar=!0;function Er(e){return Ar&&e||xr}T.getConfig(br,(function(e){Ar=!!e[br]}));var Tr,Or=(Tr=Ir(),function(){return Ar?Tr():xr});function kr(e,t){return function(n,r){return function(i){for(var o=arguments.length,a=new Array(o>1?o-1:0),s=1;s<o;s++)a[s-1]=arguments[s];var c=this;return Er(t.apply(c,a)).measureHookTime(e+n,i,(function(e){return r.call.apply(r,[c,e].concat(a))}))}}}var jr=kr("requestBids.",(function(e){return e.metrics})),Rr=kr("addBidResponse.",(function(e,t){return t.metrics})),zr=Hn((function(e){return jo.resolveAlias(e)}));function Pr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Br(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Br(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Br(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Dr(){return Dr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dr.apply(this,arguments)}var Ur=["cpm","ttl","creativeId","netRevenue","currency"],Nr=["auctionId","transactionId"];function Fr(e){var t=Array.isArray(e.supportedMediaTypes)?{supportedMediaTypes:e.supportedMediaTypes}:void 0;function n(e){var n=Mr(e);jo.registerBidAdapter(n,e.code,t)}n(e),Array.isArray(e.aliases)&&e.aliases.forEach((function(t){var r,i,o=t;Pe(t)&&(o=t.code,r=t.gvlid,i=t.skipPbsAliasing),jo.aliasRegistry[o]=e.code,n(Dr({},e,{code:o,gvlid:r,skipPbsAliasing:i}))}))}function Mr(e){return Dr(new cr(e.code),{getSpec:function(){return Object.freeze(Dr({},e))},registerSyncs:t,callBids:function(n,r,i,a,s,c){if(Array.isArray(n.bids)){var u=function(e){if(Yn(sr,zr(Sn,e)))return{bidRequest:function(e){return e},bidderRequest:function(e){return e}};function t(e,t,n){return Nr.includes(t)?null:Reflect.get(e,t,n)}function n(e,t){var n=new Proxy(e,t);return Object.entries(e).filter((function(e){var t=Pr(e,2);return t[0],"function"==typeof t[1]})).forEach((function(t){var r=Pr(t,2),i=r[0],o=r[1];return n[i]=o.bind(e)})),n}var r=xt((function(e){return n(e,{get:t})}),(function(e){return e.bidId}));return{bidRequest:r,bidderRequest:function(e){return n(e,{get:function(n,i,o){return"bids"===i?e.bids.map(r):t(n,i,o)}})}}}(n.bidderCode),d=[],l=Vr(n).measureTime("validate",(function(){return n.bids.filter((function(t){return n=u.bidRequest(t),!!e.isBidRequestValid(n)||(Ce("Invalid bid sent to bidder ".concat(e.code,": ").concat(JSON.stringify(n))),!1);var n}))}));if(0!==l.length){var f={};l.forEach((function(e){f[e.bidId]=e,e.adUnitCode||(e.adUnitCode=e.placementCode)})),qr(e,l.map(u.bidRequest),u.bidderRequest(n),a,c,{onRequest:function(e){return Vt(h.FP.BEFORE_BIDDER_HTTP,n,e)},onResponse:function(t){s(e.code),d.push(t)},onFledgeAuctionConfigs:function(e){e.forEach((function(e){var t=f[e.bidId];t?Wr(t,e.config):Ce("Received fledge auction configuration for an unknown bidId",e)}))},onError:function(t,r){r.timedOut||s(e.code),jo.callBidderError(e.code,r,n),Vt(h.FP.BIDDER_ERROR,{error:r,bidderRequest:n}),Se("Server call for ".concat(e.code," failed: ").concat(t," ").concat(r.status,". Continuing without bids."))},onBid:function(t){var n,i,o,a,s=f[t.requestId];if(s){if(t.adapterCode=s.bidder,n=t.bidderCode,i=s.bidder,o=_n.get(i,"allowAlternateBidderCodes")||!1,a=_n.get(i,"allowedAlternateBidderCodes"),n&&i&&i!==n&&(a=Re(a)?a.map((function(e){return e.trim().toLowerCase()})).filter((function(e){return!!e})).filter($e):a,!o||Re(a)&&"*"!==a[0]&&!a.includes(n)))return Ce("".concat(t.bidderCode," is not a registered partner or known bidder of ").concat(s.bidder,", hence continuing without bid. If you wish to support this bidder, please mark allowAlternateBidderCodes as true in bidderSettings.")),void r.reject(s.adUnitCode,t,h.Gw.Dg);t.originalCpm=t.cpm,t.originalCurrency=t.currency,t.meta=t.meta||Dr({},t[s.bidder]);var c=Dr(dr(h.Q_.Q,s),t,vt(s,Nr));p(s.adUnitCode,c)}else Ce("Bidder ".concat(e.code," made bid for unknown request ID: ").concat(t.requestId,". Ignoring.")),r.reject(null,t,h.Gw.Gp)},onCompletion:m})}else m()}function p(e,t){var n=Er(t.metrics);n.checkpoint("addBidResponse"),n.measureTime("addBidResponse.validate",(function(){return function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).index,r=void 0===n?Ba.index:n;function i(){var e=Object.keys(t);return Ur.every((function(n){return o(e,n)&&!o([void 0,null],t[n])}))}function a(e){return"Invalid bid from ".concat(t.bidderCode,". Ignoring bid: ").concat(e)}return e?t?i()?"native"!==t.mediaType||is(t,{index:r})?"video"!==t.mediaType||pr(t,{index:r})?!("banner"===t.mediaType&&!Hr(e,t,{index:r})&&(Se(a("Banner bids require a width and height")),1)):(Se(a("Video bid does not have required vastUrl or renderer property")),!1):(Se(a("Native bid missing some required properties.")),!1):(Se(a("Bidder ".concat(t.bidderCode," is missing required params. Check http://prebid.org/dev-docs/bidder-adapter-1.html for list of params."))),!1):(Ce("Some adapter tried to add an undefined bid for ".concat(e,".")),!1):(Ce("No adUnitCode was supplied to addBidResponse."),!1)}(e,t)}))?r(e,t):r.reject(e,t,h.Gw.UI)}function m(){i(),T.runWithBidder(e.code,(function(){Vt(h.FP.BIDDER_DONE,n),t(d,n.gdprConsent,n.uspConsent,n.gppConsent)}))}}});function t(t,n,r,i){Lr(e,t,n,r,i)}}var qr=Rn("sync",(function(e,t,n,r,i,o){var a=o.onRequest,s=o.onResponse,c=o.onFledgeAuctionConfigs,u=o.onError,d=o.onBid,l=o.onCompletion,f=Vr(n);l=f.startTiming("total").stopBefore(l);var p=f.measureTime("buildRequests",(function(){return e.buildRequests(t,n)}));if(p&&0!==p.length){Array.isArray(p)||(p=[p]);var m=function(e,t){if(t<1)throw new Error("numRequiredCalls must be a positive number. Got ".concat(t));var n=0;return function(){++n===t&&e.apply(this,arguments)}}(l,p.length);p.forEach((function(t){var n=f.fork();function o(e){null!=e&&(e.metrics=n.fork().renameWith()),d(e)}var l=i((function(r,i){g();try{r=JSON.parse(r)}catch(e){}r={body:r,headers:{get:i.getResponseHeader.bind(i)}},s(r);try{r=n.measureTime("interpretResponse",(function(){return e.interpretResponse(r,t)}))}catch(t){return Se("Bidder ".concat(e.code," failed to interpret the server's response. Continuing without bids"),null,t),void m()}var a;r&&Re(r.fledgeAuctionConfigs)?(c(r.fledgeAuctionConfigs),a=r.bids):a=r,a&&(Re(a)?a.forEach(o):o(a)),m()})),p=i((function(e,t){g(),u(e,t),m()}));a(t);var v,g=n.startTiming("net");function h(n){var r=t.options;return Dr(n,r,{browsingTopics:!(null!=r&&r.hasOwnProperty("browsingTopics")&&!r.browsingTopics)&&(_n.get(e.code,"topicsHeader")??!0)&&Yn(or,zr(Sn,e.code))})}switch(t.method){case"GET":r("".concat(t.url).concat((v=t.data)?"?".concat("object"==typeof v?function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t+=n+"="+encodeURIComponent(e[n])+"&");return t.replace(/&$/,"")}(v):v):""),{success:l,error:p},void 0,h({method:"GET",withCredentials:!0}));break;case"POST":r(t.url,{success:l,error:p},"string"==typeof t.data?t.data:JSON.stringify(t.data),h({method:"POST",contentType:"text/plain",withCredentials:!0}));break;default:Ce("Skipping invalid request from ".concat(e.code,". Request type ").concat(t.type," must be GET or POST")),m()}}))}else l()}),"processBidderRequests"),Lr=Rn("async",(function(e,t,n,r,i){var o=T.getConfig("userSync.aliasSyncEnabled");if(e.getUserSyncs&&(o||!jo.aliasRegistry[e.code])){var a=T.getConfig("userSync.filterSettings"),s=e.getUserSyncs({iframeEnabled:!(!a||!a.iframe&&!a.all),pixelEnabled:!(!a||!a.image&&!a.all)},t,n,r,i);s&&(Array.isArray(s)||(s=[s]),s.forEach((function(t){Ho.registerSync(t.type,e.code,t.url)})),Ho.bidderDone(e.code))}}),"registerSyncs"),Wr=Rn("sync",(function(e,t){}),"addComponentAuction");function Hr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.index,i=void 0===r?Ba.index:r;if((t.width||0===parseInt(t.width,10))&&(t.height||0===parseInt(t.height,10)))return t.width=parseInt(t.width,10),t.height=parseInt(t.height,10),!0;var o=i.getBidRequest(t),a=i.getMediaTypes(t),s=o&&o.sizes||a&&a.banner&&a.banner.sizes,c=me(s);if(1===c.length){var u=c[0].split("x"),d=Pr(u,2),l=d[0],f=d[1];return t.width=parseInt(l,10),t.height=parseInt(f,10),!0}return!1}function Vr(e){return Er(e.metrics).renameWith((function(t){return["adapter.client.".concat(t),"adapters.client.".concat(e.bidderCode,".").concat(t)]}))}var Gr={};function $r(e,t,n){var r=function(e,t){var n=Gr[e]=Gr[e]||{bidders:{}};return t?n.bidders[t]=n.bidders[t]||{}:n}(e,n);return r[t]=(r[t]||0)+1,r[t]}var Jr={incrementRequestsCounter:function(e){return $r(e,"requestsCounter")},incrementBidderRequestsCounter:function(e,t){return $r(e,"requestsCounter",t)},incrementBidderWinsCounter:function(e,t){return $r(e,"winsCounter",t)},getRequestsCounter:function(e){return g(Gr,"".concat(e,".requestsCounter"))||0},getBidderRequestsCounter:function(e,t){return g(Gr,"".concat(e,".bidders.").concat(t,".requestsCounter"))||0},getBidderWinsCounter:function(e,t){return g(Gr,"".concat(e,".bidders.").concat(t,".winsCounter"))||0}};function Xr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;if(!e)return e;if(/\w+:\/\//.exec(e))return e;var n=t.location.protocol;try{n=t.top.location.protocol}catch(e){}return/^\/\//.exec(e)?n+e:"".concat(n,"//").concat(e)}function Qr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.noLeadingWww,r=void 0!==n&&n,i=t.noPort,o=void 0!==i&&i;try{e=new URL(Xr(e))}catch(e){return}return e=o?e.hostname:e.host,r&&e.startsWith("www.")&&(e=e.substring(4)),e}function Kr(e){try{var t=e.querySelector("link[rel='canonical']");if(null!==t)return t.href}catch(e){}return null}var Yr,Zr=function(e){var t,n,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;return i.top!==i?e:function(){var o=Kr(i.document),a=i.location.href;return t===o&&a===n||(t=o,n=a,r=e()),r}}((Yr=window,function(){var e,t,n,r,i=[],o=function(e){try{if(!e.location.ancestorOrigins)return;return e.location.ancestorOrigins}catch(e){}}(Yr),a=T.getConfig("maxNestedIframes"),s=!1,c=0,u=!1,d=!1,l=!1;do{var f=e,p=d,m=void 0,v=!1,g=null;d=!1,e=e?e.parent:Yr;try{m=e.location.href||null}catch(e){v=!0}if(v)if(p){var h=f.context;try{t=g=h.sourceUrl,l=!0,u=!0,e===Yr.top&&(s=!0),h.canonicalUrl&&(n=h.canonicalUrl)}catch(e){}}else{Ce("Trying to access cross domain iframe. Continuing without referrer and location");try{var b=f.document.referrer;b&&(g=b,e===Yr.top&&(s=!0))}catch(e){}!g&&o&&o[c-1]&&(g=o[c-1],e===Yr.top&&(l=!0)),g&&!u&&(t=g)}else{if(m&&(t=g=m,u=!1,e===Yr.top)){s=!0;var y=Kr(e.document);y&&(n=y)}e.context&&e.context.sourceUrl&&(d=!0)}i.push(g),c++}while(e!==Yr.top&&c<a);i.reverse();try{r=Yr.top.document.referrer}catch(e){}var w=s||l?t:null,I=T.getConfig("pageUrl")||n||null,_=T.getConfig("pageUrl")||w||Xr(I,Yr);return w&&w.indexOf("?")>-1&&-1===_.indexOf("?")&&(_="".concat(_).concat(w.substring(w.indexOf("?")))),{reachedTop:s,isAmp:u,numIframes:c-1,stack:i,topmostLocation:t||null,location:w,canonicalUrl:I,page:_,domain:Qr(_)||null,ref:r||null,legacy:{reachedTop:s,isAmp:u,numIframes:c-1,stack:i,referer:t||null,canonicalUrl:I}}}));function ei(){return ei=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ei.apply(this,arguments)}function ti(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ni(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ni(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ni(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ri(e,t,n){return t=ii(t),function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){return!1}}()?Reflect.construct(t,n||[],ii(e).constructor):t.apply(e,n))}function ii(e){return ii=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ii(e)}function oi(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ai(e,t)}function ai(e,t){return ai=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ai(e,t)}function si(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ci(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ui(e,t,n){return t&&ci(e.prototype,t),n&&ci(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function di(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function li(e,t,n){fi(e,t),t.set(e,n)}function fi(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function pi(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}function mi(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,gi(e,t,"get"))}function vi(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,gi(e,t,"set"),n),n}function gi(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var hi=Object.freeze({});Object.freeze({});var bi=new WeakMap,yi=new WeakMap,wi=new WeakMap,Ii=new WeakMap,_i=new WeakMap,Ci=new WeakMap,Si=new WeakSet,xi=function(){return ui((function e(){var t,n;si(this,e),fi(t=this,n=Si),n.add(t),li(this,bi,{writable:!0,value:void 0}),li(this,yi,{writable:!0,value:void 0}),li(this,wi,{writable:!0,value:void 0}),li(this,Ii,{writable:!0,value:void 0}),li(this,_i,{writable:!0,value:!0}),li(this,Ci,{writable:!0,value:void 0}),di(this,"generatedTime",void 0),di(this,"hashFields",void 0),this.reset()}),[{key:"reset",value:function(){vi(this,wi,V()),vi(this,bi,!1),vi(this,yi,null),vi(this,Ii,!1),this.generatedTime=null}},{key:"enable",value:function(){vi(this,bi,!0)}},{key:"enabled",get:function(){return mi(this,bi)}},{key:"ready",get:function(){return mi(this,Ii)}},{key:"promise",get:function(){return mi(this,Ii)?W.resolve(mi(this,yi)):(mi(this,bi)||pi(this,Si,Ai).call(this,null),mi(this,wi).promise)}},{key:"setConsentData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:rt();this.generatedTime=t,vi(this,_i,!0),pi(this,Si,Ai).call(this,e)}},{key:"getConsentData",value:function(){return mi(this,yi)}},{key:"hash",get:function(){var e=this;return mi(this,_i)&&(vi(this,Ci,Ct(JSON.stringify(mi(this,yi)&&this.hashFields?this.hashFields.map((function(t){return mi(e,yi)[t]})):mi(this,yi)))),vi(this,_i,!1)),mi(this,Ci)}}])}();function Ai(e){vi(this,Ii,!0),vi(this,yi,e),mi(this,wi).resolve(e)}var Ei,Ti,Oi,ki=function(e){function t(){return si(this,t),ri(this,t,arguments)}return oi(t,e),ui(t,[{key:"getConsentMeta",value:function(){var e=this.getConsentData();if(e&&this.generatedTime)return{usp:e,generatedAt:this.generatedTime}}}])}(xi),ji=function(e){function t(){var e;si(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return di(e=ri(this,t,[].concat(r)),"hashFields",["gdprApplies","consentString"]),e}return oi(t,e),ui(t,[{key:"getConsentMeta",value:function(){var e=this.getConsentData();if(e&&e.vendorData&&this.generatedTime)return{gdprApplies:e.gdprApplies,consentStringSize:je(e.vendorData.tcString)?e.vendorData.tcString.length:0,generatedAt:this.generatedTime,apiVersion:e.apiVersion}}}])}(xi),Ri=function(e){function t(){var e;si(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return di(e=ri(this,t,[].concat(r)),"hashFields",["applicableSections","gppString"]),e}return oi(t,e),ui(t,[{key:"getConsentMeta",value:function(){if(this.getConsentData()&&this.generatedTime)return{generatedAt:this.generatedTime}}}])}(xi),zi=new ji,Pi=new ki,Bi=new Ri,Di=function(){function e(){return!!T.getConfig("coppa")}return{getCoppa:e,getConsentData:e,getConsentMeta:e,reset:function(){},get promise(){return W.resolve(e())},get hash(){return e()?"1":"0"}}}(),Ui=(Ei={},Ti={},Oi={},{register:function(e,t,n){n&&((Ei[t]=Ei[t]||{})[e]=n,Ti.hasOwnProperty(t)?Ti[t]!==n&&(Ti[t]=Oi):Ti[t]=n)},get:function(e){var t={modules:Ei[e]||{}};return Ti.hasOwnProperty(e)&&Ti[e]!==Oi&&(t.gvlid=Ti[e]),t}}),Ni={gdpr:zi,usp:Pi,gpp:Bi,coppa:Di},Fi=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ni;function t(t){return function(){return Object.fromEntries(e.map((function(e){var n=ti(e,2);return[n[0],n[1][t]()]})))}}return e=Object.entries(e),ei({get promise(){return W.all(e.map((function(e){var t=ti(e,2),n=t[0];return t[1].promise.then((function(e){return[n,e]}))}))).then((function(e){return Object.fromEntries(e)}))},get hash(){return Ct(e.map((function(e){var t=ti(e,2);return t[0],t[1].hash})).join(":"))}},Object.fromEntries(["getConsentData","getConsentMeta","reset"].map((function(e){return[e,t(e)]}))))}();function Mi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return qi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qi(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Li(){return Li=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Li.apply(this,arguments)}var Wi=["data","ext.data","yob","gender","keywords","kwarray","id","buyeruid","customdata"].map((function(e){return"user.".concat(e)})).concat("device.ext.cdep"),Hi=["user.eids","user.ext.eids"],Vi=["user.geo.lat","user.geo.lon","device.geo.lat","device.geo.lon"];function Gi(e){return Li({get:function(){},run:function(e,t,n,r,i){var o=n&&n[r];if(Xi(o)&&i()){var a=this.get(o);void 0===a?delete n[r]:n[r]=a}}},e)}function $i(e){return e.forEach((function(e){e.paths=e.paths.map((function(e){var t=e.split("."),n=t.pop();return[t.length>0?t.join("."):null,n]}))})),function(t,n){for(var r=[],i=arguments.length,o=new Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];var s=Ji.apply(void 0,[t].concat(o));return e.forEach((function(e){if(!1!==t[e.name])for(var i of e.paths){var o=Mi(i,2),a=o[0],c=o[1],u=null==a?n:g(n,a);if(r.push(e.run(n,a,u,c,s.bind(null,e))),!1===t[e.name])return}})),r.filter((function(e){return null!=e}))}}function Ji(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(t){return e.hasOwnProperty(t.name)||(e[t.name]=!!t.applies.apply(t,n)),e[t.name]}}function Xi(e){return null!=e&&("object"!=typeof e||Object.keys(e).length>0)}function Qi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Yn;return function(n){return!t(e,n)}}function Ki(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yn;return[{name:ir,paths:["userId","userIdAsEids"],applies:Qi(ir,e)},{name:sr,paths:["ortb2Imp.ext.tid"],applies:Qi(sr,e)}].map(Gi)}function Yi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yn;return[{name:or,paths:Wi,applies:Qi(or,e)},{name:ir,paths:Hi,applies:Qi(ir,e)},{name:ar,paths:Vi,applies:Qi(ar,e),get:function(e){return Math.round(100*(e+Number.EPSILON))/100}},{name:sr,paths:["source.tid"],applies:Qi(sr,e)}].map(Gi)}var Zi=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yn,t=$i(Yi(e)),n=$i(Ki(e));return function(e){var r={};return{ortb2:function(n){return t(r,n,e),n},bidRequest:function(t){return n(r,t,e),t}}}}();function eo(e){return function(e){if(Array.isArray(e))return oo(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||io(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function to(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function no(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?to(Object(n),!0).forEach((function(t){so(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):to(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ro(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||io(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function io(e,t){if(e){if("string"==typeof e)return oo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oo(e,t):void 0}}function oo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ao(){return ao=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ao.apply(this,arguments)}function so(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Kn(sr,"enableTIDs config",(function(){if(!T.getConfig("enableTIDs"))return{allow:!1,reason:"TIDs are disabled"}}));var co="pbsBidAdapter",uo="client",lo="server",fo={isAllowed:Yn,redact:Zi},po={},mo=po.bidderRegistry={},vo=po.aliasRegistry={},go=[];T.getConfig("s2sConfig",(function(e){e&&e.s2sConfig&&(go=Re(e.s2sConfig)?e.s2sConfig:[e.s2sConfig])}));var ho={},bo=Hn((function(e){return po.resolveAlias(e)}));function yo(e){return bo(Cn,co,so({},"configName",e.configName))}var wo=Rn("sync",(function(e){var t=e.bidderCode,n=e.auctionId,r=e.bidderRequestId,i=e.adUnits,a=e.src,s=e.metrics;return i.reduce((function(e,i){var c=i.bids.filter((function(e){return e.bidder===t}));return null==t&&0===c.length&&null!=i.s2sBid&&c.push({bidder:null}),e.push(c.reduce((function(e,t){var c=null==(t=ao({},t,{ortb2Imp:_t({},i.ortb2Imp,t.ortb2Imp)},st(i,["nativeParams","nativeOrtbRequest","mediaType","renderer"]))).mediaTypes?i.mediaTypes:t.mediaTypes;return function(e){var t=["banner","native","video"];return!!Object.keys(e).every((function(e){return o(t,e)}))&&(!e.video||!e.video.context||o(["instream","outstream","adpod"],e.video.context))}(c)?t=ao({},t,{mediaTypes:c}):Se("mediaTypes is not correctly configured for adunit ".concat(i.code)),e.push(ao({},t,{adUnitCode:i.code,transactionId:i.transactionId,sizes:g(c,"banner.sizes")||g(c,"video.playerSize")||[],bidId:t.bid_id||de(),bidderRequestId:r,auctionId:n,src:a,metrics:s,bidRequestsCount:Jr.getRequestsCounter(i.code),bidderRequestsCount:Jr.getBidderRequestsCounter(i.code,t.bidder),bidderWinsCount:Jr.getBidderWinsCounter(i.code,t.bidder)})),e}),[])),e}),[]).reduce(Je,[]).filter((function(e){return""!==e}))}),"getBids"),Io=Rn("sync",(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.getS2SBidders,i=void 0===r?xo:r;if(null==t)return e;var o=i(t);return e.filter((function(e){return o.has(e.bidder)}))}),"filterBidsForAdUnit");function _o(e,t){var n=Ze(e),r=!1;return n.forEach((function(e){var n=e.bids.filter((function(e){var n;return e.module===co&&(null===(n=e.params)||void 0===n?void 0:n.configName)===t.configName}));1===n.length?(e.s2sBid=n[0],r=!0,e.ortb2Imp=_t({},e.s2sBid.ortb2Imp,e.ortb2Imp)):n.length>1&&Ce('Multiple "module" bids for the same s2s configuration; all will be ignored',n),e.bids=Io(e.bids,t).map((function(e){return e.bid_id=de(),e}))})),{adUnits:n=n.filter((function(e){return 0!==e.bids.length||null!=e.s2sBid})),hasModuleBids:r}}function Co(e){var t=Ze(e);return t.forEach((function(e){e.bids=Io(e.bids,null)})),t=t.filter((function(e){return 0!==e.bids.length}))}var So=Rn("sync",(function(e,t){return e}),"setupAdUnitMediaTypes");function xo(e){Re(e)||(e=[e]);var t=new Set([null]);return e.filter((function(e){return e&&e.enabled})).flatMap((function(e){return e.bidders})).forEach((function(e){return t.add(e)})),t}var Ao=Rn("sync",(function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r.getS2SBidders,o=void 0===i?xo:i,a=o(t);return Qe(e).reduce((function(e,t){return e[a.has(t)?lo:uo].push(t),e}),(so(n={},uo,[]),so(n,lo,[]),n))}),"partitionBidders");function Eo(e,t){var n=mo[e],r=(null==n?void 0:n.getSpec)&&n.getSpec();if(r&&r[t]&&"function"==typeof r[t])return[r,r[t]]}function To(e,t,n,r){try{_e("Invoking ".concat(e,".").concat(t));for(var i=arguments.length,o=new Array(i>4?i-4:0),a=4;a<i;a++)o[a-4]=arguments[a];T.runWithBidder(e,r.bind.apply(r,[n].concat(o)))}catch(n){Ce("Error calling ".concat(t," of ").concat(e))}}function Oo(e,t,n){if((null==n?void 0:n.src)!==h.os.YZ){var r=Eo(e,t);null!=r&&To.apply(void 0,[e,t].concat(eo(r),[n]))}}function ko(e){for(var t=new Set;vo.hasOwnProperty(e)&&!t.has(e);)t.add(e),e=vo[e];return e}po.makeBidRequests=Rn("sync",(function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},s=arguments.length>6?arguments[6]:void 0;s=Er(s),Vt(h.FP.BEFORE_REQUEST_BIDS,e),ns(e),e.forEach((function(e){Pe(e.mediaTypes)||(e.mediaTypes={}),e.bids=e.bids.filter((function(e){return!e.bidder||fo.isAllowed(rr,bo(Sn,e.bidder))}))})),e=So(e,i);var c=Ao(e,go),u=c[uo],d=c[lo];T.getConfig("bidderSequence")===S&&(u=Ye(u));var l=Zr(),f=[],p=o.global||{},m=o.bidder||{};function v(e,t){var r=fo.redact(null!=t?t:bo(Sn,e.bidderCode)),i=Object.freeze(r.ortb2(_t({source:{tid:n}},p,m[e.bidderCode])));return e.ortb2=i,e.bids=e.bids.map((function(e){return e.ortb2=i,r.bidRequest(e)})),e}go.forEach((function(r){var i=yo(r);if(r&&r.enabled&&fo.isAllowed(rr,i)){var o=_o(e,r),c=o.adUnits,u=o.hasModuleBids,p=le();(0===d.length&&u?[null]:d).forEach((function(e){var o=de(),a=s.fork(),u=v({bidderCode:e,auctionId:n,bidderRequestId:o,uniquePbsTid:p,bids:wo({bidderCode:e,auctionId:n,bidderRequestId:o,adUnits:Ze(c),src:h.os.YZ,metrics:a}),auctionStart:t,timeout:r.timeout,src:h.os.YZ,refererInfo:l,metrics:a},i);0!==u.bids.length&&f.push(u)})),c.forEach((function(e){var t=e.bids.filter((function(e){return a(f,(function(t){return a(t.bids,(function(t){return t.bidId===e.bid_id}))}))}));e.bids=t})),f.forEach((function(e){void 0===e.adUnitsS2SCopy&&(e.adUnitsS2SCopy=c.filter((function(e){return e.bids.length>0||null!=e.s2sBid})))}))}}));var g=Co(e);return u.forEach((function(e){var o=de(),a=s.fork(),c=v({bidderCode:e,auctionId:n,bidderRequestId:o,bids:wo({bidderCode:e,auctionId:n,bidderRequestId:o,adUnits:Ze(g),labels:i,src:"client",metrics:a}),auctionStart:t,timeout:r,refererInfo:l,metrics:a}),u=mo[e];u||Se("Trying to make a request for bidder that does not exist: ".concat(e)),u&&c.bids&&0!==c.bids.length&&f.push(c)})),f.forEach((function(e){zi.getConsentData()&&(e.gdprConsent=zi.getConsentData()),Pi.getConsentData()&&(e.uspConsent=Pi.getConsentData()),Bi.getConsentData()&&(e.gppConsent=Bi.getConsentData())})),f}),"makeBidRequests"),po.callBids=function(e,t,n,r,i,o,a){var s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{};if(t.length){var c=t.reduce((function(e,t){return e[Number(void 0!==t.src&&t.src===h.os.YZ)].push(t),e}),[[],[]]),u=ro(c,2),d=u[0],l=u[1],f=[];l.forEach((function(e){for(var t=-1,n=0;n<f.length;++n)if(e.uniquePbsTid===f[n].uniquePbsTid){t=n;break}t<=-1&&f.push(e)}));var p=0;go.forEach((function(e){if(e&&f[p]&&xo(e).has(f[p].bidderCode)){var t=rn(o,i?{request:i.request.bind(null,"s2s"),done:i.done}:void 0),c=e.bidders,u=mo[e.adapter],d=f[p].uniquePbsTid,m=f[p].adUnitsS2SCopy,v=l.filter((function(e){return e.uniquePbsTid===d}));if(u){var g={ad_units:m,s2sConfig:e,ortb2Fragments:s};if(g.ad_units.length){var b=v.map((function(e){return e.start=rt(),function(t){t||a(e.bidderRequestId),r.apply(e,arguments)}})),y=Qe(g.ad_units).filter((function(e){return c.includes(e)}));Ie("CALLING S2S HEADER BIDDERS ==== ".concat(y.length>0?y.join(", "):'No bidder specified, using "ortb2Imp" definition(s) only')),v.forEach((function(e){Vt(h.FP.BID_REQUESTED,no(no({},e),{},{tid:e.auctionId}))})),u.callBids(g,l,n,(function(e){return b.forEach((function(t){return t(e)}))}),t)}}else Se("missing "+e.adapter);p++}})),d.forEach((function(e){e.start=rt();var t=mo[e.bidderCode];T.runWithBidder(e.bidderCode,(function(){Ie("CALLING BIDDER"),Vt(h.FP.BID_REQUESTED,e)}));var s=rn(o,i?{request:i.request.bind(null,e.bidderCode),done:i.done}:void 0),c=r.bind(e);try{T.runWithBidder(e.bidderCode,t.callBids.bind(t,e,n,c,s,(function(){return a(e.bidderRequestId)}),T.callbackWithBidder(e.bidderCode)))}catch(t){Se("".concat(e.bidderCode," Bid Adapter emitted an uncaught error when parsing their bidRequest"),{e:t,bidRequest:e}),c()}}))}else Ce("callBids executed with no bidRequests.  Were they filtered by labels or sizing?")},po.videoAdapters=[],po.registerBidAdapter=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r.supportedMediaTypes,a=void 0===i?[]:i;e&&t?"function"==typeof e.callBids?(mo[t]=e,Ui.register(Sn,t,null===(n=e.getSpec)||void 0===n?void 0:n.call(e).gvlid),o(a,"video")&&po.videoAdapters.push(t),o(a,"native")&&Wa.push(t)):Se("Bidder adaptor error for bidder code: "+t+"bidder must implement a callBids() function"):Se("bidAdapter or bidderCode not specified")},po.aliasBidAdapter=function(e,t,n){if(void 0===mo[t]){var r=mo[e];if(void 0===r){var i=[];go.forEach((function(n){if(n.bidders&&n.bidders.length){var r=n&&n.bidders;n&&o(r,t)?vo[t]=e:i.push(e)}})),i.forEach((function(e){Se('bidderCode "'+e+'" is not an existing bidder.',"adapterManager.aliasBidAdapter")}))}else try{var a,s=function(e){var t=[];return o(po.videoAdapters,e)&&t.push("video"),o(Wa,e)&&t.push("native"),t}(e);if(r.constructor.prototype!=Object.prototype)(a=new r.constructor).setBidderCode(t);else{var c=r.getSpec(),u=n&&n.gvlid;null!=c.gvlid&&null==u&&Ce("Alias '".concat(t,"' will NOT re-use the GVL ID of the original adapter ('").concat(c.code,"', gvlid: ").concat(c.gvlid,"). Functionality that requires TCF consent may not work as expected."));var d=n&&n.skipPbsAliasing;a=Mr(ao({},c,{code:t,gvlid:u,skipPbsAliasing:d})),vo[t]=e}po.registerBidAdapter(a,t,{supportedMediaTypes:s})}catch(t){Se(e+" bidder does not currently support aliasing.","adapterManager.aliasBidAdapter")}}else Ie('alias name "'+t+'" has been already specified.')},po.resolveAlias=function(e){for(var t,n=e;vo[n]&&(!t||!t.has(n));)n=vo[n],(t=t||new Set).add(n);return n},po.registerAnalyticsAdapter=function(e){var t=e.adapter,n=e.code,r=e.gvlid;t&&n?"function"==typeof t.enableAnalytics?(t.code=n,ho[n]={adapter:t,gvlid:r},Ui.register(An,n,r)):Se('Prebid Error: Analytics adaptor error for analytics "'.concat(n,'"\n        analytics adapter must implement an enableAnalytics() function')):Se("Prebid Error: analyticsAdapter or analyticsCode not specified")},po.enableAnalytics=function(e){Re(e)||(e=[e]),e.forEach((function(e){var t=ho[e.provider];t&&t.adapter?fo.isAllowed("reportAnalytics",bo(An,e.provider,so({},"_config",e)))&&t.adapter.enableAnalytics(e):Se("Prebid Error: no analytics adapter found in registry for '".concat(e.provider,"'."))}))},po.getBidAdapter=function(e){return mo[e]},po.getAnalyticsAdapter=function(e){return ho[e]},po.callTimedOutBidders=function(e,t,n){t=at(t=t.map((function(t){return t.params=ct(e,t.adUnitCode,t.bidder),t.timeout=n,t})),"bidder"),Object.keys(t).forEach((function(e){Oo(e,"onTimeout",t[e])}))},po.callBidWonBidder=function(e,t,n){t.params=ct(n,t.adUnitCode,t.bidder),Jr.incrementBidderWinsCounter(t.adUnitCode,t.bidder),Oo(e,"onBidWon",t)},po.callBidBillableBidder=function(e){Oo(e.bidder,"onBidBillable",e)},po.callSetTargetingBidder=function(e,t){Oo(e,"onSetTargeting",t)},po.callBidViewableBidder=function(e,t){Oo(e,"onBidViewable",t)},po.callBidderError=function(e,t,n){Oo(e,"onBidderError",{error:t,bidderRequest:n})},po.callDataDeletionRequest=Rn("sync",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r="onDataDeletionRequest";Object.keys(mo).filter((function(e){return!vo.hasOwnProperty(e)})).forEach((function(e){var n=Eo(e,r);if(null!=n){var i=Ba.getBidsRequested().filter((function(t){return ko(t.bidderCode)===e}));To.apply(void 0,[e,r].concat(eo(n),[i],t))}})),Object.entries(ho).forEach((function(e){var n,i=ro(e,2),o=i[0],a=i[1],s=null==a||null===(n=a.adapter)||void 0===n?void 0:n[r];if("function"==typeof s)try{s.apply(a.adapter,t)}catch(e){Se("error calling ".concat(r," of ").concat(o),e)}}))}));var jo=po;function Ro(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var zo="html5",Po="cookie",Bo=[];function Do(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.moduleName,n=e.moduleType,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.isAllowed,o=void 0===i?Yn:i;function a(e,r){var i=t,a=T.getCurrentBidder();return a&&n===Sn&&jo.aliasRegistry[a]===t&&(i=a),e({valid:o(Zn,zr(n,i,Ro({},Ln,r)))})}function s(e,t,n){if(!n||"function"!=typeof n)return a(e,t);Bo.push((function(){var r=a(e,t);n(r)}))}var c=function(e,t,n,r,i,o){return s((function(o){if(o&&o.valid){var a=i&&""!==i?" ;domain=".concat(encodeURIComponent(i)):"",s=n&&""!==n?" ;expires=".concat(n):"",c=null!=r&&"none"==r.toLowerCase()?"; Secure":"";document.cookie="".concat(e,"=").concat(encodeURIComponent(t)).concat(s,"; path=/").concat(a).concat(r?"; SameSite=".concat(r):"").concat(c)}}),Po,o)},u=function(e,t){return s((function(t){if(t&&t.valid){var n=window.document.cookie.match("(^|;)\\s*"+e+"\\s*=\\s*([^;]*)\\s*(;|$)");return n?decodeURIComponent(n[2]):null}return null}),Po,t)},d=function(e){return s((function(e){if(e&&e.valid)try{return localStorage.setItem("prebid.cookieTest","1"),"1"===localStorage.getItem("prebid.cookieTest")}catch(e){}finally{try{localStorage.removeItem("prebid.cookieTest")}catch(e){}}return!1}),zo,e)},l=function(e){return s((function(e){return!(!e||!e.valid)&&ot()}),Po,e)},f=function(e,t,n){return s((function(n){n&&n.valid&&v()&&window.localStorage.setItem(e,t)}),zo,n)},p=function(e,t){return s((function(t){return t&&t.valid&&v()?window.localStorage.getItem(e):null}),zo,t)},m=function(e,t){return s((function(t){t&&t.valid&&v()&&window.localStorage.removeItem(e)}),zo,t)},v=function(e){return s((function(e){if(e&&e.valid)try{return!!window.localStorage}catch(e){Se("Local storage api disabled")}return!1}),zo,e)},g=function(e,t){return s((function(t){if(t&&t.valid){var n=[];if(it())for(var r=document.cookie.split(";");r.length;){var i=r.pop(),o=i.indexOf("=");o=o<0?i.length:o,decodeURIComponent(i.slice(0,o).replace(/^\s+/,"")).indexOf(e)>=0&&n.push(decodeURIComponent(i.slice(o+1)))}return n}}),Po,t)};return{setCookie:c,getCookie:u,localStorageIsEnabled:d,cookiesAreEnabled:l,setDataInLocalStorage:f,getDataFromLocalStorage:p,removeDataFromLocalStorage:m,hasLocalStorage:v,findSimilarCookies:g}}function Uo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.moduleType,n=e.moduleName,r=e.bidderCode;function i(){throw new Error("Invalid invocation for getStorageManager: must set either bidderCode, or moduleType + moduleName")}return r?((t&&t!==Sn||n)&&i(),t=Sn,n=r):n&&t||i(),Do({moduleType:t,moduleName:n})}function No(e){return Do({moduleName:e,moduleType:Cn})}function Fo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return qo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qo(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Lo(){return Lo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lo.apply(this,arguments)}Kn(Zn,"deviceAccess config",(function(){if(!it())return{allow:!1}})),Kn(Zn,"bidderSettings.*.storageAllowed",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_n;if(e.componentType===Sn){var n=t.get(e.adapterCode,"storageAllowed");if(n&&!0!==n){var r=e.storageType;n=Array.isArray(n)?n.some((function(e){return e===r})):n===r}else n=!!n;return n?void 0:{allow:n}}})),T.setDefaults({userSync:Ze({syncEnabled:!0,filterSettings:{image:{bidders:"*",filter:"include"}},syncsPerBidder:5,syncDelay:3e3,auctionDelay:0})});var Wo=No("usersync"),Ho=function(e){var t={},n={image:[],iframe:[]},r=new Set,i={},a={image:!0,iframe:!1},s=e.config;function c(){if(s.syncEnabled&&e.browserSupportsCookies){try{a.iframe&&u(n.iframe,(function(e){var t=Mo(e,2),r=t[0],i=t[1];Ie("Invoking iframe user sync for bidder: ".concat(r)),Ve(i),function(e,t){e.image=e.image.filter((function(e){return e[0]!==t}))}(n,r)})),a.image&&u(n.image,(function(e){var t=Mo(e,2),n=t[0],r=t[1];Ie("Invoking image pixel user sync for bidder: ".concat(n)),We(r)}))}catch(e){return Se("Error firing user syncs",e)}n={image:[],iframe:[]}}}function u(e,t){Ye(e).forEach(t)}function d(e,t){var n=s.filterSettings;if(function(e,t){if(e.all&&e[t])return Ce('Detected presence of the "filterSettings.all" and "filterSettings.'.concat(t,'" in userSync config.  You cannot mix "all" with "iframe/image" configs; they are mutually exclusive.')),!1;var n=e.all?e.all:e[t],r=e.all?"all":t;if(!n)return!1;var i=n.filter,o=n.bidders;return i&&"include"!==i&&"exclude"!==i?(Ce('UserSync "filterSettings.'.concat(r,".filter\" setting '").concat(i,"' is not a valid option; use either 'include' or 'exclude'.")),!1):!!("*"===o||Array.isArray(o)&&o.length>0&&o.every((function(e){return je(e)&&"*"!==e})))||(Ce('Detected an invalid setup in userSync "filterSettings.'.concat(r,".bidders\"; use either '*' (to represent all bidders) or an array of bidders.")),!1)}(n,e)){a[e]=!0;var r=n.all?n.all:n[e],i="*"===r.bidders?[t]:r.bidders,c={include:function(e,t){return!o(e,t)},exclude:function(e,t){return o(e,t)}};return c[r.filter||"include"](i,t)}return!a[e]}return T.getConfig("userSync",(function(e){if(e.userSync){var t=e.userSync.filterSettings;Pe(t)&&(t.image||t.all||(e.userSync.filterSettings.image={bidders:"*",filter:"include"}))}s=Lo(s,e.userSync)})),e.regRule(er,"userSync config",(function(e){if(!s.syncEnabled)return{allow:!1,reason:"syncs are disabled"};if(e.componentType===Sn){var n=e.syncType,r=e.componentName;if(!t.canBidderRegisterSync(n,r))return{allow:!1,reason:"".concat(n," syncs are not enabled for ").concat(r)}}})),t.registerSync=function(t,o,a){var c;return r.has(o)?Ie('already fired syncs for "'.concat(o,'", ignoring registerSync call')):s.syncEnabled&&Re(n[t])?o?0!==s.syncsPerBidder&&Number(i[o])>=s.syncsPerBidder?Ce('Number of user syncs exceeded for "'.concat(o,'"')):void(e.isAllowed(er,zr(Sn,o,(c={},Fo(c,Wn,t),Fo(c,"syncUrl",a),c)))&&(n[t].push([o,a]),i=function(e,t){return e[t]?e[t]+=1:e[t]=1,e}(i,o))):Ce("Bidder is required for registering sync"):Ce('User sync type "'.concat(t,'" not supported'))},t.bidderDone=r.add.bind(r),t.syncUsers=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(e)return setTimeout(c,Number(e));c()},t.triggerUserSyncs=function(){s.enableOverride&&t.syncUsers()},t.canBidderRegisterSync=function(e,t){return!s.filterSettings||!d(e,t)},t}(Object.defineProperties({config:T.getConfig("userSync"),isAllowed:Yn,regRule:Kn},{browserSupportsCookies:{get:function(){return!/^((?!chrome|android|crios|fxios).)*safari/i.test(navigator.userAgent)&&Wo.cookiesAreEnabled()}}})),Vo="native",Go="video",$o="banner",Jo="adpod";function Xo(){return Xo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xo.apply(this,arguments)}function Qo(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=i.index,a=void 0===o?Ba.index:o,s=i.bs,c=void 0===s?_n:s;n=n||a.getBidRequest(t);var u=null==t?void 0:t.adapterCode,d=(null==t?void 0:t.bidderCode)||(null===(r=n)||void 0===r?void 0:r.bidder),l=c.get(null==t?void 0:t.adapterCode,"adjustAlternateBids"),f=c.getOwn(d,"bidCpmAdjustment")||c.get(l?u:d,"bidCpmAdjustment");if(f&&"function"==typeof f)try{return f(e,Xo({},t),n)}catch(e){Se("Error during bid adjustment",e)}return e}function Ko(){return Ko=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ko.apply(this,arguments)}var Yo=Ho.syncUsers,Zo="completed";Lt(h.FP.BID_ADJUSTMENT,(function(e){!function(e){var t=Qo(e.cpm,e);t>=0&&(e.cpm=t)}(e)}));var ea={},ta={},na=[],ra=r();function ia(e){var t=e.adUnits,n=e.adUnitCodes,r=e.callback,i=e.cbTimeout,a=e.labels,s=e.auctionId,c=e.ortb2Fragments,u=e.metrics;u=Er(u);var d,l,f,p,m=t,v=a,g=n,b=s||le(),y=i,w=new Set,I=V(),_=[],C=r,S=[],x=[],A=[],E=[],O=[];function k(){return{auctionId:b,timestamp:d,auctionEnd:l,auctionStatus:p,adUnits:m,adUnitCodes:g,labels:v,bidderRequests:S,noBids:A,bidsReceived:x,bidsRejected:_,winningBids:E,timeout:y,metrics:u,seatNonBids:O}}function j(e){if(e?Vt(h.FP.AUCTION_TIMEOUT,k()):clearTimeout(f),void 0===l){var n=[];e&&(Ie("Auction ".concat(b," timedOut")),(n=S.filter((function(e){return!w.has(e.bidderRequestId)})).flatMap((function(e){return e.bids}))).length&&Vt(h.FP.BID_TIMEOUT,n)),p=Zo,l=Date.now(),u.checkpoint("auctionEnd"),u.timeBetween("requestBids","auctionEnd","requestBids.total"),u.timeBetween("callBids","auctionEnd","requestBids.callBids"),I.resolve(),Vt(h.FP.AUCTION_END,k()),ca(m,(function(){try{if(null!=C){var r=x.filter((function(e){return g.includes(e.adUnitCode)})).reduce(Sa,{});C.apply(ra,[r,e,b]),C=null}}catch(e){Se("Error executing bidsBackHandler",null,e)}finally{n.length&&jo.callTimedOutBidders(t,n,y);var i=T.getConfig("userSync")||{};i.enableOverride||Yo(i.syncDelay)}}))}}function R(){T.resetBidder(),_e("Bids Received for Auction with id: ".concat(b),x),p=Zo,j(!1)}function z(e){w.add(e)}function P(e){var t=this;e.forEach((function(e){var t;t=e,S=S.concat(t)}));var n={},r={bidRequests:e,run:function(){f=setTimeout((function(){return j(!0)}),y),p="inProgress",Vt(h.FP.AUCTION_INIT,k());var r=function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).index;void 0===n&&Ba.index;var r=0,i=!1,a=new Set,s={};function c(){r--,i&&0===r&&e()}function u(e,t,n){return s[t.requestId]=!0,ha(t,e),r++,n(c)}function d(e,n){u(e,n,(function(e){var r=ba(n);Vt(h.FP.BID_ACCEPTED,r),r.mediaType===Go?da(t,r,e):(null!=r.native&&"object"==typeof r.native&&pa(r),ua(t,r),e())}))}function l(e,n,r){return u(e,n,(function(e){n.rejectionReason=r,Ce("Bid from ".concat(n.bidder||"unknown bidder"," was rejected: ").concat(r),n),Vt(h.FP.BID_REJECTED,n),t.addBidRejected(n),e()}))}function f(){var n=this,c=t.getBidRequests(),u=T.getConfig("auctionOptions");if(a.add(n),u&&!De(u)){var d=u.secondaryBidders;d&&!c.every((function(e){return o(d,e.bidderCode)}))&&(c=c.filter((function(e){return!o(d,e.bidderCode)})))}i=c.every((function(e){return a.has(e)})),n.bids.forEach((function(e){s[e.bidId]||(t.addNoBid(e),Vt(h.FP.NO_BID,e))})),i&&0===r&&e()}return{addBidResponse:function(){function e(e,t){var n;oa.call({dispatch:d},e,t,(n=!1,function(r){n||(l(e,t,r),n=!0)}))}return e.reject=l,e}(),adapterDone:function(){var e=this;aa(W.resolve()).finally((function(){return f.call(e)}))}}}(R,t);jo.callBids(m,e,r.addBidResponse,r.adapterDone,{request:function(e,t){a(ea,t),a(n,e),ta[e]||(ta[e]={SRA:!0,origin:t}),n[e]>1&&(ta[e].SRA=!1)},done:function(e){ea[e]--,na[0]&&i(na[0])&&na.shift()}},y,z,c)}};function i(e){var t=!0,n=T.getConfig("maxRequestsPerOrigin")||4;return e.bidRequests.some((function(e){var r=1,i=void 0!==e.src&&e.src===h.os.YZ?"s2s":e.bidderCode;return ta[i]&&(!1===ta[i].SRA&&(r=Math.min(e.bids.length,n)),ea[ta[i].origin]+r>n&&(t=!1)),!t})),t&&e.run(),t}function a(e,t){void 0===e[t]?e[t]=1:e[t]++}i(r)||(Ce("queueing auction due to limited endpoint capacity"),na.push(r))}return Lt(h.FP.SEAT_NON_BID,(function(e){var t;e.auctionId===b&&(t=e.seatnonbid,O=O.concat(t))})),{addBidReceived:function(e){x=x.concat(e)},addBidRejected:function(e){_=_.concat(e)},addNoBid:function(e){A=A.concat(e)},callBids:function(){p="started",d=Date.now();var e=u.measureTime("requestBids.makeRequests",(function(){return jo.makeBidRequests(m,d,b,y,v,c,u)}));_e("Bids Requested for Auction with id: ".concat(b),e),u.checkpoint("callBids"),e.length<1?(Ce("No valid bid requests returned for auction"),R()):sa.call({dispatch:P,context:this},e)},addWinningBid:function(e){var n,r,i,o=t.find((function(t){return t.transactionId===e.transactionId}));E=E.concat(e),r=(n=e).source,i=n.burl,r===h.os.YZ&&i&&ce.triggerPixel(i),jo.callBidWonBidder(e.adapterCode||e.bidder,e,t),o&&!o.deferBilling&&jo.callBidBillableBidder(e)},setBidTargeting:function(e){jo.callSetTargetingBidder(e.adapterCode||e.bidder,e)},getWinningBids:function(){return E},getAuctionStart:function(){return d},getAuctionEnd:function(){return l},getTimeout:function(){return y},getAuctionId:function(){return b},getAuctionStatus:function(){return p},getAdUnits:function(){return m},getAdUnitCodes:function(){return g},getBidRequests:function(){return S},getBidsReceived:function(){return x},getNoBids:function(){return A},getNonBids:function(){return O},getFPD:function(){return c},getMetrics:function(){return u},end:I.promise}}var oa=Rn("sync",(function(e,t,n){this.dispatch.call(null,e,t)}),"addBidResponse"),aa=Rn("sync",(function(e){return e}),"responsesReady"),sa=Rn("sync",(function(e){this.dispatch.call(this.context,e)}),"addBidderRequests"),ca=Rn("async",(function(e,t){t&&t()}),"bidsBackCallback");function ua(e,t){var n,r,i;n=t,i=!0===_n.get(n.bidderCode,"allowZeroCpmBids")?n.cpm>=0:n.cpm>0,n.bidderCode&&(i||n.dealId)&&(r=function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).index,r=void 0===n?Ba.index:n;if(!t)return{};var i=r.getBidRequest(t),o={},a=_a(t.mediaType,e);return Ca(o,a,t,i),e&&_n.getOwn(e,h.k2.xn)&&(Ca(o,_n.ownSettingsFor(e),t,i),t.sendStandardTargeting=_n.get(e,"sendStandardTargeting")),t.native&&(o=Ko({},o,ss(t))),o}(n.bidderCode,n)),n.adserverTargeting=Ko(n.adserverTargeting||{},r),Er(t.metrics).timeSince("addBidResponse","addBidResponse.total"),e.addBidReceived(t),Vt(h.FP.BID_RESPONSE,t)}function da(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.index,o=void 0===i?Ba.index:i,a=!0,s=g(o.getMediaTypes({requestId:t.originalRequestId||t.requestId,transactionId:t.transactionId}),"video"),c=s&&g(s,"context"),u=s&&g(s,"useCacheKey");T.getConfig("cache.url")&&(u||c!==lr)&&(!t.videoCacheKey||T.getConfig("cache.ignoreBidderCacheKey")?(a=!1,ga(e,t,n,s)):t.vastUrl||(Se("videoCacheKey specified but not required vastUrl for video bid"),a=!1)),a&&(ua(e,t),n())}var la,fa,pa=function(e){var t,n,r=null===(t=Ba.index.getAdUnit(e))||void 0===t?void 0:t.nativeOrtbRequest,i=null===(n=e.native)||void 0===n?void 0:n.ortb;if(r&&i){var o=function(e,t){var n={},r=(null==t?void 0:t.assets)||[];n.clickUrl=e.link.url,n.privacyLink=e.privacy;var i=function(e){var t=r.find((function(t){return e.id===t.id}));e.title?n.title=e.title.text:e.img?n[t.img.type===$a.MAIN?"image":"icon"]={url:e.img.url,width:e.img.w,height:e.img.h}:e.data&&(n[Ka[Ya[t.data.type]]]=e.data.value)};for(var o of(null==e?void 0:e.assets)||[])i(o);n.impressionTrackers=[];var a,s,c=[];for(var u of(e.imptrackers&&(a=n.impressionTrackers).push.apply(a,function(e){if(Array.isArray(e))return Fa(e)}(s=e.imptrackers)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(s)||Na(s)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),(null==e?void 0:e.eventtrackers)||[]))u.event===es&&u.method===Za.img&&n.impressionTrackers.push(u.url),u.event===es&&u.method===Za.js&&c.push(u.url);return c=c.map((function(e){return'<script async src="'.concat(e,'"><\/script>')})),null!=e&&e.jstracker&&c.push(e.jstracker),c.length&&(n.javascriptTrackers=c.join("\n")),n}(i,r);Ko(e.native,o)}},ma=function(e){!function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:rn,r={puts:e.map(sn)};n(T.getConfig("cache.timeout"))(T.getConfig("cache.url"),cn(t),JSON.stringify(r),{contentType:"text/plain",withCredentials:!0})}(e.map((function(e){return e.bidResponse})),(function(t,n){n.forEach((function(n,r){var i,o=e[r],a=o.auctionInstance,s=o.bidResponse,c=o.afterBidAdded;t?Ce("Failed to save to the video cache: ".concat(t,". Video bid must be discarded.")):""===n.uuid?Ce("Supplied video cache key was already in use by Prebid Cache; caching attempt was rejected. Video bid must be discarded."):(s.videoCacheKey=n.uuid,s.vastUrl||(s.vastUrl=(i=s.videoCacheKey,"".concat(T.getConfig("cache.url"),"?uuid=").concat(i))),ua(a,s),c())}))}))};T.getConfig("cache",(function(e){la="number"==typeof e.cache.batchSize&&e.cache.batchSize>0?e.cache.batchSize:1,fa="number"==typeof e.cache.batchTimeout&&e.cache.batchTimeout>0?e.cache.batchTimeout:0}));var va=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:setTimeout,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ma,n=[[]],r=!1,i=function(e){return e()};return function(o,a,s){var c=fa>0?e:i;n[n.length-1].length>=la&&n.push([]),n[n.length-1].push({auctionInstance:o,bidResponse:a,afterBidAdded:s}),r||(r=!0,c((function(){n.forEach(t),n=[[]],r=!1}),fa))}}(),ga=Rn("async",(function(e,t,n,r){va(e,t,n)}),"callPrebidCache");function ha(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.index,i=void 0===r?Ba.index:r,o=i.getBidderRequest(e),a=i.getAdUnit(e),s=o&&o.start||e.requestTimestamp;Ko(e,{responseTimestamp:e.responseTimestamp||rt(),requestTimestamp:e.requestTimestamp||s,cpm:parseFloat(e.cpm)||0,bidder:e.bidder||e.bidderCode,adUnitCode:t}),null!=(null==a?void 0:a.ttlBuffer)&&(e.ttlBuffer=a.ttlBuffer),e.timeToRespond=e.responseTimestamp-e.requestTimestamp}function ba(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.index,i=void 0===r?Ba.index:r;Vt(h.FP.BID_ADJUSTMENT,e);var o=(null===(t=i.getBidRequest(e))||void 0===t?void 0:t.renderer)||i.getAdUnit(e).renderer,a=e.mediaType,s=i.getMediaTypes(e),c=s&&s[a],u=c&&c.renderer,d=null;u&&u.url&&u.render&&(!0!==u.backupOnly||!e.renderer)?d=u:o&&o.url&&o.render&&(!0!==o.backupOnly||!e.renderer)&&(d=o),d&&(e.renderer=mn.install({url:d.url,config:d.options}),e.renderer.setRender(d.render));var l=ya(e.mediaType,s,T.getConfig("mediaTypePriceGranularity")),p=f(e.cpm,"object"==typeof l?l:T.getConfig("customPriceBucket"),T.getConfig("currency.granularityMultiplier"));return e.pbLg=p.low,e.pbMg=p.med,e.pbHg=p.high,e.pbAg=p.auto,e.pbDg=p.dense,e.pbCg=p.custom,e}function ya(e,t,n){if(e&&n){if(e===Go){var r=g(t,"".concat(Go,".context"),"instream");if(n["".concat(Go,"-").concat(r)])return n["".concat(Go,"-").concat(r)]}return n[e]}}var wa=function(e){return function(t){var n=e||function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).index,n=void 0===t?Ba.index:t,r=ya(e.mediaType,n.getMediaTypes(e),T.getConfig("mediaTypePriceGranularity"));return"string"==typeof e.mediaType&&r?"string"==typeof r?r:"custom":T.getConfig("priceGranularity")}(t);return n===h.Ql.B7?t.pbAg:n===h.Ql.uN?t.pbDg:n===h.Ql.yE?t.pbLg:n===h.Ql.M2?t.pbMg:n===h.Ql.lj?t.pbHg:n===h.Ql.qN?t.pbCg:void 0}};function Ia(e,t){return{key:e,val:"function"==typeof t?function(e,n){return t(e,n)}:function(e){return function(e,t){return e[t]}(e,t)}}}function _a(e,t){var n=h.TD,r=Ko({},_n.settingsFor(null));if(r[h.k2.xn]||(r[h.k2.xn]=function(){var e=h.TD;return[Ia(e.BIDDER,"bidderCode"),Ia(e.AD_ID,"adId"),Ia(e.PRICE_BUCKET,wa()),Ia(e.SIZE,"size"),Ia(e.DEAL,"dealId"),Ia(e.SOURCE,"source"),Ia(e.FORMAT,"mediaType"),Ia(e.ADOMAIN,(function(e){return e.meta&&e.meta.advertiserDomains&&e.meta.advertiserDomains.length>0?[e.meta.advertiserDomains].flat()[0]:""})),Ia(e.ACAT,(function(e){return e.meta&&e.meta.primaryCatId?e.meta.primaryCatId:""})),Ia(e.DSP,(function(e){return e.meta&&(e.meta.networkId||e.meta.networkName)?g(e,"meta.networkName")||g(e,"meta.networkId"):""})),Ia(e.CRID,(function(e){return e.creativeId?e.creativeId:""}))]}()),"video"===e){var i=r[h.k2.xn].slice();if(r[h.k2.xn]=i,[n.UUID,n.CACHE_ID].forEach((function(e){void 0===a(i,(function(t){return t.key===e}))&&i.push(Ia(e,"videoCacheKey"))})),T.getConfig("cache.url")&&(!t||!1!==_n.get(t,"sendStandardTargeting"))){var o=yt(T.getConfig("cache.url"));void 0===a(i,(function(e){return e.key===n.CACHE_HOST}))&&i.push(Ia(n.CACHE_HOST,(function(e){return g(e,"adserverTargeting.".concat(n.CACHE_HOST))?e.adserverTargeting[n.CACHE_HOST]:o.hostname})))}}return r}function Ca(e,t,n,r){var i=t[h.k2.xn];return n.size=n.getSize(),(i||[]).forEach((function(i){var o=i.key,a=i.val;if(e[o]&&Ce("The key: "+o+" is being overwritten"),ke(a))try{a=a(n,r)}catch(e){Se("bidmanager","ERROR",e)}(void 0===t.suppressEmptyKeys||!0!==t.suppressEmptyKeys)&&o!==h.TD.DEAL&&o!==h.TD.ACAT&&o!==h.TD.DSP&&o!==h.TD.CRID||!Ue(a)&&null!=a?e[o]=a:_e("suppressing empty key '"+o+"' from adserver targeting")})),e}function Sa(e,t){return e[t.adUnitCode]||(e[t.adUnitCode]={bids:[]}),e[t.adUnitCode].bids.push(t),e}function xa(){return xa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xa.apply(this,arguments)}function Aa(e){xa(this,{getAuction:function(t){var n=t.auctionId;if(null!=n)return e().find((function(e){return e.getAuctionId()===n}))},getAdUnit:function(t){var n=t.transactionId;if(null!=n)return e().flatMap((function(e){return e.getAdUnits()})).find((function(e){return e.transactionId===n}))},getMediaTypes:function(e){var t=e.transactionId,n=e.requestId;if(null!=n){var r=this.getBidRequest({requestId:n});if(null!=r&&(null==t||r.transactionId===t))return r.mediaTypes}else if(null!=t){var i=this.getAdUnit({transactionId:t});if(null!=i)return i.mediaTypes}},getBidderRequest:function(t){var n=t.requestId,r=t.bidderRequestId;if(null!=n||null!=r){var i=e().flatMap((function(e){return e.getBidRequests()}));return null!=r&&(i=i.filter((function(e){return e.bidderRequestId===r}))),null==n?i[0]:i.find((function(e){return e.bids&&null!=e.bids.find((function(e){return e.bidId===n}))}))}},getBidRequest:function(t){var n=t.requestId;if(null!=n)return e().flatMap((function(e){return e.getBidRequests()})).flatMap((function(e){return e.bids})).find((function(e){return e&&e.bidId===n}))}})}var Ea=1,Ta=[];function Oa(e){return e.ttl-(e.hasOwnProperty("ttlBuffer")?e.ttlBuffer:Ea)}function ka(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||Ra(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ja(e){return function(e){if(Array.isArray(e))return za(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ra(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ra(e,t){if(e){if("string"==typeof e)return za(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?za(e,t):void 0}}function za(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}T.getConfig("ttlBuffer",(function(e){"number"==typeof e.ttlBuffer?Ea!==(Ea=e.ttlBuffer)&&Ta.forEach((function(e){return e(Ea)})):Se("Invalid value for ttlBuffer",e.ttlBuffer)}));var Pa="minBidCacheTTL",Ba=function(){var e,t=null,n=jt({startTime:function(e){return e.end.then((function(){return e.getAuctionEnd()}))},ttl:function(e){return null==t?null:e.end.then((function(){return 1e3*Math.max.apply(Math,[t].concat(ja(e.getBidsReceived().map(Oa))))}))}});e=function(){null!=t&&n.refresh()},Ta.push(e),T.getConfig(Pa,(function(e){t!==(t="number"==typeof(t=null==e?void 0:e.minBidCacheTTL)?t:null)&&n.refresh()}));var r={};function i(e){for(var t of n)if(t.getAuctionId()===e)return t}function o(){return n.toArray().flatMap((function(e){return e.getBidsReceived()}))}return r.addWinningBid=function(e){var t=Er(e.metrics);t.checkpoint("bidWon"),t.timeBetween("auctionEnd","bidWon","render.pending"),t.timeBetween("requestBids","bidWon","render.e2e");var n=i(e.auctionId);n?(e.status=h.UE.fe,n.addWinningBid(e)):Ce("Auction not found when adding winning bid")},Object.entries({getAllWinningBids:{name:"getWinningBids"},getBidsRequested:{name:"getBidRequests"},getNoBids:{},getAdUnits:{},getBidsReceived:{pre:function(e){return e.getAuctionStatus()===Zo}},getAdUnitCodes:{post:$e}}).forEach((function(e){var t=ka(e,2),i=t[0],o=t[1],a=o.name,s=void 0===a?i:a,c=o.pre,u=o.post,d=null==c?function(e){return e[s]()}:function(e){return c(e)?e[s]():[]},l=null==u?function(e){return e}:function(e){return e.filter(u)};r[i]=function(){return l(n.toArray().flatMap(d))}})),r.getAllBidsForAdUnitCode=function(e){return o().filter((function(t){return t&&t.adUnitCode===e}))},r.createAuction=function(e){var t=ia(e);return function(e){n.add(e)}(t),t},r.findBidByAdId=function(e){return o().find((function(t){return t.adId===e}))},r.getStandardBidderAdServerTargeting=function(){return _a()[h.k2.xn]},r.setStatusForBids=function(e,t){var n=r.findBidByAdId(e);if(n&&(n.status=t),n&&t===h.UE.CK){var o=i(n.auctionId);o&&o.setBidTargeting(n)}},r.getLastAuctionId=function(){var e=n.toArray();return e.length&&e[e.length-1].getAuctionId()},r.clearAllAuctions=function(){n.clear()},r.index=new Aa((function(){return n.toArray()})),r}();function Da(){return Da=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Da.apply(this,arguments)}function Ua(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||Na(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Na(e,t){if(e){if("string"==typeof e)return Fa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fa(e,t):void 0}}function Fa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ma(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ma(Object(n),!0).forEach((function(t){La(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ma(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function La(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Wa=[],Ha=Object.keys(h.FY).map((function(e){return h.FY[e]})),Va={image:{ortb:{ver:"1.2",assets:[{required:1,id:1,img:{type:3,wmin:100,hmin:100}},{required:1,id:2,title:{len:140}},{required:1,id:3,data:{type:1}},{required:0,id:4,data:{type:2}},{required:0,id:5,img:{type:1,wmin:20,hmin:20}}]},image:{required:!0},title:{required:!0},sponsoredBy:{required:!0},clickUrl:{required:!0},body:{required:!1},icon:{required:!1}}},Ga=h.s$,$a=h.oF,Ja=h.V1,Xa=h.zA,Qa=h.FY,Ka=gs(Ja),Ya=gs(Ga),Za={img:1,js:2,1:"img",2:"js"},es=1;function ts(e){if(e&&e.type&&(!(!(t=e.type)||!o(Object.keys(Va),t))||(Se("".concat(t," nativeParam is not supported")),!1))&&(e=Va[e.type]),!e||!e.ortb||rs(e.ortb))return e;var t}function ns(e){e.forEach((function(e){var t=e.nativeParams||g(e,"mediaTypes.native");t&&(e.nativeParams=ts(t)),e.nativeParams&&(e.nativeOrtbRequest=e.nativeParams.ortb||function(e){if(e||Pe(e)){var t={ver:"1.2",assets:[]};for(var n in e)if(!Xa.includes(n))if(Qa.hasOwnProperty(n))if("privacyLink"!==n){var r=e[n],i=0;r.required&&Be(r.required)&&(i=Number(r.required));var o={id:t.assets.length,required:i};if(n in Ja)o.data={type:Ga[Ja[n]]},r.len&&(o.data.len=r.len);else if("icon"===n||"image"===n){if(o.img={type:"icon"===n?$a.ICON:$a.MAIN},r.aspect_ratios)if(Re(r.aspect_ratios))if(r.aspect_ratios.length){var a=r.aspect_ratios[0],s=a.min_width,c=a.min_height;pt(s)&&pt(c)?(o.img.wmin=s,o.img.hmin=c):Se("image.aspect_ratios min_width or min_height are invalid: ",s,c);var u=r.aspect_ratios.filter((function(e){return e.ratio_width&&e.ratio_height})).map((function(e){return"".concat(e.ratio_width,":").concat(e.ratio_height)}));u.length>0&&(o.img.ext={aspectratios:u})}else Se("image.aspect_ratios was passed, but it's empty:",r.aspect_ratios);else Se("image.aspect_ratios was passed, but it's not a an array:",r.aspect_ratios);r.sizes&&(2===r.sizes.length&&pt(r.sizes[0])&&pt(r.sizes[1])?(o.img.w=r.sizes[0],o.img.h=r.sizes[1],delete o.img.hmin,delete o.img.wmin):Se("image.sizes was passed, but its value is not an array of integers:",r.sizes))}else"title"===n?o.title={len:r.len||140}:"ext"===n&&(o.ext=r,delete o.required);t.assets.push(o)}else t.privacy=1;else Se("Unrecognized native asset code: ".concat(n,". Asset will be ignored."));return t}Se("Native assets object is empty or not an object: ",e)}(e.nativeParams))}))}function rs(e){var t=e.assets;if(!Array.isArray(t)||0===t.length)return Se("assets in mediaTypes.native.ortb is not an array, or it's empty. Assets: ",t),!1;var n=t.map((function(e){return e.id}));return t.length!==new Set(n).size||n.some((function(e){return e!==parseInt(e,10)}))?(Se("each asset object must have 'id' property, it must be unique and it must be an integer"),!1):e.hasOwnProperty("eventtrackers")&&!Array.isArray(e.eventtrackers)?(Se("ortb.eventtrackers is not an array. Eventtrackers: ",e.eventtrackers),!1):t.every((function(e){return function(e){if(!Pe(e))return Se("asset must be an object. Provided asset: ",e),!1;if(e.img){if(!ze(e.img.w)&&!ze(e.img.wmin))return Se("for img asset there must be 'w' or 'wmin' property"),!1;if(!ze(e.img.h)&&!ze(e.img.hmin))return Se("for img asset there must be 'h' or 'hmin' property"),!1}else if(e.title){if(!ze(e.title.len))return Se("for title asset there must be 'len' property defined"),!1}else if(e.data){if(!ze(e.data.type))return Se("for data asset 'type' property must be a number"),!1}else if(e.video&&!(Array.isArray(e.video.mimes)&&Array.isArray(e.video.protocols)&&ze(e.video.minduration)&&ze(e.video.maxduration)))return Se("video asset is not properly configured"),!1;return!0}(e)}))}function is(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.index,i=void 0===r?Ba.index:r,o=i.getAdUnit(e);if(!o)return!1;var a=o.nativeOrtbRequest,s=(null===(t=e.native)||void 0===t?void 0:t.ortb)||vs(e.native,a);return os(s,a)}function os(e,t){if(!g(e,"link.url"))return Se("native response doesn't have 'link' property. Ortb response: ",e),!1;var n=t.assets.filter((function(e){return 1===e.required})).map((function(e){return e.id})),r=e.assets.map((function(e){return e.id})),i=n.every((function(e){return o(r,e)}));return i||Se("didn't receive a bid with all required assets. Required ids: ".concat(n,", but received ids in response: ").concat(r)),i}function as(e,t){var n=t.native.ortb||ms(t.native);return"click"===e.action?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).fetchURL,r=void 0===n?We:n;if(t){var i,o=(e.assets||[]).filter((function(e){return e.link})).reduce((function(e,t){return e[t.id]=t.link,e}),{}),a=(null===(i=e.link)||void 0===i?void 0:i.clicktrackers)||[],s=o[t],c=a;s&&(c=s.clicktrackers||[]),c.forEach((function(e){return r(e)}))}else{var u;((null===(u=e.link)||void 0===u?void 0:u.clicktrackers)||[]).forEach((function(e){return r(e)}))}}(n,null==e?void 0:e.assetId):function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.runMarkup,r=void 0===n?function(e){return He(e)}:n,i=t.fetchURL,o=void 0===i?We:i,a=(e.eventtrackers||[]).filter((function(e){return e.event===es})).reduce((function(e,t){return Za.hasOwnProperty(t.method)&&e[Za[t.method]].push(t.url),e}),{img:[],js:[]}),s=a.img,c=a.js;e.imptrackers&&(s=s.concat(e.imptrackers)),s.forEach((function(e){return o(e)})),c=c.map((function(e){return'<script async src="'.concat(e,'"><\/script>')})),e.jstracker&&(c=c.concat([e.jstracker])),c.length&&r(c.join("\n"))}(n),e.action}function ss(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.index,r=void 0===n?Ba.index:n,i={},o=r.getAdUnit(e);g(o,"nativeParams.rendererUrl")?e.native.rendererUrl=ds(o.nativeParams.rendererUrl):g(o,"nativeParams.adTemplate")&&(e.native.adTemplate=ds(o.nativeParams.adTemplate));var a=!1!==g(o,"nativeParams.sendTargetingKeys"),s=ls(o),c=qa(qa({},e.native),e.native.ext);return delete c.ext,Object.keys(c).forEach((function(t){var n=s[t],r=ds(e.native[t])||ds(g(e,"native.ext.".concat(t)));if("adTemplate"!==t&&n&&r){var c=g(o,"nativeParams.".concat(t,".sendId"));"boolean"!=typeof c&&(c=g(o,"nativeParams.ext.".concat(t,".sendId"))),c&&(r="".concat(n,":").concat(e.adId));var u=g(o,"nativeParams.".concat(t,".sendTargetingKeys"));"boolean"!=typeof u&&(u=g(o,"nativeParams.ext.".concat(t,".sendTargetingKeys"))),("boolean"==typeof u?u:a)&&(i[n]=r)}})),i}function cs(e,t,n){var r,i,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=o.index,s=void 0===a?Ba.index:a,c={message:"assetResponse",adId:e.adId},u=s.getAdUnit(t),d=t.native;return t.native.ortb?c.ortb=t.native.ortb:null!==(r=u.mediaTypes)&&void 0!==r&&null!==(i=r.native)&&void 0!==i&&i.ortb&&(c.ortb=vs(t.native,u.nativeOrtbRequest)),c.assets=[],(null==n?Object.keys(d):n).forEach((function(e){if("adTemplate"===e&&d[e])c.adTemplate=ds(d[e]);else if("rendererUrl"===e&&d[e])c.rendererUrl=ds(d[e]);else if("ext"===e)Object.keys(d[e]).forEach((function(t){if(d[e][t]){var n=ds(d[e][t]);c.assets.push({key:t,value:n})}}));else if(d[e]&&h.FY.hasOwnProperty(e)){var t=ds(d[e]);c.assets.push({key:e,value:t})}})),c}var us=Object.fromEntries(Object.entries(h.FY).map((function(e){var t=Ua(e,2),n=t[0];return[t[1],n]})));function ds(e){return(null==e?void 0:e.url)||e}function ls(e){var t={};return g(e,"nativeParams.ext")&&Object.keys(e.nativeParams.ext).forEach((function(e){t[e]="hb_native_".concat(e)})),qa(qa({},h.FY),t)}function fs(e){if(rs(e)){var t={},n=function(n){if(n.title){var r={required:!!n.required&&Boolean(n.required),len:n.title.len};t.title=r}else if(n.img){var i={required:!!n.required&&Boolean(n.required)};if(n.img.w&&n.img.h)i.sizes=[n.img.w,n.img.h];else if(n.img.wmin&&n.img.hmin){var o=function(e,t){for(;e&&t&&e!==t;)e>t?e-=t:t-=e;return e||t}(n.img.wmin,n.img.hmin);i.aspect_ratios=[{min_width:n.img.wmin,min_height:n.img.hmin,ratio_width:n.img.wmin/o,ratio_height:n.img.hmin/o}]}n.img.type===$a.MAIN?t.image=i:t.icon=i}else if(n.data){var a=Object.keys(Ga).find((function(e){return Ga[e]===n.data.type})),s=Object.keys(Ja).find((function(e){return Ja[e]===a}));t[s]={required:!!n.required&&Boolean(n.required)},n.data.len&&(t[s].len=n.data.len)}e.privacy&&(t.privacyLink={required:!1})};for(var r of e.assets)n(r);return t}}function ps(e){if(!e||!Re(e))return e;if(!e.some((function(e){var t;return null===(t=((null==e?void 0:e.mediaTypes)||{})[Vo])||void 0===t?void 0:t.ortb})))return e;var t=Ze(e);for(var n of t)n.mediaTypes&&n.mediaTypes[Vo]&&n.mediaTypes[Vo].ortb&&(n.mediaTypes[Vo]=Da(vt(n.mediaTypes[Vo],Xa),fs(n.mediaTypes[Vo].ortb)),n.nativeParams=ts(n.mediaTypes[Vo]));return t}function ms(e){var t={link:{},eventtrackers:[]};return Object.entries(e).forEach((function(e){var n=Ua(e,2),r=n[0],i=n[1];switch(r){case"clickUrl":t.link.url=i;break;case"clickTrackers":t.link.clicktrackers=Array.isArray(i)?i:[i];break;case"impressionTrackers":(Array.isArray(i)?i:[i]).forEach((function(e){t.eventtrackers.push({event:es,method:Za.img,url:e})}));break;case"javascriptTrackers":t.jstracker=Array.isArray(i)?i.join(""):i;break;case"privacyLink":t.privacy=i}})),t}function vs(e,t){var n=qa(qa({},ms(e)),{},{assets:[]});function r(e,r){var i=t.assets.find(e);null!=i&&(r(i=Ze(i)),n.assets.push(i))}return Object.keys(e).filter((function(t){return!!e[t]})).forEach((function(t){var n=ds(e[t]);switch(t){case"title":r((function(e){return null!=e.title}),(function(e){e.title={text:n}}));break;case"image":case"icon":var i="image"===t?$a.MAIN:$a.ICON;r((function(e){return null!=e.img&&e.img.type===i}),(function(e){e.img={url:n}}));break;default:t in Ja&&r((function(e){return null!=e.data&&e.data.type===Ga[Ja[t]]}),(function(e){e.data={value:n}}))}})),n}function gs(e){var t={};for(var n in e)t[e[n]]=n;return t}var hs=h.FP,bs=hs.AD_RENDER_FAILED,ys=hs.AD_RENDER_SUCCEEDED,ws=hs.STALE_RENDER,Is=hs.BID_WON;function _s(e){var t=e.reason,n=e.message,r=e.bid,i=e.id,o={reason:t,message:n};r&&(o.bid=r),i&&(o.adId=i),Se("Error rendering ad (id: ".concat(i,"): ").concat(n)),Vt(bs,o)}function Cs(e){var t=e.doc,n=e.bid,r=e.id,i={doc:t};n&&(i.bid=n),r&&(i.adId=r),Vt(ys,i)}function Ss(e,t){var n=t.adId,r=t.options,i=t.bidResponse,o=t.doc;if(null!=i){if(i.status!==h.UE.fe||(Ce("Ad id ".concat(n," has been rendered before")),Vt(ws,i),!g(T.getConfig("auctionOptions"),"suppressStaleRender"))){try{var a=i.adId,s=i.ad,c=i.adUrl,u=i.width,d=i.height,l=i.renderer,f=i.cpm,p=i.originalCpm,m=i.mediaType;if(function(e){return!(!e||!e.url&&!e.renderNow)}(l))!function(e,t,n){var r=null;e.config&&e.config.documentResolver&&(r=e.config.documentResolver(t,document,n)),r||(r=document),e.documentContext=r,e.render(t,e.documentContext)}(l,i,o);else if(a){if(m===Go)return void _s({reason:h.q_.Sn,message:"Cannot render video ad",bid:i,id:a});var v={AUCTION_PRICE:p||f,CLICKTHROUGH:(null==r?void 0:r.clickUrl)||""};e({ad:tt(s,v),adUrl:tt(c,v),adId:a,width:u,height:d})}}catch(e){return void _s({reason:h.q_.XW,message:e.message,id:n,bid:i})}Ba.addWinningBid(i),Vt(Is,i)}}else _s({reason:h.q_.WT,message:"Cannot find ad '".concat(n,"'"),id:n})}h.FP.AD_RENDER_SUCCEEDED,h.FP.AD_RENDER_FAILED;var xs,As=h.q_.Ex,Es=h.q_.XW;function Ts(){return Ts=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ts.apply(this,arguments)}function Os(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ks=h.FP.BID_WON,js=new WeakSet,Rs=(Os(xs={},"Prebid Request",(function(e,t,n){Ss((function(t){Ps(n),e(Ts({message:"Prebid Response"},t))}),{options:t.options,adId:t.adId,bidResponse:n})})),Os(xs,"Prebid Event",(function(e,t,n){if(null!=n)if(n.status===h.UE.fe)switch(t.event){case h.FP.AD_RENDER_FAILED:_s({bid:n,id:t.adId,reason:t.info.reason,message:t.info.message});break;case h.FP.AD_RENDER_SUCCEEDED:Cs({doc:null,bid:n,id:t.adId});break;default:Se("Received x-origin event request for unsupported event: '".concat(t.event,"' (adId: '").concat(t.adId,"')"))}else Ce("Received x-origin event request without corresponding render request for ad '".concat(t.adId,"'"));else Se("Cannot find ad '".concat(t.adId,"' for x-origin event request"))})),xs);function zs(e){var t=e.message?"message":"data",n={};try{n=JSON.parse(e[t])}catch(e){return}if(n&&n.adId&&n.message){var r=a(Ba.getBidsReceived(),(function(e){return e.adId===n.adId}));Rs.hasOwnProperty(n.message)&&Rs[n.message](function(e){return null==e.origin&&0===e.ports.length?function(){var e="Cannot post message to a frame with null origin. Please update creatives to use MessageChannel, see https://github.com/prebid/Prebid.js/issues/7870";throw Se(e),new Error(e)}:e.ports.length>0?function(t){e.ports[0].postMessage(JSON.stringify(t))}:function(t){e.source.postMessage(JSON.stringify(t),e.origin)}}(e),n,r)}}function Ps(e){var t=e.adId,n=e.adUnitCode,r=e.width,i=e.height;["div","iframe"].forEach((function(e){var s=function(e){var r=function(e,t){return Ke()?function(e){var t=a(window.googletag.pubads().getSlots(),(function(t){return a(t.getTargetingKeys(),(function(n){return o(t.getTargeting(n),e)}))}));return t?t.getSlotElementId():null}(e):function(){if(window.apntag&&ke(window.apntag.getTag))return!0}()?function(e){var t=window.apntag.getTag(e);return t&&t.targetId}(t):t}(t,n),i=document.getElementById(r);return i&&i.querySelector(e)}(e+':not([style*="display: none"])');if(s){var c=s.style;c.width=r?r+"px":"100%",c.height=i+"px"}else Ce("Unable to locate matching page element for adUnitCode ".concat(n,".  Can't resize it to ad's dimensions.  Please review setup."))}))}function Bs(e,t){return e===t?0:e<t?-1:1}function Ds(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e};return function(t,n){return Bs(e(t),e(n))}}function Us(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bs;return function(t,n){return-e(t,n)||0}}function Ns(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,n){for(var r of t){var i=r(e,n);if(0!==i)return i}return 0}}function Fs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bs;return function(t,n){return e(n,t)<0?n:t}}function Ms(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bs;return Fs(Us(e))}Ts(Rs,Os({},"Prebid Native",(function(e,t,n){if(null!=n)switch(js.has(n)||(js.add(n),Ba.addWinningBid(n),Vt(ks,n)),t.action){case"assetRequest":e(function(e,t){var n=e.assets.map((function(e){return us[e]}));return cs(e,t,n)}(t,n));break;case"allAssetRequest":e(function(e,t){return cs(e,t,null)}(t,n));break;case"resizeNativeHeight":n.height=t.height,n.width=t.width,Ps(n);break;default:as(t,n)}else Se("Cannot find ad for x-origin event request: '".concat(t.adId,"'"))})));var qs=Ds((function(e){return e.cpm})),Ls=Ds((function(e){return e.responseTimestamp})),Ws=Ms(Ns(qs,Us(Ds((function(e){return e.timeToRespond}))))),Hs=Ms(Ns(qs,Us(Ls)));function Vs(){return Vs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vs.apply(this,arguments)}function Gs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $s(e){return function(e){if(Array.isArray(e))return Js(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Js(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Js(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Js(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Ms(Ns(qs,Ls));var Xs=[],Qs="targetingControls.allowTargetingKeys",Ks="targetingControls.addTargetingKeys",Ys='Only one of "'.concat(Qs,'" or "').concat(Ks,'" can be set'),Zs=Object.keys(h.TD).map((function(e){return h.TD[e]})),ec={isActualBid:function(e){return e.getStatusCode()===h.Q_.Q},isBidNotExpired:function(e){return e.responseTimestamp+1e3*Oa(e)>rt()},isUnusedBid:function(e){return e&&(e.status&&!o([h.UE.fe],e.status)||!e.status)}};function tc(e){return!Object.values(ec).some((function(t){return!t(e)}))}var nc=Rn("sync",(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!r){var i=[],o=T.getConfig("sendBidsControl.dealPrioritization"),a=at(e,"adUnitCode");return Object.keys(a).forEach((function(e){var r=[],s=at(a[e],"bidderCode");Object.keys(s).forEach((function(e){return r.push(s[e].reduce(t))})),n>0?(r=o?r.sort(rc(!0)):r.sort((function(e,t){return t.cpm-e.cpm})),i.push.apply(i,$s(r.slice(0,n)))):i.push.apply(i,$s(r))})),i}return e}));function rc(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,n){return void 0!==t.adserverTargeting.hb_deal&&void 0===n.adserverTargeting.hb_deal?-1:void 0===t.adserverTargeting.hb_deal&&void 0!==n.adserverTargeting.hb_deal?1:e?n.cpm-t.cpm:n.adserverTargeting.hb_pb-t.adserverTargeting.hb_pb}}var ic=function(e){var t={},n={};function r(e,t){return e.adserverTargeting&&t&&(Re(t)&&o(t,e.adUnitCode)||"string"==typeof t&&e.adUnitCode===t)}function i(e,t){if(!0===T.getConfig("targetingControls.alwaysIncludeDeals")){var n=Zs.concat(Ha);return nc(t,Ws).map((function(t){if(t.dealId&&r(t,e))return Gs({},t.adUnitCode,I(t,n.filter((function(e){return void 0!==t.adserverTargeting[e]}))))})).filter((function(e){return e}))}return[]}function s(e,t){var n=Vs({},h.TD,h.FY),r=Object.keys(n),i={};_e("allowTargetingKeys - allowed keys [ ".concat(t.map((function(e){return n[e]})).join(", ")," ]")),e.map((function(e){var o=Object.keys(e)[0],s=e[o].filter((function(e){var o=Object.keys(e)[0],s=0===r.filter((function(e){return 0===o.indexOf(n[e])})).length||a(t,(function(e){var t=n[e];return 0===o.indexOf(t)}));return i[o]=!s,s}));e[o]=s}));var o=Object.keys(i).filter((function(e){return i[e]}));return _e("allowTargetingKeys - removed keys [ ".concat(o.join(", ")," ]")),e.filter((function(e){return e[Object.keys(e)[0]].length>0}))}function c(e,t){var n=Ze(e);return Object.keys(n).map((function(e){return{adUnitCode:e,adserverTargeting:n[e]}})).sort(rc()).reduce((function(e,r,i,o){var a,s=(a=r.adserverTargeting,Object.keys(a).reduce((function(e,t){return e+"".concat(t,"%3d").concat(encodeURIComponent(a[t]),"%26")}),""));i+1===o.length&&(s=s.slice(0,-3));var c=r.adUnitCode,u=s.length;return u<=t?(t-=u,_e("AdUnit '".concat(c,"' auction keys comprised of ").concat(u," characters.  Deducted from running threshold; new limit is ").concat(t),n[c]),e[c]=n[c]):Ce("The following keys for adUnitCode '".concat(c,"' exceeded the current limit of the 'auctionKeyMaxChars' setting.\nThe key-set size was ").concat(u,", the current allotted amount was ").concat(t,".\n"),n[c]),i+1===o.length&&0===Object.keys(e).length&&Se("No auction targeting keys were permitted due to the setting in setConfig(targetingControls.auctionKeyMaxChars).  Please review setup and consider adjusting."),e}),{})}function u(e){var t=e.map((function(e){return Gs({},Object.keys(e)[0],e[Object.keys(e)[0]].map((function(e){return Gs({},Object.keys(e)[0],e[Object.keys(e)[0]].join(","))})).reduce((function(e,t){return Vs(t,e)}),{}))})).reduce((function(e,t){var n=Object.keys(t)[0];return e[n]=Vs({},e[n],t[n]),e}),{});return t}function d(t){return"string"==typeof t?[t]:Re(t)?t:e.getAdUnitCodes()||[]}function l(){var t=e.getBidsReceived();if(T.getConfig("useBidCache")){var r=T.getConfig("bidCacheFilterFunction");"function"==typeof r&&(t=t.filter((function(e){return n[e.adUnitCode]===e.auctionId||!!r(e)})))}else t=t.filter((function(e){return n[e.adUnitCode]===e.auctionId}));return(t=t.filter((function(e){return g(e,"video.context")!==Jo})).filter(tc)).forEach((function(e){return e.latestTargetedAuctionId=n[e.adUnitCode],e})),nc(t,Hs)}function f(e,n){var r=t.getWinningBids(e,n),i=p();return r=r.map((function(e){return Gs({},e.adUnitCode,Object.keys(e.adserverTargeting).filter((function(t){return void 0===e.sendStandardTargeting||e.sendStandardTargeting||-1===i.indexOf(t)})).reduce((function(t,n){var r=[e.adserverTargeting[n]],i=Gs({},n.substring(0,20),r);if(n===h.TD.DEAL){var o=Gs({},"".concat(n,"_").concat(e.bidderCode).substring(0,20),r);return[].concat($s(t),[i,o])}return[].concat($s(t),[i])}),[]))})),r}function p(){return e.getStandardBidderAdServerTargeting().map((function(e){return e.key})).concat(Zs).filter($e)}function m(e,t,n,r){return Object.keys(t.adserverTargeting).filter(v()).forEach((function(n){e.length&&e.filter(function(e){return function(n){return n.adUnitCode===t.adUnitCode&&n.adserverTargeting[e]}}(n)).forEach(function(e){return function(n){Re(n.adserverTargeting[e])||(n.adserverTargeting[e]=[n.adserverTargeting[e]]),n.adserverTargeting[e]=n.adserverTargeting[e].concat(t.adserverTargeting[e]).filter($e),delete t.adserverTargeting[e]}}(n))})),e.push(t),e}function v(){var e=p();return e=e.concat(Ha),function(t){return-1===e.indexOf(t)}}function b(e){return Gs({},e.adUnitCode,Object.keys(e.adserverTargeting).filter(v()).map((function(t){return Gs({},t.substring(0,20),[e.adserverTargeting[t]])})))}function y(e,t){return t.filter((function(t){return o(e,t.adUnitCode)})).map((function(e){return Vs({},e)})).reduce(m,[]).map(b).filter((function(e){return e}))}function w(e,t){var n=Zs.concat(Ha),i=T.getConfig("sendBidsControl.bidLimit"),o=nc(t,Ws,i),a=T.getConfig("targetingControls.allowSendAllBidsTargetingKeys"),s=a?a.map((function(e){return h.TD[e]})):n;return o.map((function(t){if(r(t,e))return Gs({},t.adUnitCode,I(t,n.filter((function(e){return void 0!==t.adserverTargeting[e]&&-1!==s.indexOf(e)}))))})).filter((function(e){return e}))}function I(e,t){return t.map((function(t){return Gs({},"".concat(t,"_").concat(e.bidderCode).substring(0,20),[e.adserverTargeting[t]])}))}function _(t){function n(e){return g(e,h.k2.xn)}return e.getAdUnits().filter((function(e){return o(t,e.code)&&n(e)})).map((function(e){return Gs({},e.code,function(e){var t=n(e);return Object.keys(t).map((function(e){return je(t[e])&&(t[e]=t[e].split(",").map((function(e){return e.trim()}))),Re(t[e])||(t[e]=[t[e]]),Gs({},e,t[e])}))}(e))}))}return t.setLatestAuctionForAdUnit=function(e,t){n[e]=t},t.resetPresetTargeting=function(t,n){if(Ke()){var r=d(t),i=e.getAdUnits().filter((function(e){return o(r,e.code)})),a=Xs.reduce((function(e,t){return e[t]=null,e}),{});window.googletag.pubads().getSlots().forEach((function(e){var t=ke(n)&&n(e);i.forEach((function(n){(n.code===e.getAdUnitPath()||n.code===e.getSlotElementId()||ke(t)&&t(n.code))&&e.updateTargetingFromMap(a)}))}))}},t.resetPresetTargetingAST=function(e){d(e).forEach((function(e){var t=window.apntag.getTag(e);if(t&&t.keywords){var n=Object.keys(t.keywords),r={};n.forEach((function(e){o(Xs,e.toLowerCase())||(r[e]=t.keywords[e])})),window.apntag.modifyTag(e,{keywords:r})}}))},t.getAllTargeting=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l(),n=d(e),r=f(n,t).concat(y(n,t)).concat(T.getConfig("enableSendAllBids")?w(n,t):i(n,t)).concat(_(n));r.map((function(e){Object.keys(e).map((function(t){e[t].map((function(e){-1===Xs.indexOf(Object.keys(e)[0])&&(Xs=Object.keys(e).concat(Xs))}))}))}));var o=Object.keys(Vs({},h.kF,h.FY)),a=T.getConfig(Qs),p=T.getConfig(Ks);if(null!=p&&null!=a)throw new Error(Ys);a=null!=p?o.concat(p):a||o,Array.isArray(a)&&a.length>0&&(r=s(r,a)),r=u(r);var m=T.getConfig("targetingControls.auctionKeyMaxChars");return m&&(_e("Detected 'targetingControls.auctionKeyMaxChars' was active for this auction; set with a limit of ".concat(m," characters.  Running checks on auction keys...")),r=c(r,m)),n.forEach((function(e){r[e]||(r[e]={})})),r},T.getConfig("targetingControls",(function(e){null!=g(e,Qs)&&null!=g(e,Ks)&&Se(Ys)})),t.setTargetingForGPT=function(e,t){window.googletag.pubads().getSlots().forEach((function(n){Object.keys(e).filter(t?t(n):lt(n)).forEach((function(t){Object.keys(e[t]).forEach((function(n){var r=e[t][n];"string"==typeof r&&-1!==r.indexOf(",")&&(r=r.split(",")),e[t][n]=r})),Ie("Attempting to set targeting-map for slot: ".concat(n.getSlotElementId()," with targeting-map:"),e[t]),n.updateTargetingFromMap(e[t])}))}))},t.getWinningBids=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l(),n=d(e);return t.filter((function(e){return o(n,e.adUnitCode)})).filter((function(e){return!0===_n.get(e.bidderCode,"allowZeroCpmBids")?e.cpm>=0:e.cpm>0})).map((function(e){return e.adUnitCode})).filter($e).map((function(e){return t.filter((function(t){return t.adUnitCode===e?t:null})).reduce(Ws)}))},t.setTargetingForAst=function(e){var n=t.getAllTargeting(e);try{t.resetPresetTargetingAST(e)}catch(e){Se("unable to reset targeting for AST"+e)}Object.keys(n).forEach((function(e){return Object.keys(n[e]).forEach((function(t){if(Ie("Attempting to set targeting for targetId: ".concat(e," key: ").concat(t," value: ").concat(n[e][t])),je(n[e][t])||Re(n[e][t])){var r={};t.search(/pt[0-9]/)<0?r[t.toUpperCase()]=n[e][t]:r[t]=n[e][t],window.apntag.setKeywords(e,r,{overrideKeyValue:!0})}}))}))},t.isApntagDefined=function(){if(window.apntag&&ke(window.apntag.setKeywords))return!0},t}(Ba),oc="__pbjs_debugging__";function ac(){return r().installedModules.includes("debugging")}function sc(e){return new W((function(t){ln(e,"debugging",t)}))}function cc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.alreadyInstalled,n=void 0===t?ac:t,i=e.script,o=void 0===i?sc:i,a=null;return function(){return null==a&&(a=new W((function(e,t){setTimeout((function(){if(n())e();else{var i="https://cdn.jsdelivr.net/npm/prebid.js@8.33.0/dist/debugging-standalone.js";Ie('Debugging module not installed, loading it from "'.concat(i,'"...')),r()._installDebugging=!0,o(i).then((function(){r()._installDebugging({DEBUG_KEY:oc,hook:Rn,config:T,createBid:dr,logger:xe("DEBUG:")})})).then(e,t)}}))}))),a}}var uc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.load,n=void 0===t?cc():t,r=e.hook,i=void 0===r?Pn("requestBids"):r,o=null,a=!1;function s(e){for(var t=this,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return(o||W.resolve()).then((function(){return e.apply(t,r)}))}function c(){a||(o=n(),i.before(s,99),a=!0)}function u(){i.getHooks({hook:s}).remove(),a=!1}function d(){o=null,u()}return{enable:c,disable:u,reset:d}}();uc.reset,T.getConfig("debugging",(function(e){var t=e.debugging;null!=t&&t.enabled?uc.enable():uc.disable()}));var dc=No("fpdEnrichment"),lc=xt((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.host;if(!dc.cookiesAreEnabled())return e;var t,n,r=e.split(".");if(2===r.length)return e;var i=-2,o="_rdc".concat(Date.now()),a="writeable";do{t=r.slice(i).join(".");var s=new Date(rt()+1e4).toUTCString();dc.setCookie(o,a,s,"Lax",t,void 0);var c=dc.getCookie(o,void 0);c===a?(n=!1,dc.setCookie(o,"","Thu, 01 Jan 1970 00:00:01 GMT",void 0,t,void 0)):(i+=-1,n=Math.abs(i)<=r.length)}while(n);return t})),fc=["architecture","bitness","model","platformVersion","fullVersionList"],pc=["brands","mobile","platform"],mc=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null===(e=window.navigator)||void 0===e?void 0:e.userAgentData,n=t&&pc.some((function(e){return void 0!==t[e]}))?Object.freeze(gc(1,t)):null;return function(){return n}}(),vc=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null===(e=window.navigator)||void 0===e?void 0:e.userAgentData,n={},r=new WeakMap;return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fc;if(!r.has(e)){var i=Array.from(e);i.sort(),r.set(e,i.join("|"))}var o=r.get(e);if(!n.hasOwnProperty(o))try{n[o]=t.getHighEntropyValues(e).then((function(e){return De(e)?null:Object.freeze(gc(2,e))})).catch((function(){return null}))}catch(e){n[o]=W.resolve(null)}return n[o]}}();function gc(e,t){function n(e,t){var n={brand:e};return je(t)&&!Ue(t)&&(n.version=t.split(".")),n}var r={source:e};return t.platform&&(r.platform=n(t.platform,t.platformVersion)),(t.fullVersionList||t.brands)&&(r.browsers=(t.fullVersionList||t.brands).map((function(e){return n(e.brand,e.version)}))),void 0!==t.mobile&&(r.mobile=t.mobile?1:0),["model","bitness","architecture"].forEach((function(e){var n=t[e];je(n)&&(r[e]=n)})),r}var hc=["dooh","app","site"];function bc(e){return function(t){return hc.reduce((function(n,r){return yc(t,r)&&(null!=n?(Ce("".concat(e," specifies both '").concat(n,"' and '").concat(r,"'; dropping the latter.")),delete t[r]):n=r),n}),null),t}}function yc(e,t){return null!=e[t]&&Object.keys(e[t]).length>0}function wc(){return wc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wc.apply(this,arguments)}function Ic(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return _c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_c(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Cc={getRefererInfo:Zr,findRootDomain:lc,getWindowTop:be,getWindowSelf:ye,getHighEntropySUA:vc,getLowEntropySUA:mc},Sc=bc("FPD"),xc=Rn("sync",(function(e){var t,n=[e,(t=T.getConfig("firstPartyData.uaHints"),Array.isArray(t)&&0!==t.length?Cc.getHighEntropySUA(t):W.resolve(Cc.getLowEntropySUA())).catch((function(){return null})),W.resolve("cookieDeprecationLabel"in navigator&&Yn(Zn,zr(Cn,"cdep"))&&navigator.cookieDeprecationLabel.getValue()).catch((function(){return null}))];return W.all(n).then((function(e){var t=Ic(e,3),n=t[0],r=t[1],i=t[2],o=Cc.getRefererInfo();for(var a of(function(e){["app","site","device"].forEach((function(t){var n=T.getConfig(t);null!=n&&(e[t]=_t({},n,e[t]))}))}(n),Object.entries(Tc).forEach((function(e){var t=Ic(e,2),r=t[0],i=(0,t[1])(n,o);i&&Object.keys(i).length>0&&(n[r]=_t({},i,n[r]))})),r&&Et(n,"device.sua",wc({},r,n.device.sua)),i&&Et(n,"device.ext",wc({},{cdep:i},n.device.ext)),n=Sc(n),hc))if(yc(n,a)){n[a]=_t({},Oc(0,o),n[a]);break}return n}))}));function Ac(e){try{return e(Cc.getWindowTop())}catch(t){return e(Cc.getWindowSelf())}}function Ec(e){return st(e,Object.keys(e))}var Tc={site:function(e,t){if(!hc.filter((function(e){return"site"!==e})).some(yc.bind(null,e)))return Ec({page:t.page,ref:t.ref})},device:function(){return Ac((function(e){return{w:e.innerWidth||e.document.documentElement.clientWidth||e.document.body.clientWidth,h:e.innerHeight||e.document.documentElement.clientHeight||e.document.body.clientHeight,dnt:ut()?1:0,ua:e.navigator.userAgent,language:e.navigator.language.split("-").shift()}}))},regs:function(){var e={};Ac((function(e){return e.navigator.globalPrivacyControl}))&&Et(e,"ext.gpc",1);var t=T.getConfig("coppa");return"boolean"==typeof t&&(e.coppa=t?1:0),e}};function Oc(e,t){var n,r,i,o=Qr(t.page,{noLeadingWww:!0}),a=null===(n=Ac((function(e){return e.document.querySelector("meta[name='keywords']")})))||void 0===n||null===(r=n.content)||void 0===r||null===(i=r.replace)||void 0===i?void 0:i.call(r,/\s/g,"");return Ec({domain:o,keywords:a,publisher:Ec({domain:Cc.findRootDomain(o)})})}function kc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return jc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jc(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Rc(){return Rc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rc.apply(this,arguments)}var zc={frameBorder:0,scrolling:"no",marginHeight:0,marginWidth:0,topMargin:0,leftMargin:0,allowTransparency:"true"};function Pc(e,t){var n=e.createElement("iframe");return t=Rc({},t,zc),Object.entries(t).forEach((function(e){var t=kc(e,2),r=t[0],i=t[1];return n.setAttribute(r,i)})),e.body.appendChild(n),n}function Bc(){return Bc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bc.apply(this,arguments)}function Dc(e,t,n){var i;function o(n){null!=n?_s(Bc({id:t,bid:i},n)):Cs({doc:e,bid:i,adId:t})}try{if(t&&e){var a=(i=Ba.findBidByAdId(t))&&Ba.index.getAdUnit(i),s=r().videoModule;if(null!=a&&a.video&&s)return void s.renderBid(a.video.divId,i);e!==document||et()?Ss((function(t){!function(e,t){var n=e.ad,r=e.adUrl,i=e.width,o=e.height,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document;n||r?(r&&!n?Pc(a,{width:i,height:o,src:r}):(a.write(n),a.close()),t()):t({reason:As,message:"Missing ad markup or URL"})}(t,o,e),e.defaultView&&e.defaultView.frameElement&&(e.defaultView.frameElement.width=t.width,e.defaultView.frameElement.height=t.height),qe(document.createComment("Creative ".concat(i.creativeId," served by ").concat(i.bidder," Prebid.js Header Bidding")),e,"html")}),{adId:t,options:{clickUrl:null==n?void 0:n.clickThrough},bidResponse:i,doc:e}):o({reason:h.q_.Sn,message:"renderAd was prevented from writing to the main document."})}else o({reason:h.q_.mb,message:"missing ".concat(t?"doc":"adId")})}catch(e){o({reason:Es,message:e.message})}}function Uc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Nc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Nc(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Fc(){return Fc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fc.apply(this,arguments)}var Mc=r(),qc=Ho.triggerUserSyncs,Lc=h.FP,Wc=Lc.ADD_AD_UNITS,Hc=Lc.REQUEST_BIDS,Vc=Lc.SET_TARGETING,Gc={bidWon:function(e){if(Ba.getBidsRequested().map((function(e){return e.bids.map((function(e){return e.adUnitCode}))})).reduce(Je).filter($e).includes(e))return!0;Se('The "'+e+'" placement is not defined.')}};function $c(e,t){var n=[];return Re(e)&&(t?e.length===t:e.length>0)&&(e.every((function(e){return gt(e,2)}))?n=e:gt(e,2)&&n.push(e)),n}function Jc(e){var t=Ze(e),n=t.mediaTypes.banner,r=$c(n.sizes);return r.length>0?(n.sizes=r,t.sizes=r):(Se("Detected a mediaTypes.banner object without a proper sizes field.  Please ensure the sizes are listed like: [[300, 250], ...].  Removing invalid mediaTypes.banner object from request."),delete t.mediaTypes.banner),t}function Xc(e){var t=Ze(e),n=t.mediaTypes.video;if(n.playerSize){var r="number"==typeof n.playerSize[0]?2:1,i=$c(n.playerSize,r);i.length>0?(2===r&&_e("Transforming video.playerSize from [640,480] to [[640,480]] so it's in the proper format."),n.playerSize=i,t.sizes=i):(Se("Detected incorrect configuration of mediaTypes.video.playerSize.  Please specify only one set of dimensions in a format like: [[640, 480]]. Removing invalid mediaTypes.video.playerSize property from request."),delete t.mediaTypes.video.playerSize)}return t}function Qc(e){var t=Ze(e),n=t.mediaTypes.native;if(n.ortb){var r=Object.keys(h.FY).filter((function(e){return h.FY[e].includes("hb_native_")})),i=Object.keys(n).filter((function(e){return r.includes(e)}));i.length>0&&(Se("when using native OpenRTB format, you cannot use legacy native properties. Deleting ".concat(i," keys from request.")),i.forEach((function(e){return delete t.mediaTypes.native[e]})))}return n.image&&n.image.sizes&&!Array.isArray(n.image.sizes)&&(Se("Please use an array of sizes for native.image.sizes field.  Removing invalid mediaTypes.native.image.sizes property from request."),delete t.mediaTypes.native.image.sizes),n.image&&n.image.aspect_ratios&&!Array.isArray(n.image.aspect_ratios)&&(Se("Please use an array of sizes for native.image.aspect_ratios field.  Removing invalid mediaTypes.native.image.aspect_ratios property from request."),delete t.mediaTypes.native.image.aspect_ratios),n.icon&&n.icon.sizes&&!Array.isArray(n.icon.sizes)&&(Se("Please use an array of sizes for native.icon.sizes field.  Removing invalid mediaTypes.native.icon.sizes property from request."),delete t.mediaTypes.native.icon.sizes),t}function Kc(e,t){var n=g(e,"mediaTypes.".concat(t,".pos"));if(!ze(n)||isNaN(n)||!isFinite(n)){var r="Value of property 'pos' on ad unit ".concat(e.code," should be of type: Number");Ce(r),Vt(h.FP.AUCTION_DEBUG,{type:"WARNING",arguments:r}),delete e.mediaTypes[t].pos}return e}function Yc(e){var t=function(t){return"adUnit.code '".concat(e.code,"' ").concat(t)},n=e.mediaTypes,r=e.bids;return null==r||Re(r)?null==r&&null==e.ortb2Imp?(Se(t("has no 'adUnit.bids' and no 'adUnit.ortb2Imp'. Removing adUnit from auction")),null):n&&0!==Object.keys(n).length?(null==e.ortb2Imp||null!=r&&0!==r.length||(e.bids=[{bidder:null}],Ie(t("defines 'adUnit.ortb2Imp' with no 'adUnit.bids'; it will be seen only by S2S adapters"))),e):(Se(t("does not define a 'mediaTypes' object.  This is a required field for the auction, so this adUnit has been removed.")),null):(Se(t("defines 'adUnit.bids' that is not an array. Removing adUnit from auction")),null)}!function(){var e=null;try{e=window.sessionStorage}catch(e){}if(null!==e){var t=uc,n=null;try{n=e.getItem(oc)}catch(e){}null!==n&&t.enable()}}(),Mc.bidderSettings=Mc.bidderSettings||{},Mc.libLoaded=!0,Mc.version="v8.33.0",_e("Prebid.js v8.33.0 loaded"),Mc.installedModules=Mc.installedModules||[],Mc.adUnits=Mc.adUnits||[],Mc.triggerUserSyncs=qc;var Zc={validateAdUnit:Yc,validateBannerMediaType:Jc,validateSizes:$c};Fc(Zc,{validateNativeMediaType:Qc}),Fc(Zc,{validateVideoMediaType:Xc});var eu,tu=Rn("sync",(function(e){var t=[];return e.forEach((function(e){if(null!=(e=Yc(e))){var n,r,i,o=e.mediaTypes;o.banner&&(n=Jc(e),o.banner.hasOwnProperty("pos")&&(n=Kc(n,"banner"))),o.video&&(r=Xc(n||e),o.video.hasOwnProperty("pos")&&(r=Kc(r,"video"))),o.native&&(i=Qc(r||n||e));var a=Fc({},n,r,i);t.push(a)}})),t}),"checkAdUnitSetup");function nu(e){e.forEach((function(e){return function(e){var t,n=null==e||null===(t=e.mediaTypes)||void 0===t?void 0:t.video;null!=n&&null==n.plcmt&&(n.context===lr||[2,3,4].includes(n.placement)?n.plcmt=4:n.context!==lr&&[2,6].includes(n.playbackmethod)&&(n.plcmt=2))}(e)}))}function ru(e){var t=Ba[e]().filter((function(e){return Ba.getAdUnitCodes().includes(e.adUnitCode)})),n=Ba.getLastAuctionId();return t.map((function(e){return e.adUnitCode})).filter($e).map((function(e){return t.filter((function(t){return t.auctionId===n&&t.adUnitCode===e}))})).filter((function(e){return e&&e[0]&&e[0].adUnitCode})).map((function(e){return t={},n=e[0].adUnitCode,r={bids:e},n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t;var t,n,r})).reduce((function(e,t){return Fc(e,t)}),{})}Mc.getAdserverTargetingForAdUnitCodeStr=function(e){if(_e("Invoking pbjs.getAdserverTargetingForAdUnitCodeStr",arguments),e){var t=Mc.getAdserverTargetingForAdUnitCode(e);return pe(t)}Ie("Need to call getAdserverTargetingForAdUnitCodeStr with adunitCode")},Mc.getHighestUnusedBidResponseForAdUnitCode=function(e){if(e){var t=Ba.getAllBidsForAdUnitCode(e).filter(tc);return t.length?t.reduce(Ws):{}}Ie("Need to call getHighestUnusedBidResponseForAdUnitCode with adunitCode")},Mc.getAdserverTargetingForAdUnitCode=function(e){return Mc.getAdserverTargeting(e)[e]},Mc.getAdserverTargeting=function(e){return _e("Invoking pbjs.getAdserverTargeting",arguments),ic.getAllTargeting(e)},Mc.getConsentMetadata=function(){return _e("Invoking pbjs.getConsentMetadata"),Fi.getConsentMeta()},Mc.getNoBids=function(){return _e("Invoking pbjs.getNoBids",arguments),ru("getNoBids")},Mc.getNoBidsForAdUnitCode=function(e){return{bids:Ba.getNoBids().filter((function(t){return t.adUnitCode===e}))}},Mc.getBidResponses=function(){return _e("Invoking pbjs.getBidResponses",arguments),ru("getBidsReceived")},Mc.getBidResponsesForAdUnitCode=function(e){return{bids:Ba.getBidsReceived().filter((function(t){return t.adUnitCode===e}))}},Mc.setTargetingForGPTAsync=function(e,t){if(_e("Invoking pbjs.setTargetingForGPTAsync",arguments),Ke()){var n=ic.getAllTargeting(e);ic.resetPresetTargeting(e,t),ic.setTargetingForGPT(n,t),Object.keys(n).forEach((function(e){Object.keys(n[e]).forEach((function(t){"hb_adid"===t&&Ba.setStatusForBids(n[e][t],h.UE.CK)}))})),Vt(Vc,n)}else Se("window.googletag is not defined on the page")},Mc.setTargetingForAst=function(e){_e("Invoking pbjs.setTargetingForAn",arguments),ic.isApntagDefined()?(ic.setTargetingForAst(e),Vt(Vc,ic.getAllTargeting())):Se("window.apntag is not defined on the page")},Mc.renderAd=Rn("async",(function(e,t,n){_e("Invoking pbjs.renderAd",arguments),Ie("Calling renderAd with adId :"+t),Dc(e,t,n)})),Mc.removeAdUnit=function(e){_e("Invoking pbjs.removeAdUnit",arguments),e?(Re(e)?e:[e]).forEach((function(e){for(var t=Mc.adUnits.length-1;t>=0;t--)Mc.adUnits[t].code===e&&Mc.adUnits.splice(t,1)})):Mc.adUnits=[]},Mc.requestBids=(eu=Rn("async",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.bidsBackHandler,n=e.timeout,r=e.adUnits,i=e.adUnitCodes,a=e.labels,s=e.auctionId,c=e.ttlBuffer,u=e.ortb2,d=e.metrics,l=e.defer;Vt(Hc);var f=n||T.getConfig("bidderTimeout");_e("Invoking pbjs.requestBids",arguments),i&&i.length?r=r.filter((function(e){return o(i,e.code)})):i=r&&r.map((function(e){return e.code}));var p={global:_t({},T.getAnyConfig("ortb2")||{},u||{}),bidder:Object.fromEntries(Object.entries(T.getBidderConfig()).map((function(e){var t=Uc(e,2);return[t[0],t[1].ortb2]})).filter((function(e){var t=Uc(e,2);return t[0],null!=t[1]})))};return xc(W.resolve(p.global)).then((function(e){return p.global=e,iu({bidsBackHandler:t,timeout:f,adUnits:r,adUnitCodes:i,labels:a,auctionId:s,ttlBuffer:c,ortb2Fragments:p,metrics:d,defer:l})}))}),"requestBids"),function(e,t){return Object.defineProperties(t,Object.fromEntries(["before","after","getHooks","removeAll"].map((function(t){return[t,{get:function(){return e[t]}}]})))),t}(eu,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.adUnits||Mc.adUnits;return e.adUnits=Re(t)?t.slice():[t],e.metrics=Or(),e.metrics.checkpoint("requestBids"),e.defer=V({promiseFactory:function(e){return new Promise(e)}}),eu.call(this,e),e.defer.promise})));var iu=Rn("async",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.bidsBackHandler,n=e.timeout,r=e.adUnits,i=e.ttlBuffer,a=e.adUnitCodes,s=e.labels,c=e.auctionId,u=e.ortb2Fragments,d=e.metrics,l=e.defer,f=xo(T.getConfig("s2sConfig")||[]);function p(e,n,r){if("function"==typeof t)try{t(e,n,r)}catch(e){Se("Error executing bidsBackHandler",null,e)}l.resolve({bids:e,timedOut:n,auctionId:r})}if(nu(r),(r=Er(d).measureTime("requestBids.validate",(function(){return tu(r)}))).forEach((function(e){var t,n,r=Object.keys(e.mediaTypes||{banner:"banner"}),a=e.bids.map((function(e){return e.bidder})),s=jo.bidderRegistry,c=a.filter((function(e){return!f.has(e)})),u=(null===(t=e.ortb2Imp)||void 0===t||null===(n=t.ext)||void 0===n?void 0:n.tid)||le();e.transactionId=u,null==i||e.hasOwnProperty("ttlBuffer")||(e.ttlBuffer=i),Et(e,"ortb2Imp.ext.tid",u),c.forEach((function(t){var n=s[t],i=n&&n.getSpec&&n.getSpec(),a=i&&i.supportedMediaTypes||["banner"];r.some((function(e){return o(a,e)}))?Jr.incrementBidderRequestsCounter(e.code,t):(Ce(ft(e,t)),e.bids=e.bids.filter((function(e){return e.bidder!==t})))})),Jr.incrementRequestsCounter(e.code)})),r&&0!==r.length){var m=Ba.createAuction({adUnits:r,adUnitCodes:a,callback:p,cbTimeout:n,labels:s,auctionId:c,ortb2Fragments:u,metrics:d}),v=r.length;v>15&&_e("Current auction ".concat(m.getAuctionId()," contains ").concat(v," adUnits."),r),a.forEach((function(e){return ic.setLatestAuctionForAdUnit(e,m.getAuctionId())})),m.callBids()}else Ie("No adUnits configured. No bids requested."),p()}),"startAuction");Mc.requestBids.before((function(e,t){function n(e){for(var t;t=e.shift();)t()}n(Bo),n(ou),e.call(this,t)}),49),Mc.addAdUnits=function(e){_e("Invoking pbjs.addAdUnits",arguments),Mc.adUnits.push.apply(Mc.adUnits,Re(e)?e:[e]),Vt(Wc)},Mc.onEvent=function(e,t,n){_e("Invoking pbjs.onEvent",arguments),ke(t)?!n||Gc[e].call(null,n)?Lt(e,t,n):Se('The id provided is not valid for event "'+e+'" and no handler was set.'):Se('The event handler provided is not a function and was not set on event "'+e+'".')},Mc.offEvent=function(e,t,n){_e("Invoking pbjs.offEvent",arguments),n&&!Gc[e].call(null,n)||Wt(e,t,n)},Mc.getEvents=function(){return _e("Invoking pbjs.getEvents"),Ht()},Mc.registerBidAdapter=function(e,t){_e("Invoking pbjs.registerBidAdapter",arguments);try{jo.registerBidAdapter(e(),t)}catch(e){Se("Error registering bidder adapter : "+e.message)}},Mc.registerAnalyticsAdapter=function(e){_e("Invoking pbjs.registerAnalyticsAdapter",arguments);try{jo.registerAnalyticsAdapter(e)}catch(e){Se("Error registering analytics adapter : "+e.message)}},Mc.createBid=function(e){return _e("Invoking pbjs.createBid",arguments),dr(e)};var ou=[],au=Rn("async",(function(e){e&&!De(e)?(_e("Invoking pbjs.enableAnalytics for: ",e),jo.enableAnalytics(e)):Se("pbjs.enableAnalytics should be called with option {}")}),"enableAnalyticsCb");Mc.enableAnalytics=function(e){ou.push(au.bind(this,e))},Mc.aliasBidder=function(e,t,n){_e("Invoking pbjs.aliasBidder",arguments),e&&t?jo.aliasBidAdapter(e,t,n):Se("bidderCode and alias must be passed as arguments","pbjs.aliasBidder")},Mc.aliasRegistry=jo.aliasRegistry,T.getConfig("aliasRegistry",(function(e){"private"===e.aliasRegistry&&delete Mc.aliasRegistry})),Mc.getAllWinningBids=function(){return Ba.getAllWinningBids()},Mc.getAllPrebidWinningBids=function(){return Ba.getBidsReceived().filter((function(e){return e.status===h.UE.CK}))},Mc.getHighestCpmBids=function(e){return ic.getWinningBids(e)},Mc.markWinningBidAsUsed=function(e){var t=su(e,"Improper use of markWinningBidAsUsed. It needs an adUnitCode or an adId to function.");t.length>0&&Ba.addWinningBid(t[0])};var su=function(e,t){var n=[];return e.adUnitCode&&e.adId?n=Ba.getBidsReceived().filter((function(t){return t.adId===e.adId&&t.adUnitCode===e.adUnitCode})):e.adUnitCode?n=ic.getWinningBids(e.adUnitCode):e.adId?n=Ba.getBidsReceived().filter((function(t){return t.adId===e.adId})):Ce(t),n};function cu(e){e.forEach((function(e){if(void 0===e.called)try{e.call(),e.called=!0}catch(e){Se("Error processing command :","prebid.js",e)}}))}Mc.getConfig=T.getAnyConfig,Mc.readConfig=T.readAnyConfig,Mc.mergeConfig=T.mergeConfig,Mc.mergeBidderConfig=T.mergeBidderConfig,Mc.setConfig=T.setConfig,Mc.setBidderConfig=T.setBidderConfig,Mc.que.push((function(){window.addEventListener("message",zs,!1)})),Mc.cmd.push=function(e){if("function"==typeof e)try{e.call()}catch(e){Se("Error processing command :",e.message,e.stack)}else Se("Commands written into pbjs.cmd.push must be wrapped in a function")},Mc.que.push=Mc.cmd.push,Mc.processQueue=function(){Rn.ready(),cu(Mc.que),cu(Mc.cmd)},Mc.triggerBilling=function(e){var t=su(e,"Improper use of triggerBilling. It requires a bid with at least an adUnitCode or an adId to function."),n=t.find((function(t){return t.requestId===e.requestId}))||t[0];if(t.length>0&&n)try{jo.callBidBillableBidder(n)}catch(e){Se("Error when triggering billing :",e)}else Ce("The bid provided to triggerBilling did not match any bids received.")};var uu=Mc;function du(e){return function(e){if(Array.isArray(e))return lu(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return lu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lu(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var fu="6.0.0",pu="USD",mu="hb-multi",vu="hb-multi-test",gu="iframe",hu="pixel",bu={code:"rise",aliases:[{code:"risexchange",gvlid:1043},{code:"openwebxchange",gvlid:280}],gvlid:1043,version:fu,supportedMediaTypes:[$o,Go],isBidRequestValid:function(e){return e.params?!!e.params.org||(Ce("org is a mandatory param for Rise adapter"),!1):(Ce("no params have been set to Rise adapter"),!1)},buildRequests:function(e,t){var n={},r=e[0],i=r.params.testMode,o=r.params.rtbDomain;return n.params=function(e,t){var n=window.location.hostname,r=T.getConfig("userSync")||{},i=r.syncEnabled,o=r.filterSettings,a=t.bidderCode,s=e.params,c=t.timeout,u={wrapper_type:"prebidjs",wrapper_vendor:"pbjs",wrapper_version:"8.33.0",adapter_version:fu,auction_start:rt(),publisher_id:s.org,publisher_name:n,site_domain:n,dnt:"yes"==navigator.doNotTrack||"1"==navigator.doNotTrack||"1"==navigator.msDoNotTrack?1:0,device_type:Cu(navigator.userAgent),ua:navigator.userAgent,is_wrapper:!!s.isWrapper,session_id:s.sessionId||fe("bidderRequestId",e),tmax:c},d=fe("userId",e);d&&(u.userIds=JSON.stringify(d));var l=t.ortb2||{};if(l.site&&(u.site_metadata=JSON.stringify(l.site)),l.user&&(u.user_metadata=JSON.stringify(l.user)),i){var f=function(e,t){var n=["all","iframe"],r="image";return e&&n.some((function(n){return Iu(e[n],t)}))?gu:e&&e[r]&&!Iu(e[r],t)?void 0:hu}(o,a);f&&(u.cs_method=f)}return t.uspConsent&&(u.us_privacy=t.uspConsent),t&&t.gdprConsent&&t.gdprConsent.gdprApplies&&(u.gdpr=t.gdprConsent.gdprApplies,u.gdpr_consent=t.gdprConsent.consentString),s.ifa&&(u.ifa=s.ifa),e.schain&&(u.schain=function(e){if(De(e))return"";var t="".concat(e.ver,",").concat(e.complete);return e.nodes.forEach((function(e){t+="!",t+="".concat(wu(e.asi),","),t+="".concat(wu(e.sid),","),t+="".concat(e.hp?encodeURIComponent(e.hp):"",","),t+="".concat(wu(e.rid),","),t+="".concat(wu(e.name),","),t+="".concat(wu(e.domain))})),t}(e.schain)),t&&t.refererInfo&&(u.referrer=g(t,"refererInfo.ref"),u.page_url=g(t,"refererInfo.page")||g(window,"location.href")),u}(r,t),n.bids=function(e,t){var n=[];return e.length&&e.forEach((function(e){n.push(function(e,t){var n,r,i=e.params,o=function(e){return e.mediaTypes&&e.mediaTypes.banner}(e)?$o:Go,a=function(e,t){var n=[];return g(e,"mediaTypes.".concat(t,".sizes"))?n=e.mediaTypes[t].sizes:Array.isArray(e.sizes)&&e.sizes.length>0&&(n=e.sizes),n}(e,o),s=i.currency||T.getConfig("currency.adServerCurrency")||pu;isNaN(i.floorPrice)&&(i.floorPrice=0);var c={mediaType:o,adUnitCode:fe("adUnitCode",e),sizes:a,currency:s,floorPrice:Math.max(yu(e,o,s),i.floorPrice),bidId:fe("bidId",e),bidderRequestId:fe("bidderRequestId",e),loop:fe("bidderRequestsCount",e),transactionId:null===(n=e.ortb2Imp)||void 0===n||null===(r=n.ext)||void 0===r?void 0:r.tid,coppa:0},u=g(e,"mediaTypes.".concat(o,".pos"));u&&(c.pos=u);var d=g(e,"ortb2Imp.ext.gpid");d&&(c.gpid=d);var l=i.placementId||g(e,"mediaTypes.".concat(o,".name"));l&&(c.placementId=l);var f=g(e,"mediaTypes.".concat(o,".mimes"));f&&(c.mimes=f);var p=g(e,"mediaTypes.".concat(o,".api"));p&&(c.api=p);var m=g(e,"ortb2.device.sua");if(m&&(c.sua=m),g(e,"ortb2.regs.coppa")&&(c.coppa=1),o===Go){var v,h=g(e,"mediaTypes.video.playbackmethod");Array.isArray(h)&&pt(h[0])?v=h[0]:pt(h)&&(v=h),v&&(c.playbackMethod=v);var b=g(e,"mediaTypes.video.placement");b&&(c.placement=b);var y=g(e,"mediaTypes.video.minduration");y&&(c.minDuration=y);var w=g(e,"mediaTypes.video.maxduration");w&&(c.maxDuration=w);var I=g(e,"mediaTypes.video.skip");I&&(c.skip=I);var _=g(e,"mediaTypes.video.linearity");_&&(c.linearity=_);var C=g(e,"mediaTypes.video.protocols");C&&(c.protocols=C);var S=g(e,"mediaTypes.video.plcmt");S&&(c.plcmt=S)}return c}(e))})),n}(e),{method:"POST",url:_u(i,o),data:n}},interpretResponse:function(e){var t=e.body,n=[];return t.bids&&t.bids.forEach((function(e){var t={requestId:e.requestId,cpm:e.cpm,currency:e.currency||pu,width:e.width,height:e.height,ttl:e.ttl||360,creativeId:e.requestId,netRevenue:e.netRevenue||!0,nurl:e.nurl,mediaType:e.mediaType,meta:{mediaType:e.mediaType}};e.mediaType===Go?t.vastXml=e.vastXml:e.mediaType===$o&&(t.ad=e.ad),e.adomain&&e.adomain.length&&(t.meta.advertiserDomains=e.adomain),n.push(t)})),n},getUserSyncs:function(e,t){var n=[];for(var r of t)if(e.iframeEnabled&&r.body.params.userSyncURL&&n.push({type:"iframe",url:r.body.params.userSyncURL}),e.pixelEnabled&&Re(r.body.params.userSyncPixels)){var i=r.body.params.userSyncPixels.map((function(e){return{type:"image",url:e}}));n.push.apply(n,du(i))}return n},onBidWon:function(e){null!=e&&(_e("onBidWon:",e),e.hasOwnProperty("nurl")&&e.nurl.length>0&&We(e.nurl))}};function yu(e,t,n){if(!ke(e.getFloor))return 0;var r=e.getFloor({currency:n,mediaType:t,size:"*"});return r.currency===n&&r.floor?r.floor:0}function wu(e){return De(e)?"":encodeURIComponent(e)}function Iu(e,t){if(!e)return!1;var n="include"===e.filter,r=Re(e.bidders)?e.bidders:[t];return n&&Fe(r,t)}function _u(e,t){var n=t?"https://".concat(t,"/"):"https://hb.yellowblue.io/";return e?n+vu:n+mu}function Cu(e){return/ipad|android 3.0|xoom|sch-i800|playbook|tablet|kindle/i.test(e.toLowerCase())?"5":/iphone|ipod|android|blackberry|opera|mini|windows\sce|palm|smartphone|iemobile/i.test(e.toLowerCase())?"4":/smart[-_\s]?tv|hbbtv|appletv|googletv|hdmi|netcast|viera|nettv|roku|\bdtv\b|sonydtv|inettvbrowser|\btv\b/i.test(e.toLowerCase())?"3":"1"}function Su(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Su(Object(n),!0).forEach((function(t){Au(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Su(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Au(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Fr(bu),i("riseBidAdapter");var Eu={mimes:function(e){return Array.isArray(e)&&e.length>0&&e.every((function(e){return"string"==typeof e}))},minduration:function(e){return pt(e)},maxduration:function(e){return pt(e)},protocols:function(e){return Array.isArray(e)&&e.every((function(e){return e>=1&&e<=10}))},w:function(e){return pt(e)},h:function(e){return pt(e)},startdelay:function(e){return pt(e)},placement:function(e){return pt(e)&&e>=1&&e<=5},linearity:function(e){return-1!==[1,2].indexOf(e)},skip:function(e){return-1!==[0,1].indexOf(e)},skipmin:function(e){return pt(e)},skipafter:function(e){return pt(e)},sequence:function(e){return pt(e)},battr:function(e){return Array.isArray(e)&&e.every((function(e){return e>=1&&e<=17}))},maxextended:function(e){return pt(e)},minbitrate:function(e){return pt(e)},maxbitrate:function(e){return pt(e)},boxingallowed:function(e){return-1!==[0,1].indexOf(e)},playbackmethod:function(e){return Array.isArray(e)&&e.every((function(e){return e>=1&&e<=6}))},playbackend:function(e){return-1!==[1,2,3].indexOf(e)},delivery:function(e){return Array.isArray(e)&&e.every((function(e){return e>=1&&e<=3}))},pos:function(e){return pt(e)&&e>=1&&e<=7},api:function(e){return Array.isArray(e)&&e.every((function(e){return e>=1&&e<=6}))}},Tu={context:function(e){return e!==Jo},mimes:Eu.mimes,maxduration:Eu.maxduration,protocols:Eu.protocols},Ou={code:"sovrn",supportedMediaTypes:[$o,Go],gvlid:13,isBidRequestValid:function(e){var t,n=null==e||null===(t=e.mediaTypes)||void 0===t?void 0:t.video;return!(!e.params.tagid||isNaN(parseFloat(e.params.tagid))||!isFinite(e.params.tagid)||n&&!Object.keys(Tu).every((function(e){return Tu[e](n[e])})))},buildRequests:function(e,t){try{var n,r,i,o,a=[];Ne(e,(function(e){!i&&e.userIdAsEids&&(i=e.userIdAsEids).forEach((function(e){e.uids&&e.uids[0]&&"criteo.com"===e.source&&(o=e.uids[0].id)})),e.schain&&(r=r||e.schain),n=n||fe("iv",e.params);var t=e.getFloor&&"function"==typeof e.getFloor?e.getFloor({currency:"USD",mediaType:e.mediaTypes&&e.mediaTypes.banner?"banner":"video",size:"*"}):{};t.floor=t.floor||fe("bidfloor",e.params);var s={adunitcode:e.adUnitCode,id:e.bidId,tagid:String(fe("tagid",e.params)),bidfloor:t.floor};if(g(e,"mediaTypes.banner")){var c=g(e,"mediaTypes.banner.sizes")||e.sizes,u=(c=(c=Re(c)&&Re(c[0])?c:[c]).filter((function(e){return Re(e)}))).map((function(e){return{w:parseInt(e[0],10),h:parseInt(e[1],10)}}));s.banner={format:u,w:1,h:1}}g(e,"mediaTypes.video")&&(s.video=function(e){var t={},n=g(e,"sizes"),r=g(e,"mediaTypes.video",{}),i=g(e,"params.video",{}),o={};if(n){var a=Array.isArray(n[0])?n[0]:n;o.w=a[0],o.h=a[1]}else if(Array.isArray(r.playerSize)){var s=Array.isArray(r.playerSize[0])?r.playerSize[0]:r.playerSize;o.w=s[0],o.h=s[1]}var c=xu(xu(xu({},o),r),i);return Object.keys(Eu).forEach((function(e){c.hasOwnProperty(e)&&(Eu[e](c[e])?t[e]=c[e]:Ce("The OpenRTB video param ".concat(e," has been skipped due to misformating. Please refer to OpenRTB 2.5 spec.")))})),t}(e)),s.ext=fe("ext",e.ortb2Imp)||void 0;var d=fe("segments",e.params);d&&(s.ext=s.ext||{},s.ext.deals=d.split(",").map((function(e){return e.trim()}))),a.push(s)}));var s=t.ortb2||{},c=s.site||{};c.page=t.refererInfo.page,c.domain=t.refererInfo.domain;var u=g(t,"timeout"),d={id:de(),imp:a,site:c,user:s.user||{},tmax:u};r&&(d.source={ext:{schain:r}});var l=g(t,"ortb2.source.tid");l&&Et(d,"source.tid",l),g(t,"ortb2.regs.coppa")&&Et(d,"regs.coppa",1),t.gdprConsent&&(Et(d,"regs.ext.gdpr",+t.gdprConsent.gdprApplies),Et(d,"user.ext.consent",t.gdprConsent.consentString)),t.uspConsent&&Et(d,"regs.ext.us_privacy",t.uspConsent),t.gppConsent&&(Et(d,"regs.gpp",t.gppConsent.gppString),Et(d,"regs.gpp_sid",t.gppConsent.applicableSections)),i&&(Et(d,"user.ext.eids",i),o&&Et(d,"user.ext.prebid_criteoid",o));var f="https://ap.lijit.com/rtb/bid?src=prebid_prebid_8.33.0";return n&&(f+="&iv=".concat(n)),{method:"POST",url:f,data:JSON.stringify(d),options:{contentType:"text/plain"}}}catch(e){Se("Could not build bidrequest, error deatils:",e)}},interpretResponse:function(e){var t=e.body,n=t.id,r=t.seatbid;if(!n||!r||!Array.isArray(r))return[];try{return r.filter((function(e){return e})).map((function(e){return e.bid.map((function(e){var t,n={requestId:e.impid,cpm:parseFloat(e.price),width:parseInt(e.w),height:parseInt(e.h),creativeId:e.crid||e.id,dealId:e.dealid||null,currency:"USD",netRevenue:!0,mediaType:e.nurl?$o:Go,ttl:(null===(t=e.ext)||void 0===t?void 0:t.ttl)||90,meta:{advertiserDomains:e&&e.adomain?e.adomain:[]}};return e.nurl?n.ad=decodeURIComponent("".concat(e.adm,'<img src="').concat(e.nurl,'">')):n.vastXml=decodeURIComponent(e.adm),n}))})).flat()}catch(e){return Se("Could not interpret bidresponse, error details:",e),e}},getUserSyncs:function(e,t,n,r,i){try{var o=[];if(t&&0!==t.length){if(e.iframeEnabled){var a=t.filter((function(e){return g(e,"body.ext.iid")})).map((function(e){return e.body.ext.iid})),s=[];n&&n.gdprApplies&&"string"==typeof n.consentString&&s.push(["gdpr_consent",n.consentString]),r&&s.push(["us_privacy",r]),i&&(s.push(["gpp",i.gppString]),s.push(["gpp_sid",i.applicableSections])),a[0]&&(s.push(["informer",a[0]]),o.push({type:"iframe",url:"https://ap.lijit.com/beacon?"+s.map((function(e){return e.join("=")})).join("&")}))}e.pixelEnabled&&t.filter((function(e){return g(e,"body.ext.sync.pixels")})).reduce((function(e,t){return e.concat(t.body.ext.sync.pixels)}),[]).map((function(e){return e.url})).forEach((function(e){return o.push({type:"image",url:e})}))}return o}catch(e){return[]}}};function ku(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ju(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ju(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ju(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Fr(Ou),i("sovrnBidAdapter");var Ru=new WeakMap;function zu(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!Ru.has(e)){var n=Object.entries(e);n.sort((function(e,t){return(e=e[1].priority||0)===(t=t[1].priority||0)?0:e>t?-1:1})),Ru.set(e,n.map((function(e){var t=ku(e,2);return[t[0],t[1].fn]})))}var r=Ru.get(e).filter((function(e){var n=ku(e,1)[0];return!t.hasOwnProperty(n)||t[n]})).map((function(e){var n=ku(e,2),r=n[0],i=n[1];return t.hasOwnProperty(r)?t[r].bind(this,i):i}));return function(){var e=this,t=Array.from(arguments);r.forEach((function(n){n.apply(e,t)}))}}function Pu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Bu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Bu(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Du(e){return(e=me(e)).map((function(e){var t=Pu(e.split("x"),2),n=t[0],r=t[1];return{w:parseInt(n,10),h:parseInt(r,10)}}))}function Uu(){return Uu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Uu.apply(this,arguments)}function Nu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Fu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fu(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Mu=new Set(["pos","placement","plcmt","api","mimes","protocols","playbackmethod","minduration","maxduration","w","h","startdelay","placement","linearity","skip","skipmin","skipafter","minbitrate","maxbitrate","delivery","playbackend"]),qu={instream:1},Lu={1:$o,2:Go,4:Vo};function Wu(){return Wu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wu.apply(this,arguments)}var Hu,Vu,Gu=["request","imp","bidResponse","response"],$u=["default","pbs"],Ju=Gu[0],Xu=Gu[1],Qu=Gu[2],Ku=Gu[3],Yu=$u[0],Zu=$u[1],ed=new Set(Gu),td=(Hu={},{registerOrtbProcessor:function(e){var t=e.type,n=e.name,r=e.fn,i=e.priority,o=void 0===i?0:i,a=e.dialects,s=void 0===a?[Yu]:a;if(!ed.has(t))throw new Error("ORTB processor type must be one of: ".concat(Gu.join(", ")));s.forEach((function(e){Hu.hasOwnProperty(e)||(Hu[e]={}),Hu[e].hasOwnProperty(t)||(Hu[e][t]={}),Hu[e][t][n]={priority:o,fn:r}}))},getProcessors:function(e){return Hu[e]||{}}}),nd=td.registerOrtbProcessor,rd=td.getProcessors;function id(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function od(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ad(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ad(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ad(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function sd(){return sd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sd.apply(this,arguments)}var cd=(id(Vu={},Ju,{fpd:{priority:99,fn:function(e,t){_t(e,t.ortb2)}},onlyOneClient:{priority:-99,fn:bc("ORTB request")},props:{fn:function(e,t){sd(e,{id:e.id||le(),test:e.test||0});var n=parseInt(t.timeout,10);isNaN(n)||(e.tmax=n)}}}),id(Vu,Xu,{fpd:{priority:99,fn:function(e,t){_t(e,t.ortb2Imp)}},id:{fn:function(e,t){e.id=t.bidId}},banner:{fn:function(e,t,n){if(!n.mediaType||n.mediaType===$o){var r=g(t,"mediaTypes.banner");if(r){var i={topframe:!0===et()?0:1};r.sizes&&(i.format=Du(r.sizes)),r.hasOwnProperty("pos")&&(i.pos=r.pos),e.banner=_t(i,e.banner)}}}},pbadslot:{fn:function(e){var t,n,r,i,o=null===(t=e.ext)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.pbadslot;o&&"string"==typeof o||null===(r=e.ext)||void 0===r||null===(i=r.data)||void 0===i||delete i.pbadslot}}}),id(Vu,Qu,{mediaType:{priority:99,fn:function(e,t,n){if(!e.mediaType){var r=n.mediaType;if(!r&&!Lu.hasOwnProperty(t.mtype))throw new Error("Cannot determine mediaType for response");e.mediaType=r||Lu[t.mtype]}}},banner:{fn:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.createPixel,n=void 0===t?function(e){return Ge(decodeURIComponent(e))}:t;return function(e,t){e.mediaType===$o&&(t.adm&&t.nurl?(e.ad=t.adm,e.ad+=n(t.nurl)):t.adm?e.ad=t.adm:t.nurl&&(e.adUrl=t.nurl))}}()},props:{fn:function(e,t,n){var r;Object.entries({requestId:null===(r=n.bidRequest)||void 0===r?void 0:r.bidId,seatBidId:t.id,cpm:t.price,currency:n.ortbResponse.cur||n.currency,width:t.w,height:t.h,dealId:t.dealid,creative_id:t.crid,creativeId:t.crid,burl:t.burl,ttl:t.exp||n.ttl,netRevenue:n.netRevenue}).filter((function(e){var t=od(e,2);return t[0],void 0!==t[1]})).forEach((function(t){var n=od(t,2),r=n[0],i=n[1];return e[r]=i})),e.meta||(e.meta={}),t.adomain&&(e.meta.advertiserDomains=t.adomain)}}}),Vu);function ud(){return ud=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ud.apply(this,arguments)}function dd(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.shift(),i=t.length>1?dd.apply(void 0,t):t[0];return Object.fromEntries(Gu.map((function(e){return[e,ud({},r[e],i[e])]})))}function ld(){return ld=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ld.apply(this,arguments)}function fd(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.context,n=void 0===t?{}:t,r=e.processors,i=void 0===r?md:r,o=e.overrides,a=void 0===o?{}:o,s=e.imp,c=e.request,u=e.bidResponse,d=e.response,l=new WeakMap;function f(e,t,n,r){var o;return function(){return null==o&&(o=function(){var o=n.bind(this,zu(i()[e]||{},a[e]||{}));return t&&(o=t.bind(this,o)),function(){try{return o.apply(this,arguments)}catch(e){r.call.apply(r,[this,e].concat(Array.prototype.slice.call(arguments)))}}}()),o.apply(this,arguments)}}var p=f(Xu,s,(function(e,t,n){var r={};return e(r,t,n),r}),(function(e,t,n){Se("Error while converting bidRequest to ORTB imp; request skipped.",{error:e,bidRequest:t,context:n})})),m=f(Ju,c,(function(e,t,n,r){var i={imp:t};return e(i,n,r),i}),(function(e,t,n,r){throw Se("Error while converting to ORTB request",{error:e,imps:t,bidderRequest:n,context:r}),e})),v=f(Qu,u,(function(e,t,n){var r={};return e(r,t,n),r}),(function(e,t,n){Se("Error while converting ORTB seatbid.bid to bidResponse; bid skipped.",{error:e,bid:t,context:n})})),g=f(Ku,d,(function(e,t,n,r){var i={bids:t};return e(i,n,r),i}),(function(e,t,n,r){throw Se("Error while converting from ORTB response",{error:e,bidResponses:t,ortbResponse:n,context:r}),e}));return{toORTB:function(e){var t=e.bidderRequest,r=e.bidRequests,i=e.context,o=void 0===i?{}:i,a={req:ld({bidRequests:r=r||t.bids},n,o),imp:{}};a.req.impContext=a.imp;var s=r.map((function(e){var r=ld({bidderRequest:t,reqContext:a.req},n,o),i=p(e,r);if(null!=i){if(i.hasOwnProperty("id"))return ld(r,{bidRequest:e,imp:i}),a.imp[i.id]=r,i;Se("Converted ORTB imp does not specify an id, ignoring bid request",e,i)}})).filter(Boolean),c=m(s,t,a.req);return a.req.bidderRequest=t,null!=c&&l.set(c,a),c},fromORTB:function(e){var t=e.request,n=e.response,r=l.get(t);if(null==r)throw new Error("ortbRequest passed to `fromORTB` must be the same object returned by `toORTB`");function i(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return ld(e,{ortbRequest:t},n,e)}var o=Object.fromEntries((t.imp||[]).map((function(e){return[e.id,e]}))),a=(n.seatbid||[]).flatMap((function(e){return(e.bid||[]).map((function(t){if(o.hasOwnProperty(t.impid)&&r.imp.hasOwnProperty(t.impid))return v(t,i(r.imp[t.impid],{imp:o[t.impid],seatbid:e,ortbResponse:n}));Se("ORTB response seatbid[].bid[].impid does not match any imp in request; ignoring bid",t)}))})).filter(Boolean);return g(a,n,i(r.req))}}}cd[Xu].native={fn:function(e,t,n){if(!n.mediaType||n.mediaType===Vo){var r,i=t.nativeOrtbRequest;i&&(null!==(r=(i=Wu({},n.nativeRequest,i)).assets)&&void 0!==r&&r.length?e.native=_t({},{request:JSON.stringify(i),ver:i.ver},e.native):Ce("mediaTypes.native is set, but no assets were specified. Native request skipped.",t))}}},cd[Qu].native={fn:function(e,t){if(e.mediaType===Vo){var n;if(!Pe(n="string"==typeof t.adm?JSON.parse(t.adm):t.adm)||!Array.isArray(n.assets))throw new Error("ORTB native response contained no assets");e.native={ortb:n}}}},cd[Xu].video={fn:function(e,t,n){if(!n.mediaType||n.mediaType===Go){var r=g(t,"mediaTypes.video");if(!De(r)){var i=Object.fromEntries(Object.entries(r).filter((function(e){var t=Nu(e,1)[0];return Mu.has(t)})));if(r.playerSize){var o=Du(r.playerSize);o.length>1&&Ce("video request specifies more than one playerSize; all but the first will be ignored"),Uu(i,o[0])}var a=qu[r.context];null!=a&&(i.placement=a),e.video=_t(i,e.video)}}}},cd[Qu].video={fn:function(e,t,n){if(e.mediaType===Go){if(g(n.imp,"video.w")&&g(n.imp,"video.h")){var r=[n.imp.video.w,n.imp.video.h];e.playerWidth=r[0],e.playerHeight=r[1]}t.adm&&(e.vastXml=t.adm),t.nurl&&(e.vastUrl=t.nurl)}}};var pd,md=xt((function(){return dd(cd,rd(Yu))}));function vd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var gd,hd=(vd(pd={},$o,"banner"),vd(pd,Vo,"native"),vd(pd,Go,"video"),pd);function bd(){return bd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bd.apply(this,arguments)}function yd(){return yd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yd.apply(this,arguments)}function wd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Id(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return _d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_d(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Cd=(wd(gd={},Ju,{extPrebid:{fn:function(e,t){var n;Et(e,"ext.prebid",_t({auctiontimestamp:t.auctionStart,targeting:{includewinners:!0,includebidderkeys:!1}},null===(n=e.ext)||void 0===n?void 0:n.prebid)),T.getConfig("debug")&&(e.ext.prebid.debug=!0)}},extPrebidChannel:{fn:function(e){var t,n;Et(e,"ext.prebid.channel",bd({name:"pbjs",version:r().version},null===(t=e.ext)||void 0===t||null===(n=t.prebid)||void 0===n?void 0:n.channel))}},extPrebidAliases:{fn:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.am,o=void 0===i?jo:i;if(o.aliasRegistry[t.bidderCode]){var a=o.bidderRegistry[t.bidderCode];a&&a.getSpec().skipPbsAliasing||Et(e,"ext.prebid.aliases.".concat(t.bidderCode),o.aliasRegistry[t.bidderCode])}}}}),wd(gd,Xu,{params:{fn:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.adUnit,o=r.bidderRequests,a=r.index,s=void 0===a?Ba.index:a,c=r.bidderRegistry,u=void 0===c?jo.bidderRegistry:c,d=t.params,l=u[t.bidder];l&&l.getSpec().transformBidParams&&(i=i||s.getAdUnit(t),o=o||[n.bidderRequest],d=l.getSpec().transformBidParams(d,!0,i,o)),d&&Et(e,"ext.prebid.bidder.".concat(t.bidder),d)}},adUnitCode:{fn:function(e,t){var n=t.adUnitCode;n&&Et(e,"ext.prebid.adunitcode",n)}}}),wd(gd,Qu,{mediaType:{fn:function(e,t,n){var r,i,o=n.mediaType;o||(o=Lu.hasOwnProperty(t.mtype)?Lu[t.mtype]:null===(r=t.ext)||void 0===r||null===(i=r.prebid)||void 0===i?void 0:i.type,hd.hasOwnProperty(o)||(o=$o)),e.mediaType=o},priority:99},videoCache:{fn:function(e,t){if(e.mediaType===Go){var n=g(t,"ext.prebid.cache.vastXml")||{},r=n.cacheId,i=n.url;if(!r||!i){var o=g(t,"ext.prebid.targeting")||{},a=o.hb_uuid,s=o.hb_cache_host,c=o.hb_cache_path;a&&s&&c&&(r=a,i="https://".concat(s).concat(c,"?uuid=").concat(a))}r&&i&&yd(e,{videoCacheKey:r,vastUrl:i})}},priority:-10},bidderCode:{fn:function(e,t,n){var r;e.bidderCode=n.seatbid.seat,e.adapterCode=g(t,"ext.prebid.meta.adaptercode")||(null===(r=n.bidRequest)||void 0===r?void 0:r.bidder)||e.bidderCode}},pbsBidId:{fn:function(e,t){var n=g(t,"ext.prebid.bidid");je(n)&&(e.pbsBidId=n)}},adserverTargeting:{fn:function(e,t){var n=g(t,"ext.prebid.targeting");Pe(n)&&(e.adserverTargeting=n)}},extPrebidMeta:{fn:function(e,t){e.meta=_t({},g(t,"ext.prebid.meta"),e.meta)}},pbsWurl:{fn:function(e,t){var n=g(t,"ext.prebid.events.win");je(n)&&(e.pbsWurl=n)}}}),wd(gd,Ku,{serverSideStats:{fn:function(e,t,n){Object.entries({errors:"serverErrors",responsetimemillis:"serverResponseTimeMs"}).forEach((function(e){var r=Id(e,2),i=r[0],o=r[1],a=g(t,"ext.".concat(i,".").concat(n.bidderRequest.bidderCode));a&&(n.bidderRequest[o]=a,n.bidRequests.forEach((function(e){return e[o]=a})))}))}}}),gd),Sd=xt((function(){return dd(md(),Cd,rd(Zu))}));function xd(e){return function(e){if(Array.isArray(e))return Ad(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Ad(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ad(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ad(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ed=["user.keywords"].concat(hc.flatMap((function(e){return["keywords","content.keywords"].map((function(t){return"".concat(e,".").concat(t)}))})));function Td(){for(var e=new Set,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.filter((function(e){return e})).flatMap((function(e){return Array.isArray(e)?e:e.split(",")})).map((function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")})).filter((function(e){return e})).forEach((function(t){return e.add(t)})),Array.from(e.keys())}function Od(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Td.apply(void 0,xd(Ed.map((function(t){return g(e,t)}))).concat(n))}function kd(e){return function(e){if(Array.isArray(e))return Dd(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Bd(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jd(Object(n),!0).forEach((function(t){zd(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pd(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||Bd(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bd(e,t){if(e){if("string"==typeof e)return Dd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Dd(e,t):void 0}}function Dd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ud="https://video-outstream.rubiconproject.com/apex-2.2.1.js",Nd=T.getConfig("rubicon")||{};T.getConfig("rubicon",(function(e){_t(Nd,e.rubicon)}));var Fd={1:"468x60",2:"728x90",5:"120x90",7:"125x125",8:"120x600",9:"160x600",10:"300x600",13:"200x200",14:"250x250",15:"300x250",16:"336x280",17:"240x400",19:"300x100",31:"980x120",32:"250x360",33:"180x500",35:"980x150",37:"468x400",38:"930x180",39:"750x100",40:"750x200",41:"750x300",42:"2x4",43:"320x50",44:"300x50",48:"300x300",53:"1024x768",54:"300x1050",55:"970x90",57:"970x250",58:"1000x90",59:"320x80",60:"320x150",61:"1000x1000",64:"580x500",65:"640x480",66:"930x600",67:"320x480",68:"1800x1000",72:"320x320",73:"320x160",78:"980x240",79:"980x300",80:"980x400",83:"480x300",85:"300x120",90:"548x150",94:"970x310",95:"970x100",96:"970x210",101:"480x320",102:"768x1024",103:"480x280",105:"250x800",108:"320x240",113:"1000x300",117:"320x100",125:"800x250",126:"200x600",144:"980x600",145:"980x150",152:"1000x250",156:"640x320",159:"320x250",179:"250x600",195:"600x300",198:"640x360",199:"640x200",213:"1030x590",214:"980x360",221:"1x1",229:"320x180",230:"2000x1400",232:"580x400",234:"6x6",251:"2x2",256:"480x820",257:"400x600",258:"500x200",259:"998x200",261:"480x480",264:"970x1000",265:"1920x1080",274:"1800x200",278:"320x500",282:"320x400",288:"640x380",484:"720x1280",524:"1x2",548:"500x1000",550:"980x480",552:"300x200",558:"640x640",562:"300x431",564:"320x431",566:"320x300",568:"300x150",570:"300x125",572:"250x350",574:"620x891",576:"610x877",578:"980x552",580:"505x656",622:"192x160",632:"1200x450",634:"340x450"};Ne(Fd,(function(e,t){return Fd[e]=t}));var Md=fd({request:function(e,t,n,i){var o,a,s=i.bidRequests,c=e(t,n,i);c.cur=["USD"],c.test=T.getConfig("debug")?1:0,Et(c,"ext.prebid.cache",{vastxml:{returnCreative:!0===Nd.returnVast}}),Et(c,"ext.prebid.bidders",{rubicon:{integration:Nd.int_type||"pbjs"}}),Et(c,"ext.prebid.targeting.pricegranularity",function(e){return{ranges:{low:[{max:5,increment:.5}],medium:[{max:20,increment:.1}],high:[{max:20,increment:.01}],auto:[{max:5,increment:.05},{min:5,max:10,increment:.1},{min:10,max:20,increment:.5}],dense:[{max:3,increment:.01},{min:3,max:8,increment:.05},{min:8,max:20,increment:.5}],custom:e.getConfig("customPriceBucket")&&e.getConfig("customPriceBucket").buckets}[e.getConfig("priceGranularity")]}}(T));var u=r().installedModules;return!u||u.length&&-1===u.indexOf("rubiconAnalyticsAdapter")||Et(c,"ext.prebid.analytics",{rubicon:{"client-analytics":!0}}),function(e,t,n){var r,i,o={},a=Od.apply(void 0,[n].concat(kd(t.map((function(e){return e.params.keywords})))));t.forEach((function(t){var n,r,i,a,s,c={user:{ext:{data:Rd({},t.params.visitor)}},site:{ext:{data:Rd({},t.params.inventory)}}},u=e.imp.find((function(e){var t,n,r,i,o;return null===(t=e.ext)||void 0===t||null===(n=t.prebid)||void 0===n||null===(r=n.bidder)||void 0===r||null===(i=r.rubicon)||void 0===i||null===(o=i.video)||void 0===o?void 0:o.language}));u&&(c.site.content={language:null===(n=u.ext)||void 0===n||null===(r=n.prebid)||void 0===r||null===(i=r.bidder)||void 0===i||null===(a=i.rubicon)||void 0===a||null===(s=a.video)||void 0===s?void 0:s.language}),o=_t(o,t.ortb2||{},c);var d=T.getConfig("user.id");o.user.id=o.user.id||d})),_t(e,o),a&&a.length&&Et(e,"site.keywords",a.join(",")),null==e||null===(r=e.ext)||void 0===r||null===(i=r.prebid)||void 0===i||delete i.storedrequest}(c,s,n.ortb2),null==c||null===(o=c.ext)||void 0===o||null===(a=o.prebid)||void 0===a||delete a.storedrequest,!0===Nd.disableFloors&&delete c.ext.prebid.floors,s.filter((function(e){return"object"==typeof e.floorData})).length>0&&(c.ext.prebid.floors={enabled:!1}),c},imp:function(e,t,n){var r,i,o=$d(t);if(!o.includes($o)||1!=o.length){var a=e(t,n);return a.id=t.adUnitCode,delete a.banner,T.getConfig("s2sConfig.defaultTtl")&&(a.exp=T.getConfig("s2sConfig.defaultTtl")),"atf"===t.params.position&&a.video&&(a.video.pos=1),"btf"===t.params.position&&a.video&&(a.video.pos=3),null===(r=a.ext)||void 0===r||null===(i=r.prebid)||void 0===i||delete i.storedrequest,!0===t.params.bidonmultiformat&&o.length>1&&Et(a,"ext.prebid.bidder.rubicon.formats",o),function(e,t){if("USD"!=t.bidfloorcur&&(delete t.bidfloor,delete t.bidfloorcur),!t.bidfloor){var n=parseFloat(g(e,"params.floor"));isNaN(n)||(t.bidfloor=n,t.bidfloorcur="USD")}}(t,a),a}},bidResponse:function(e,t,n){var r,i=e(t,n);i.meta.mediaType=g(t,"ext.prebid.type");var o=n.bidRequest,a=Pd("outstream"===(null===(r=o.mediaTypes.video)||void 0===r?void 0:r.context)?Hd(o,Go):[void 0,void 0],2),s=a[0],c=a[1];return i.width=t.w||s||i.playerWidth,i.height=t.h||c||i.playerHeight,i.mediaType===Go&&"outstream"===o.mediaTypes.video.context&&(i.renderer=function(e){var t=mn.install({id:e.adId,url:Nd.rendererUrl||Ud,config:Nd.rendererConfig||{},loaded:!1,adUnitCode:e.adUnitCode});try{t.setRender(Wd)}catch(e){Ce("Prebid Error calling setRender on renderer",e)}return t}(i)),g(t,"ext.bidder.rp.advid")&&Et(i,"meta.advertiserId",t.ext.bidder.rp.advid),i},context:{netRevenue:!1!==Nd.netRevenue,ttl:300},processors:Sd}),qd={code:"rubicon",gvlid:52,supportedMediaTypes:[$o,Go,Vo],isBidRequestValid:function(e){var t=!0;if("object"!=typeof e.params)return!1;for(var n=0,r=["accountId","siteId","zoneId"];n<r.length;n++)if(e.params[r[n]]=parseInt(e.params[r[n]]),isNaN(e.params[r[n]]))return Se("Rubicon: wrong format of accountId or siteId or zoneId."),!1;var i=$d(e,!0);if(!i.length)return!1;i.includes(Go)&&(t=function(e){var t=!0,n=Object.prototype.toString.call([]),r=Object.prototype.toString.call(0),i={mimes:n,protocols:n,linearity:r};return Object.keys(i).forEach((function(n){Object.prototype.toString.call(g(e,"mediaTypes.video."+n))!==i[n]&&(t=!1,Se("Rubicon: mediaTypes.video."+n+" is required and must be of type: "+i[n]))})),t}(e));var o=[$o,Vo].filter((function(e){return i.includes(e)})).length>0;return o?t&&o:t},buildRequests:function(e,t){var n,r=[],i=[];if(n=e.filter((function(e){var t=$d(e)||[],n=t.length,r=e.params||{},i=r.bidonmultiformat,o=r.video;return 1===n&&(t.includes(Go)||t.includes(Vo))||2===n&&!t.includes($o)||o&&t.includes(Go)||i&&(t.includes(Go)||t.includes(Vo))})),n&&n.length){var o=Md.toORTB({bidRequests:n,bidderRequest:t});i.push({method:"POST",url:"https://".concat(Nd.videoHost||"prebid-server",".rubiconproject.com/openrtb2/auction"),data:o,bidRequest:n})}var a=e.filter((function(e){var t=$d(e)||[],n=e.params||{},r=n.bidonmultiformat,i=n.video;return t.includes($o)&&(1===t.length||r||!r&&!i||!r&&i&&!t.includes(Go))}));if(!0!==Nd.singleRequest)r=i.concat(a.map((function(e){var n=qd.createSlotParams(e,t);return{method:"GET",url:"https://".concat(Nd.bannerHost||"fastlane",".rubiconproject.com/a/api/fastlane.json"),data:qd.getOrderedParams(n).reduce((function(e,t){var r=n[t];return je(r)&&""!==r||ze(r)?"".concat(e).concat(Xd(t,r),"&"):e}),"")+"slots=1&rand=".concat(Math.random()),bidRequest:e}})));else{var s=a.reduce((function(e,t){return(e[t.params.siteId]=e[t.params.siteId]||[]).push(t),e}),{});r=i.concat(Object.keys(s).reduce((function(e,n){var r,i;return(r=s[n],i=10,r.map((function(e,t){return t%i==0?r.slice(t,t+i):null})).filter((function(e){return e}))).forEach((function(n){var r=qd.combineSlotUrlParams(n.map((function(e){return qd.createSlotParams(e,t)})));e.push({method:"GET",url:"https://".concat(Nd.bannerHost||"fastlane",".rubiconproject.com/a/api/fastlane.json"),data:qd.getOrderedParams(r).reduce((function(e,t){var n=r[t];return je(n)&&""!==n||ze(n)?"".concat(e).concat(Xd(t,n),"&"):e}),"")+"slots=".concat(n.length,"&rand=").concat(Math.random()),bidRequest:n})})),e}),[]))}return r},getOrderedParams:function(e){var t=/^tg_v/,n=/^tg_i/,r=/^eid_|^tpid_/,i=["account_id","site_id","zone_id","size_id","alt_size_ids","p_pos","gdpr","gdpr_consent","us_privacy","gpp","gpp_sid","rp_schain"].concat(Object.keys(e).filter((function(e){return r.test(e)}))).concat(["x_liverampidl","ppuid","rf","p_geo.latitude","p_geo.longitude","kw"]).concat(Object.keys(e).filter((function(e){return t.test(e)}))).concat(Object.keys(e).filter((function(e){return n.test(e)}))).concat(["tk_flint","x_source.tid","l_pb_bid_id","p_screen_res","o_ae","o_cdep","rp_floor","rp_secure","tk_user_key"]);return i.concat(Object.keys(e).filter((function(e){return-1===i.indexOf(e)})))},combineSlotUrlParams:function(e){if(1===e.length)return e[0];var t=e.reduce((function(t,n,r){return Object.keys(n).forEach((function(i){t.hasOwnProperty(i)||(t[i]=new Array(e.length)),t[i].splice(r,1,n[i])})),t}),{}),n=new RegExp("^([^;]*)(;\\1)+$");return Object.keys(t).forEach((function(e){var r=t[e].join(";"),i=r.match(n);t[e]=i?i[1]:r})),t},createSlotParams:function(e,t){var n,r,i,o,s,c,u,d,l,f;e.startTime=(new Date).getTime();var p=e.params,m=Hd(e,"banner"),v=Pd(p.latLong||[],2),h=v[0],b=v[1],y={account_id:p.accountId,site_id:p.siteId,zone_id:p.zoneId,size_id:m[0],alt_size_ids:m.slice(1).join(",")||void 0,rp_floor:(p.floor=parseFloat(p.floor))>=.01?p.floor:void 0,rp_secure:"1",tk_flint:"".concat(Nd.int_type||"pbjs_lite","_v8.33.0"),"x_source.tid":null===(n=t.ortb2)||void 0===n||null===(r=n.source)||void 0===r?void 0:r.tid,"x_imp.ext.tid":null===(i=e.ortb2Imp)||void 0===i||null===(o=i.ext)||void 0===o?void 0:o.tid,l_pb_bid_id:e.bidId,o_cdep:null===(s=e.ortb2)||void 0===s||null===(c=s.device)||void 0===c||null===(u=c.ext)||void 0===u?void 0:u.cdep,p_screen_res:[window.screen.width,window.screen.height].join("x"),tk_user_key:p.userId,"p_geo.latitude":isNaN(parseFloat(h))?void 0:parseFloat(h).toFixed(4),"p_geo.longitude":isNaN(parseFloat(b))?void 0:parseFloat(b).toFixed(4),"tg_fl.eid":e.code,rf:Ld(e,t)};if("function"==typeof e.getFloor&&!Nd.disableFloors){var w;try{w=e.getFloor({currency:"USD",mediaType:"banner",size:"*"})}catch(e){Se("Rubicon: getFloor threw an error: ",e)}y.rp_hard_floor="object"!=typeof w||"USD"!==w.currency||isNaN(parseInt(w.floor))?void 0:w.floor}!0===p.bidonmultiformat&&g(e,"mediaTypes")&&Object.keys(e.mediaTypes).length>1&&(y.p_formats=Object.keys(e.mediaTypes).join(","));var I={1:"atf",3:"btf"}[g(e,"mediaTypes.banner.pos")]||"";y.p_pos="atf"===p.position||"btf"===p.position?p.position:I;var _,C,S=T.getConfig("user.id");return S&&(y.ppuid=S),null!=e&&null!==(d=e.ortb2Imp)&&void 0!==d&&null!==(l=d.ext)&&void 0!==l&&l.ae&&(y.o_ae=1),e.userIdAsEids&&e.userIdAsEids.forEach((function(e){try{if("adserver.org"===e.source)y.tpid_tdid=e.uids[0].id,y["eid_adserver.org"]=e.uids[0].id;else if("liveintent.com"===e.source)y["tpid_liveintent.com"]=e.uids[0].id,y["eid_liveintent.com"]=e.uids[0].id,e.ext&&Array.isArray(e.ext.segments)&&e.ext.segments.length&&(y["tg_v.LIseg"]=e.ext.segments.join(","));else if("liveramp.com"===e.source)y.x_liverampidl=e.uids[0].id;else if("id5-sync.com"===e.source)y["eid_id5-sync.com"]="".concat(e.uids[0].id,"^").concat(e.uids[0].atype,"^").concat(e.uids[0].ext&&e.uids[0].ext.linkType||"");else{var t="rubiconproject.com"===e.source?e.uids[0].id:"".concat(e.uids[0].id,"^").concat(e.uids[0].atype||"");y["eid_".concat(e.source)]=t}if(!y.ppuid){var n=a(e.uids,(function(e){return e.ext&&"ppuid"===e.ext.stype}));n&&n.id&&(y.ppuid=n.id)}}catch(t){Ce("Rubicon: error reading eid:",e,t)}})),t.gdprConsent&&("boolean"==typeof t.gdprConsent.gdprApplies&&(y.gdpr=Number(t.gdprConsent.gdprApplies)),y.gdpr_consent=t.gdprConsent.consentString),t.uspConsent&&(y.us_privacy=encodeURIComponent(t.uspConsent)),null!==(f=t.gppConsent)&&void 0!==f&&f.gppString&&(y.gpp=t.gppConsent.gppString,y.gpp_sid=null===(_=t.gppConsent)||void 0===_||null===(C=_.applicableSections)||void 0===C?void 0:C.toString()),y.rp_maxbids=t.bidLimit||1,function(e,t,n){var r={user:{ext:{data:Rd({},e.params.visitor)}},site:{ext:{data:Rd({},e.params.inventory)}}};e.params.keywords&&(r.site.keywords=Re(e.params.keywords)?e.params.keywords.join(","):e.params.keywords);var i=_t({},e.ortb2||{},r),o=g(e.ortb2Imp,"ext")||{},a=g(e.ortb2Imp,"ext.data")||{},s=g(e,"ortb2Imp.ext.gpid"),c={user:[4],site:[1,2,5,6]},u={user:"tg_v.",site:"tg_i.",adserver:"tg_i.dfp_ad_unit_code",pbadslot:"tg_i.pbadslot",keywords:"kw"},d=function(e,t,n){return"data"===t&&Array.isArray(e)?e.filter((function(e){return e.segment&&g(e,"ext.segtax")&&c[n]&&-1!==c[n].indexOf(g(e,"ext.segtax"))})).map((function(e){var t=e.segment.filter((function(e){return e.id})).reduce((function(e,t){return e.push(t.id),e}),[]);if(t.length>0)return t.toString()})).toString():"object"==typeof e&&!Array.isArray(e)||void 0===e?void 0:Array.isArray(e)?e.filter((function(e){if("object"!=typeof e&&void 0!==e)return e.toString();Ce("Rubicon: Filtered value: ",e,"for key",t,": Expected value to be string, integer, or an array of strings/ints")})).toString():e.toString()},l=function(e,t,r){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=d(e,r,t),a=u[r]&&i?"".concat(u[r]):"data"===r?"".concat(u[t],"iab"):"".concat(u[t]).concat(r);n[a]=n[a]?n[a].concat(",",o):o};if(t===$o){["site","user"].forEach((function(e){Object.keys(i[e]).forEach((function(t){"site"===e&&"content"===t&&i[e][t].data?l(i[e][t].data,e,"data"):"ext"!==t?l(i[e][t],e,t):i[e][t].data&&Object.keys(i[e].ext.data).forEach((function(t){l(i[e].ext.data[t],e,t,!1)}))}))})),Object.keys(a).forEach((function(e){"adserver"!==e?l(a[e],"site",e):"gam"===a[e].name&&l(a[e].adslot,name,e)})),s&&(n.p_gpid=s),n["tg_i.pbadslot"]&&delete n["tg_i.dfp_ad_unit_code"];var f=g(i,"device.sua");f&&!1!==Nd.chEnabled&&vt(f,["architecture",function(e){return n.m_ch_arch=e},"bitness",function(e){return n.m_ch_bitness=e},"browsers",function(e){var t,r;if(Array.isArray(e)){var i=Pd(e.reduce((function(e,t){var n,r,i;return e[0].push('"'.concat(null==t?void 0:t.brand,'"|v="').concat(null==t||null===(n=t.version)||void 0===n?void 0:n[0],'"')),e[1].push('"'.concat(null==t?void 0:t.brand,'"|v="').concat(null==t||null===(r=t.version)||void 0===r||null===(i=r.join)||void 0===i?void 0:i.call(r,"."),'"')),e}),[[],[]]),2),o=i[0],a=i[1];n.m_ch_ua=null==o||null===(t=o.join)||void 0===t?void 0:t.call(o,","),n.m_ch_full_ver=null==a||null===(r=a.join)||void 0===r?void 0:r.call(a,",")}},"mobile",function(e){return n.m_ch_mobile="?".concat(e)},"model",function(e){return n.m_ch_model=e},"platform",function(e){var t,r;n.m_ch_platform=null==e?void 0:e.brand,n.m_ch_platform_ver=null==e||null===(t=e.version)||void 0===t||null===(r=t.join)||void 0===r?void 0:r.call(t,".")}])}else Object.keys(o).length&&_t(n.imp[0].ext,o),s&&(n.imp[0].ext.gpid=s),_t(n,i)}(e,$o,y),!0===T.getConfig("coppa")&&(y.coppa=1),e.schain&&Jd(e.schain)&&(y.rp_schain=qd.serializeSupplyChain(e.schain)),y},serializeSupplyChain:function(e){if(!Jd(e))return"";var t=e.ver,n=e.complete,r=e.nodes;return"".concat(t,",").concat(n,"!").concat(qd.serializeSupplyChainNodes(r))},serializeSupplyChainNodes:function(e){var t=["asi","sid","hp","rid","name","domain"];return e.map((function(e){return t.map((function(t){return encodeURIComponent(e[t]||"")})).join(",")})).join("!")},interpretResponse:function(e,t){var n;e=e.body;var r=t.data;if(!e||"object"!=typeof e)return[];if(e.seatbid){var i=g(e,"ext.errors.rubicon");return Array.isArray(i)&&i.length>0&&Ce("Rubicon: Error in video response"),Md.fromORTB({request:r,response:e}).bids}var o,a=e.ads,s=0,c=t.bidRequest;if("object"==typeof c&&!Array.isArray(c)&&$d(c).includes(Go)&&"object"==typeof a&&(a=a[c.adUnitCode]),!Array.isArray(a)||a.length<1)return[];var u=a.reduce((function(t,n,r){if(n.impression_id&&o===n.impression_id?s++:o=n.impression_id,"ok"!==n.status)return t;var i=Array.isArray(c)?c[r-s]:c;if(i&&"object"==typeof i){var a={requestId:i.bidId,currency:"USD",creativeId:n.creative_id||"".concat(n.network||"","-").concat(n.advertiser||""),cpm:n.cpm||0,dealId:n.deal,ttl:300,netRevenue:!1!==Nd.netRevenue,rubicon:{advertiserId:n.advertiser,networkId:n.network},meta:{advertiserId:n.advertiser,networkId:n.network,mediaType:$o}};if(n.creative_type&&(a.mediaType=n.creative_type),n.adomain&&(a.meta.advertiserDomains=Array.isArray(n.adomain)?n.adomain:[n.adomain]),n.creative_type===Go)a.width=i.params.video.playerWidth,a.height=i.params.video.playerHeight,a.vastUrl=n.creative_depot_url,a.impression_id=n.impression_id,a.videoCacheKey=n.impression_id;else{a.ad=function(e,t){return"<html>\n<head><script type='text/javascript'>inDapIF=true;<\/script></head>\n<body style='margin : 0; padding: 0;'>\n\x3c!-- Rubicon Project Ad Tag --\x3e\n<div data-rp-impression-id='".concat(t,"'>\n<script type='text/javascript'>").concat(e,"<\/script>\n</div>\n</body>\n</html>")}(n.script,n.impression_id);var u=Pd(Fd[n.size_id].split("x").map((function(e){return Number(e)})),2);a.width=u[0],a.height=u[1]}a.rubiconTargeting=(Array.isArray(n.targeting)?n.targeting:[]).reduce((function(e,t){return e[t.key]=t.values[0],e}),{rpfl_elemid:i.adUnitCode}),t.push(a)}else Se("Rubicon: bidRequest undefined at index position:".concat(r),c,e);return t}),[]).sort((function(e,t){return(t.cpm||0)-(e.cpm||0)})),d=null===(n=e.component_auction_config)||void 0===n?void 0:n.map((function(e){return{config:e,bidId:e.bidId}}));return d?{bids:u,fledgeAuctionConfigs:d}:u},getUserSyncs:function(e,t,n,r,i){if(!Qd&&e.iframeEnabled){var o,a={};return n&&("boolean"==typeof n.gdprApplies&&(a.gdpr=Number(n.gdprApplies)),"string"==typeof n.consentString&&(a.gdpr_consent=n.consentString)),r&&(a.us_privacy=encodeURIComponent(r)),null!=i&&i.gppString&&(a.gpp=i.gppString,a.gpp_sid=null===(o=i.applicableSections)||void 0===o?void 0:o.toString()),a=Object.keys(a).length?"?".concat(bt(a)):"",Qd=!0,{type:"iframe",url:"https://".concat(Nd.syncHost||"eus",".rubiconproject.com/usync.html")+a}}}};function Ld(e,t){var n;return n=e.params.referrer?e.params.referrer:t.refererInfo.page,e.params.secure?n.replace(/^http:/i,"https:"):n}function Wd(e){var t,n=document.getElementById(e.adUnitCode);(t=n.querySelector("div[id^='google_ads']"))&&t.style.setProperty("display","none"),function(e){var t=e.querySelector("script[id^='sas_script']"),n=t&&t.nextSibling;n&&"iframe"===n.localName&&n.style.setProperty("display","none")}(n);var r=e.renderer.getConfig();e.renderer.push((function(){window.MagniteApex.renderAd({width:e.width,height:e.height,vastUrl:e.vastUrl,placement:{attachTo:n,align:r.align||"center",position:r.position||"append"},closeButton:r.closeButton||!1,label:r.label||void 0,collapse:r.collapse||!0})}))}function Hd(e,t){var n=e.params;if(t===Go){var r=[];return n.video&&n.video.playerWidth&&n.video.playerHeight?r=[n.video.playerWidth,n.video.playerHeight]:Array.isArray(g(e,"mediaTypes.video.playerSize"))&&1===e.mediaTypes.video.playerSize.length?r=e.mediaTypes.video.playerSize[0]:Array.isArray(e.sizes)&&e.sizes.length>0&&Array.isArray(e.sizes[0])&&e.sizes[0].length>1&&(r=e.sizes[0]),r}var i=[];return Array.isArray(n.sizes)?i=n.sizes:void 0!==g(e,"mediaTypes.banner.sizes")?i=Vd(e.mediaTypes.banner.sizes):Array.isArray(e.sizes)&&e.sizes.length>0?i=Vd(e.sizes):Ce("Rubicon: no sizes are setup or found"),function(e){var t=[15,2,9];return e.sort((function(e,n){var r=t.indexOf(e),i=t.indexOf(n);return r>-1||i>-1?-1===r?1:-1===i?-1:r-i:e-n}))}(i)}function Vd(e){return me(e).reduce((function(e,t){var n=parseInt(Fd[t],10);return n&&e.push(n),e}),[])}function Gd(e){var t=void 0!==g(e,"mediaTypes.".concat(Go)),n=void 0!==g(e,"mediaTypes.".concat($o)),r=void 0!==g(e,"params.bidonmultiformat"),i="object"!=typeof g(e,"params.video");return!(!t||!r)||(n&&i&&(t=!1),t&&i&&Et(e,"params.video",{}),t)}function $d(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[];if(Gd(e)){if(-1===["outstream","instream"].indexOf(g(e,"mediaTypes.".concat(Go,".context"))))return t&&Se("Rubicon: mediaTypes.video.context must be outstream or instream"),n;if(Hd(e,Go).length<2)return t&&Se("Rubicon: could not determine the playerSize of the video"),n;t&&Ie("Rubicon: making video request for adUnit",e.adUnitCode),n.push(Go)}if(void 0!==g(e,"mediaTypes.".concat(Vo))&&n.push(Vo),void 0!==g(e,"mediaTypes.".concat($o))){if(0===Hd(e,$o).length)return t&&Se("Rubicon: could not determine the sizes for banner request"),n;t&&Ie("Rubicon: making banner request for adUnit",e.adUnitCode),n.push($o)}return n}function Jd(e){var t=!1,n=["asi","sid","hp"];return e.nodes?((t=e.nodes.reduce((function(e,t){return e?n.every((function(e){return t.hasOwnProperty(e)})):e}),!0))||Se("Rubicon: required schain params missing"),t):t}function Xd(e,t){return"rp_schain"===e?"rp_schain=".concat(t):"".concat(e,"=").concat(encodeURIComponent(t))}var Qd=!1;function Kd(e,t){return Object.keys(e).forEach((function(n){var r,i;t[n]&&(ke(e[n])?t[n]=e[n](t[n]):t[n]=(r=e[n],i=t[n],"string"===r?i&&i.toString():"number"===r?Number(i):i),isNaN(t[n])&&delete t.key)})),t}function Yd(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||tl(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zd(){return Zd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zd.apply(this,arguments)}function el(e){return function(e){if(Array.isArray(e))return nl(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||tl(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tl(e,t){if(e){if("string"==typeof e)return nl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nl(e,t):void 0}}function nl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function rl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function il(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rl(Object(n),!0).forEach((function(t){ol(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ol(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Fr(qd),i("rubiconBidAdapter");var al="pubmatic",sl="PubMatic: ",cl="USD",ul=void 0,dl="https://pubmatic.bbvms.com/r/".concat("$RENDERER",".js"),ll={kadpageurl:"",gender:"",yob:"",lat:"",lon:"",wiid:"",profId:"",verId:""},fl="number",pl="string",ml="boolean",vl="array",gl={mimes:vl,minduration:fl,maxduration:fl,startdelay:fl,playbackmethod:vl,api:vl,protocols:vl,w:fl,h:fl,battr:vl,linearity:fl,placement:fl,plcmt:fl,minbitrate:fl,maxbitrate:fl,skip:fl},hl=1,bl=3,yl={1:"PMP",5:"PREF",6:"PMPG"},wl={bootstrapPlayer:function(e){var t={code:e.adUnitCode};if(e.vastXml?t.vastXml=e.vastXml:e.vastUrl&&(t.vastUrl=e.vastUrl),e.vastXml||e.vastUrl){for(var n,r=wl.getRendererId("pubmatic",e.rendererCode),i=document.getElementById(e.adUnitCode),o=0;o<window.bluebillywig.renderers.length;o++)if(window.bluebillywig.renderers[o]._id===r){n=window.bluebillywig.renderers[o];break}n?n.bootstrap(t,i):Ce("".concat(sl,": Couldn't find a renderer with ").concat(r))}else Ce("".concat(sl,": No vastXml or vastUrl on bid, bailing..."))},newRenderer:function(e,t){var n=dl.replace("$RENDERER",e),r=mn.install({url:n,loaded:!1,adUnitCode:t});try{r.setRender(wl.outstreamRender)}catch(e){Ce("".concat(sl,": Error tying to setRender on renderer"),e)}return r},outstreamRender:function(e){e.renderer.push((function(){wl.bootstrapPlayer(e)}))},getRendererId:function(e,t){return"".concat(e,"-").concat(t)}},Il=[$o,Go,Vo],_l=0,Cl=!1,Sl=["pubmatic"],xl=["all"];function Al(e,t){if(!je(t))return t&&Ce("PubMatic: Ignoring param key: "+e+", expects string-value, found "+typeof t),ul;switch(e){case"pmzoneid":return t.split(",").slice(0,50).map((function(e){return e.trim()})).join();case"kadfloor":case"lat":case"lon":return parseFloat(t)||ul;case"yob":return parseInt(t)||ul;default:return t}}function El(e){var t;e.params.adUnit="",e.params.adUnitIndex="0",e.params.width=0,e.params.height=0,e.params.adSlot=je(t=e.params.adSlot)?t.replace(/^\s+/g,"").replace(/\s+$/g,""):(t&&Ce("pubmatic: adSlot must be a string. Ignoring adSlot"),"");var n=e.params.adSlot,r=n.split(":");if(n=r[0],2==r.length&&(e.params.adUnitIndex=r[1]),r=n.split("@"),e.params.adUnit=r[0],r.length>1){if(2!=(r=r[1].split("x")).length)return void Ce("PubMatic: AdSlot Error: adSlot not in required format");e.params.width=parseInt(r[0],10),e.params.height=parseInt(r[1],10)}else if(e.hasOwnProperty("mediaTypes")&&e.mediaTypes.hasOwnProperty($o)&&e.mediaTypes.banner.hasOwnProperty("sizes")){for(var i=0,o=[];i<e.mediaTypes.banner.sizes.length;i++)2===e.mediaTypes.banner.sizes[i].length&&o.push(e.mediaTypes.banner.sizes[i]);e.mediaTypes.banner.sizes=o,e.mediaTypes.banner.sizes.length>=1&&(e.params.width=e.mediaTypes.banner.sizes[0][0],e.params.height=e.mediaTypes.banner.sizes[0][1],e.mediaTypes.banner.sizes=e.mediaTypes.banner.sizes.splice(1,e.mediaTypes.banner.sizes.length-1))}}function Tl(e,t,n){var r,i="Ignoring param key: "+e+", expects "+n+", found "+typeof t;switch(n){case ml:r=Be;break;case fl:r=ze;break;case pl:r=je;break;case vl:r=Re}return r(t)?t:(Ce(sl+i),ul)}var Ol={desc:"desc",desc2:"desc2",body:"desc",body2:"desc2",sponsoredBy:"sponsored",cta:"ctatext",rating:"rating",address:"address",downloads:"downloads",likes:"likes",phone:"phone",price:"price",salePrice:"saleprice",displayUrl:"displayurl",saleprice:"saleprice",displayurl:"displayurl"},kl=h.oF,jl=h.zA,Rl=h.FY,zl=h.s$,Pl=Object.values(Ol);function Bl(e){var t;if(e.ortb){e=e.ortb,t=il(il({ver:"1.2"},e),{},{assets:[]});var n=e.assets,r=function(e){return e.title||e.img||e.data||e.video};if(n.length<1||!n.some((function(e){return r(e)})))return Ce("".concat(sl,": Native assets object is empty or contains some invalid object")),Cl=!0,t;n.forEach((function(e){var n=e;n.img&&(n.img.type==bl?(n.w=n.w||n.width||(n.sizes?n.sizes[0]:ul),n.h=n.h||n.height||(n.sizes?n.sizes[1]:ul),n.wmin=n.wmin||n.minimumWidth||(n.minsizes?n.minsizes[0]:ul),n.hmin=n.hmin||n.minimumHeight||(n.minsizes?n.minsizes[1]:ul)):n.img.type==hl&&(n.w=n.w||n.width||(n.sizes?n.sizes[0]:ul),n.h=n.h||n.height||(n.sizes?n.sizes[1]:ul))),n&&void 0!==n.id&&r(n)&&t.assets.push(n)}))}else t=function(e){if(!e&&!Pe(e))return Ce("".concat(sl,": Native assets object is empty or not an object: ").concat(e)),void(Cl=!0);var t={ver:"1.2",assets:[]};for(var n in e)if(!jl.includes(n))if(Rl.hasOwnProperty(n)||Pl.includes(n)){var r=e[n],i=0;r.required&&Be(r.required)&&(i=Number(r.required));var o={id:t.assets.length,required:i};if(n in Ol)o.data={type:zl[Ol[n]]},(r.len||r.length)&&(o.data.len=r.len||r.length),r.ext&&(o.data.ext=r.ext);else if("icon"===n||"image"===n){if(o.img={type:"icon"===n?kl.ICON:kl.MAIN},r.aspect_ratios)if(Re(r.aspect_ratios))if(r.aspect_ratios.length){var a=r.aspect_ratios[0],s=a.min_width,c=a.min_height;pt(s)&&pt(c)?(o.img.wmin=s,o.img.hmin=c):Ce("".concat(sl,": image.aspect_ratios min_width or min_height are invalid: ").concat(s,", ").concat(c));var u=r.aspect_ratios.filter((function(e){return e.ratio_width&&e.ratio_height})).map((function(e){return"".concat(e.ratio_width,":").concat(e.ratio_height)}));u.length>0&&(o.img.ext={aspectratios:u})}else Ce("".concat(sl,": image.aspect_ratios was passed, but it's empty: ").concat(r.aspect_ratios));else Ce("".concat(sl,": image.aspect_ratios was passed, but it's not a an array: ").concat(r.aspect_ratios));o.img.w=r.w||r.width,o.img.h=r.h||r.height,o.img.wmin=r.wmin||r.minimumWidth||(r.minsizes?r.minsizes[0]:ul),o.img.hmin=r.hmin||r.minimumHeight||(r.minsizes?r.minsizes[1]:ul),r.sizes&&(2===r.sizes.length&&pt(r.sizes[0])&&pt(r.sizes[1])?(_e("".concat(sl,": if asset.sizes exist, by OpenRTB spec we should remove wmin and hmin")),o.img.w=r.sizes[0],o.img.h=r.sizes[1],delete o.img.hmin,delete o.img.wmin):Ce("".concat(sl,": image.sizes was passed, but its value is not an array of integers: ").concat(r.sizes))),r.ext&&(o.img.ext=r.ext),r.mimes&&(o.img.mimes=r.mimes)}else"title"===n?(o.title={len:r.len||r.length||140},r.ext&&(o.title.ext=r.ext)):"ext"===n&&(o.ext=r,delete o.required);t.assets.push(o)}else Ce("".concat(sl,": Unrecognized native asset code: ").concat(n,". Asset will be ignored."));return t.assets.length<1?(Ce("".concat(sl,": Could not find any valid asset")),void(Cl=!0)):t}(e);return t}function Dl(e){var t,n=e.mediaTypes.banner.sizes,r=[];if(n!==ul&&Re(n)){if(t={},e.params.width||e.params.height)t.w=e.params.width,t.h=e.params.height;else{if(0===n.length)return t=ul,Ce("PubMatic: Error: mediaTypes.banner.size missing for adunit: "+e.params.adUnit+". Ignoring the banner impression in the adunit."),t;t.w=parseInt(n[0][0],10),t.h=parseInt(n[0][1],10),n=n.splice(1,n.length-1)}n.length>0&&(r=[],n.forEach((function(e){e.length>1&&r.push({w:e[0],h:e[1]})})),r.length>0&&(t.format=r)),t.pos=0,t.topframe=et()?0:1}else Ce("PubMatic: Error: mediaTypes.banner.size missing for adunit: "+e.params.adUnit+". Ignoring the banner impression in the adunit."),t=ul;return t}function Ul(e){var t,n=_t(g(e.mediaTypes,"video"),e.params.video);if(n!==ul){for(var r in t={},function(e,t){g(e,"placement")||Ce("Video.Placement param missing for "+t)}(n,e.adUnitCode),gl)n.hasOwnProperty(r)&&(t[r]=Tl(r,n[r],gl[r]));Re(e.mediaTypes.video.playerSize[0])?(t.w=parseInt(e.mediaTypes.video.playerSize[0][0],10),t.h=parseInt(e.mediaTypes.video.playerSize[0][1],10)):ze(e.mediaTypes.video.playerSize[0])&&(t.w=parseInt(e.mediaTypes.video.playerSize[0],10),t.h=parseInt(e.mediaTypes.video.playerSize[1],10))}else t=ul,Ce("PubMatic: Error: Video config params missing for adunit: "+e.params.adUnit+" with mediaType set as video. Ignoring video impression in the adunit.");return t}function Nl(e,t){var n,r,i={},o={},a=e.hasOwnProperty("sizes")?e.sizes:[],s="",c=[],u=null==t?void 0:t.fledgeEnabled;if(function(e,t){t.params.deals&&(Re(t.params.deals)?t.params.deals.forEach((function(t){je(t)&&t.length>3?(e.pmp||(e.pmp={private_auction:0,deals:[]}),e.pmp.deals.push({id:t})):Ce("PubMatic: Error: deal-id present in array bid.params.deals should be a strings with more than 3 charaters length, deal-id ignored: "+t)})):Ce("PubMatic: Error: bid.params.deals should be an array of strings."))}(i={id:e.bidId,tagid:e.params.adUnit||void 0,bidfloor:Al("kadfloor",e.params.kadfloor),secure:1,ext:{pmZoneId:Al("pmzoneid",e.params.pmzoneid)},bidfloorcur:e.params.currency?Al("currency",e.params.currency):cl},e),function(e,t){var n,r="";if(t.params.dctr)if(je(r=t.params.dctr)&&r.length>0){var i=r.split("|");r="",i.forEach((function(e){r+=e.length>0?e.trim()+"|":""})),n=r.length,"|"===r.substring(n,n-1)&&(r=r.substring(0,n-1)),e.ext.key_val=r.trim()}else Ce("PubMatic: Ignoring param : dctr with value : "+r+", expects string-value, found empty or non-string value")}(i,e),function(e,t){var n=t.rtd&&t.rtd.jwplayer&&t.rtd.jwplayer.targeting||void 0,r="";if(void 0!==n&&""!==n&&n.hasOwnProperty("segments")){var i,o=n.segments.length;r+="jw-id="+n.content.id;for(var a=0;a<o;a++)r+="|jw-"+n.segments[a]+"=1";(i=e.ext)&&void 0===i.key_val?i.key_val=r:i.key_val+="|"+r}}(i,e),e.hasOwnProperty("mediaTypes"))for(s in e.mediaTypes)switch(s){case $o:(n=Dl(e))!==ul&&(i.banner=n);break;case Vo:o.request=JSON.stringify(Bl(e.nativeParams)),Cl?(Ce("PubMatic: Error: Error in Native adunit "+e.params.adUnit+". Ignoring the adunit. Refer to http://prebid.org/dev-docs/show-native-ads.html for more details."),Cl=!1):i.native=o;break;case Go:(r=Ul(e))!==ul&&(i.video=r)}else n={pos:0,w:e.params.width,h:e.params.height,topframe:et()?0:1},Re(a)&&a.length>1&&((a=a.splice(1,a.length-1)).forEach((function(e){c.push({w:e[0],h:e[1]})})),n.format=c),i.banner=n;return function(e,t){var n=il({},g(t,"ortb2Imp.ext.data"));Object.keys(n).forEach((function(t){"pbadslot"===t?"string"==typeof n[t]&&n[t]&&Et(e,"ext.data.pbadslot",n[t]):"adserver"===t?["name","adslot"].forEach((function(t){var r=g(n,"adserver.".concat(t));"string"==typeof r&&r&&(Et(e,"ext.data.adserver.".concat(t.toLowerCase()),r),"adslot"===t&&Et(e,"ext.dfp_ad_unit_code",r))})):Et(e,"ext.data.".concat(t),n[t])}));var r=g(t,"ortb2Imp.ext.gpid");r&&Et(e,"ext.gpid",r)}(i,e),function(e,t){var n=-1;"function"!=typeof t.getFloor||T.getConfig("pubmatic.disableFloors")||[$o,Go,Vo].forEach((function(r){if(e.hasOwnProperty(r)){var i=[];"banner"===r&&(e[r].w&&e[r].h&&i.push([e[r].w,e[r].h]),Re(e[r].format)&&e[r].format.forEach((function(e){return i.push([e.w,e.h])}))),0===i.length&&i.push("*"),i.forEach((function(i){var o=t.getFloor({currency:e.bidfloorcur,mediaType:r,size:i});if(_e(sl,"floor from floor module returned for mediatype:",r," and size:",i," is: currency",o.currency,"floor",o.floor),"object"==typeof o&&o.currency===e.bidfloorcur&&!isNaN(parseInt(o.floor))){var a=parseFloat(o.floor);_e(sl,"floor from floor module:",a,"previous floor value",n,"Min:",Math.min(a,n)),n=-1===n?a:Math.min(a,n),_e(sl,"new floor value:",n)}}))}})),e.bidfloor&&(_e(sl,"floor from floor module:",n,"impObj.bidfloor",e.bidfloor,"Max:",Math.max(n,e.bidfloor)),n=Math.max(n,e.bidfloor)),e.bidfloor=!isNaN(n)&&n>0?n:ul,_e(sl,"new impObj.bidfloor value:",e.bidfloor)}(i,e),function(e,t,n){var r,i,o;n?(e.ext=e.ext||{},void 0!==(null==t||null===(r=t.ortb2Imp)||void 0===r||null===(i=r.ext)||void 0===i?void 0:i.ae)&&(e.ext.ae=t.ortb2Imp.ext.ae)):null!==(o=e.ext)&&void 0!==o&&o.ae&&delete e.ext.ae}(i,e,u),i.hasOwnProperty($o)||i.hasOwnProperty(Vo)||i.hasOwnProperty(Go)?i:ul}function Fl(e,t){(t=t.filter((function(e){return"string"==typeof e||(Ce("PubMatic: acat: Each category should be a string, ignoring category: "+e),!1)})).map((function(e){return e.trim()})).filter((function(e,t,n){return n.indexOf(e)===t}))).length>0&&(Ce("PubMatic: acat: Selected: ",t),e.ext.acat=t)}function Ml(e){return!0===Re(e)&&e.length>0}var ql={code:al,gvlid:76,supportedMediaTypes:[$o,Go,Vo],isBidRequestValid:function(e){if(e&&e.params){if(!je(e.params.publisherId))return Ce("PubMatic: Error: publisherId is mandatory and cannot be numeric (wrap it in quotes in your config). Call to OpenBid will not be sent for ad unit: "+JSON.stringify(e)),!1;if(e.hasOwnProperty("mediaTypes")&&e.mediaTypes.hasOwnProperty(Go)){var t=g(e.mediaTypes,"video.mimes"),n=g(e,"params.video.mimes");if(!1===Ml(t)&&!1===Ml(n))return Ce("PubMatic: Error: For video ads, bid.mediaTypes.video.mimes OR bid.params.video.mimes should be present and must be a non-empty array. Call to OpenBid will not be sent for ad unit:"+JSON.stringify(e)),!1;if(!e.mediaTypes[Go].hasOwnProperty("context"))return Se("".concat(sl,": no context specified in bid. Rejecting bid: "),e),!1;if("outstream"===e.mediaTypes[Go].context&&!je(e.params.outstreamAU)&&!e.hasOwnProperty("renderer")&&!e.mediaTypes[Go].hasOwnProperty("renderer"))return e.mediaTypes.hasOwnProperty($o)||e.mediaTypes.hasOwnProperty(Vo)?(delete e.mediaTypes[Go],Ce("".concat(sl,': for "outstream" bids either outstreamAU parameter must be provided or ad unit supplied renderer is required. Rejecting mediatype Video of bid: '),e),!0):(Se("".concat(sl,': for "outstream" bids either outstreamAU parameter must be provided or ad unit supplied renderer is required. Rejecting bid: '),e),!1)}return!0}return!1},buildRequests:function(e,t){var n,r,i,o,a,s,c,u,d,l,f;t&&t.refererInfo&&(f=t.refererInfo);var p,m=function(e){return{pageURL:(null==e?void 0:e.page)||window.location.href,refURL:(null==e?void 0:e.ref)||window.document.referrer}}(f),v=function(e){return{id:""+(new Date).getTime(),at:1,cur:[cl],imp:[],site:{page:e.pageURL,ref:e.refURL,publisher:{}},device:{ua:navigator.userAgent,js:1,dnt:"yes"==navigator.doNotTrack||"1"==navigator.doNotTrack||"1"==navigator.msDoNotTrack?1:0,h:screen.height,w:screen.width,language:navigator.language},user:{},ext:{}}}(m),h="",b=[],y=[],w=[],I=le();if(e.forEach((function(e){var n,r;if(e.params.wiid=e.params.wiid||t.auctionId||I,(p=Ze(e)).params.adSlot=p.params.adSlot||"",El(p),p.mediaTypes&&p.mediaTypes.hasOwnProperty("video")||p.params.hasOwnProperty("video"));else if(!(p.hasOwnProperty("mediaTypes")&&p.mediaTypes.hasOwnProperty(Vo)||0!==p.params.width||0!==p.params.height))return void Ce("PubMatic: Skipping the non-standard adslot: ",p.params.adSlot,JSON.stringify(p));m.pubId=m.pubId||p.params.publisherId,(m=function(e,t){var n,r,i;for(n in t.kadpageurl||(t.kadpageurl=t.pageURL),ll)ll.hasOwnProperty(n)&&(r=e[n])&&("object"==typeof(i=ll[n])&&(r=i.f(r,t)),je(r)?t[n]=r:Ce("PubMatic: Ignoring param : "+n+" with value : "+ll[n]+", expects string-value, found "+typeof r));return t}(p.params,m)).transactionId=null===(n=p.ortb2Imp)||void 0===n||null===(r=n.ext)||void 0===r?void 0:r.tid,""===h?h=p.params.currency||ul:p.params.hasOwnProperty("currency")&&h!==p.params.currency&&Ce("PubMatic: Currency specifier ignored. Only one currency permitted."),p.params.currency=h,p.params.hasOwnProperty("dctr")&&je(p.params.dctr)&&b.push(p.params.dctr),p.params.hasOwnProperty("bcat")&&Re(p.params.bcat)&&(y=y.concat(p.params.bcat)),p.params.hasOwnProperty("acat")&&Re(p.params.acat)&&(w=w.concat(p.params.acat));var i=Nl(p,t);i&&v.imp.push(i)})),0!=v.imp.length){v.site.publisher.id=m.pubId.trim(),_l=m.pubId.trim(),v.ext.wrapper={},v.ext.wrapper.profile=parseInt(m.profId)||ul,v.ext.wrapper.version=parseInt(m.verId)||ul,v.ext.wrapper.wiid=m.wiid||t.auctionId,v.ext.wrapper.wv="prebid_prebid_8.33.0",v.ext.wrapper.transactionId=m.transactionId,v.ext.wrapper.wp="pbjs";var _,C,S=t?_n.get(t.bidderCode,"allowAlternateBidderCodes"):void 0;if(void 0!==S){if(v.ext.marketplace={},t&&1==S){var x=_n.get(t.bidderCode,"allowedAlternateBidderCodes");Re(x)?(x=x.map((function(e){return e.trim().toLowerCase()})).filter((function(e){return!!e})).filter($e),Sl=x.includes("*")?xl:[].concat(el(Sl),el(x))):Sl=xl}v.ext.marketplace.allowedbidders=Sl.filter($e)}v.user.gender=m.gender?m.gender.trim():ul,v.user.geo={},v.user.yob=Al("yob",m.yob),v.site.page=m.kadpageurl.trim()||v.site.page.trim(),v.site.domain=(_=v.site.page,(C=document.createElement("a")).href=_,C.hostname),"object"==typeof T.getConfig("content")&&(v.site.content=T.getConfig("content")),"object"==typeof T.getConfig("device")&&(v.device=Zd(v.device,T.getConfig("device"))),v.device.language=v.device.language&&v.device.language.split("-")[0],Et(v,"source.tid",null==t||null===(n=t.ortb2)||void 0===n||null===(r=n.source)||void 0===r?void 0:r.tid),-1!==window.location.href.indexOf("pubmaticTest=true")&&(v.test=1),e[0].schain&&Et(v,"source.ext.schain",e[0].schain),t&&t.gdprConsent&&(Et(v,"user.ext.consent",t.gdprConsent.consentString),Et(v,"regs.ext.gdpr",t.gdprConsent.gdprApplies?1:0)),t&&t.uspConsent&&Et(v,"regs.ext.us_privacy",t.uspConsent),null!=t&&null!==(i=t.gppConsent)&&void 0!==i&&i.gppString?(Et(v,"regs.gpp",t.gppConsent.gppString),Et(v,"regs.gpp_sid",t.gppConsent.applicableSections)):null!=t&&null!==(o=t.ortb2)&&void 0!==o&&null!==(a=o.regs)&&void 0!==a&&a.gpp&&(Et(v,"regs.gpp",t.ortb2.regs.gpp),Et(v,"regs.gpp_sid",t.ortb2.regs.gpp_sid)),!0===T.getConfig("coppa")&&Et(v,"regs.coppa",1),function(e,t){var n=g(t,"0.userIdAsEids");Re(n)&&n.length>0&&Et(e,"user.eids",n)}(v,e);var A,E,O,k=t&&t.ortb2||{},j=k.user,R=k.device,z=k.site,P=k.bcat,B=k.badv;if(z){var D=v.site,U=D.page,N=D.domain,F=D.ref;_t(v,{site:z}),v.site.page=U,v.site.domain=N,v.site.ref=F}if(j&&_t(v,{user:j}),B&&_t(v,{badv:B}),P&&(y=y.concat(P)),null!=R&&R.sua&&(v.device.sua=null==R?void 0:R.sua),null!=R&&null!==(s=R.ext)&&void 0!==s&&s.cdep&&Et(v,"device.ext.cdep",R.ext.cdep),null!=j&&j.geo&&null!=R&&R.geo?(v.device.geo=il(il({},v.device.geo),R.geo),v.user.geo=il(il({},v.user.geo),j.geo)):(null!=j&&j.geo||null!=R&&R.geo)&&(v.user.geo=v.device.geo=null!=j&&j.geo?il(il({},v.user.geo),j.geo):il(il({},v.user.geo),R.geo)),null!==(c=k.ext)&&void 0!==c&&null!==(u=c.prebid)&&void 0!==u&&null!==(d=u.bidderparams)&&void 0!==d&&null!==(l=d[t.bidderCode])&&void 0!==l&&l.acat){var M=k.ext.prebid.bidderparams[t.bidderCode].acat;Fl(v,M)}else w.length&&Fl(v,w);return function(e,t){(t=t.filter((function(e){return"string"==typeof e||(Ce("PubMatic: bcat: Each category should be a string, ignoring category: "+e),!1)})).map((function(e){return e.trim()})).filter((function(e,t,n){if(e.length>3)return n.indexOf(e)===t;Ce("PubMatic: bcat: Each category should have a value of a length of more than 3 characters, ignoring category: "+e)}))).length>0&&(Ce("PubMatic: bcat: Selected: ",t),e.bcat=t)}(v,y),null!=t&&t.timeout?v.tmax=t.timeout:v.tmax=null===(A=window)||void 0===A||null===(E=A.PWT)||void 0===E||null===(O=E.versionDetails)||void 0===O?void 0:O.timeout,v.ext.epoch=(new Date).getTime(),"object"==typeof T.getConfig("app")&&(v.app=T.getConfig("app"),v.app.publisher=v.site.publisher,v.app.ext=v.site.ext||ul,"object"!=typeof v.app.content&&(v.app.content=v.site.content||ul),delete v.site),{method:"POST",url:"https://hbopenbid.pubmatic.com/translator?source=prebid-client",data:JSON.stringify(v),bidderRequest:t}}},interpretResponse:function(e,t){var n=[],r=cl,i=JSON.parse(t.data),o=i.site&&i.site.ref?i.site.ref:"";try{e.body&&e.body.seatbid&&Re(e.body.seatbid)&&(r=e.body.cur||r,e.body.seatbid.forEach((function(e){e.bid&&Re(e.bid)&&e.bid.forEach((function(a){var s={requestId:a.impid,cpm:parseFloat((a.price||0).toFixed(2)),width:a.w,height:a.h,creativeId:a.crid||a.id,dealId:a.dealid,currency:r,netRevenue:!0,ttl:300,referrer:o,ad:a.adm,pm_seat:e.seat||null,pm_dspid:a.ext&&a.ext.dspid?a.ext.dspid:null,partnerImpId:a.id||""};i.imp&&i.imp.length>0&&i.imp.forEach((function(e){if(a.impid===e.id)switch(function(e,t){if(e.ext&&null!=e.ext.bidtype)t.mediaType=Il[e.ext.bidtype];else{_e("PubMatic: bid.ext.bidtype does not exist, checking alternatively for mediaType");var n=e.adm,r="",i=new RegExp(/VAST\s+version/);if(n.indexOf('span class="PubAPIAd"')>=0)t.mediaType=$o;else if(i.test(n))t.mediaType=Go;else try{(r=JSON.parse(n.replace(/\\/g,"")))&&r.native&&(t.mediaType=Vo)}catch(e){Ce("PubMatic: Error: Cannot parse native reponse for ad response: "+n)}}}(a,s),s.mediaType){case $o:break;case Go:s.width=a.hasOwnProperty("w")?a.w:e.video.w,s.height=a.hasOwnProperty("h")?a.h:e.video.h,s.vastXml=a.adm,function(e,t){var n,r,i;if(t.bidderRequest&&t.bidderRequest.bids){for(var o=0;o<t.bidderRequest.bids.length;o++)t.bidderRequest.bids[o].bidId===e.requestId&&(n=t.bidderRequest.bids[o].params,r=t.bidderRequest.bids[o].mediaTypes[Go].context,i=t.bidderRequest.bids[o].adUnitCode);r&&"outstream"===r&&n&&n.outstreamAU&&i&&(e.rendererCode=n.outstreamAU,e.renderer=wl.newRenderer(e.rendererCode,i))}}(s,t),function(e,t,n){var r,i,o;if(null!=t&&null!==(r=t.ext)&&void 0!==r&&r.prebiddealpriority){var a=g(Xe(e.requestId,[n.bidderRequest]),"mediaTypes.video");if((null==a?void 0:a.context)==Jo){var s=(null==t||null===(i=t.ext)||void 0===i||null===(o=i.video)||void 0===o?void 0:o.duration)||(null==a?void 0:a.maxduration);e.video={context:Jo,durationSeconds:s,dealTier:t.ext.prebiddealpriority}}}}(s,a,t);break;case Vo:!function(e,t){if(e.hasOwnProperty("adm")){var n="";try{n=JSON.parse(e.adm.replace(/\\/g,""))}catch(e){return void Ce("PubMatic: Error: Cannot parse native reponse for ad response: "+t.adm)}t.native={ortb:il({},n.native)},t.mediaType=Vo,t.width||(t.width=0),t.height||(t.height=0)}}(a,s)}})),a.ext&&a.ext.deal_channel&&(s.dealChannel=yl[a.ext.deal_channel]||null),function(e,t,n){e.meta={},t.ext&&t.ext.dspid&&(e.meta.networkId=t.ext.dspid,e.meta.demandSource=t.ext.dspid),t.ext&&t.ext.dchain&&(e.meta.dchain=t.ext.dchain);var r=n||t.ext&&t.ext.advid;r&&(e.meta.advertiserId=r,e.meta.agencyId=r,e.meta.buyerId=r),t.adomain&&Ml(t.adomain)&&(e.meta.advertiserDomains=t.adomain,e.meta.clickUrl=t.adomain[0],e.meta.brandId=t.adomain[0]),t.cat&&Ml(t.cat)&&(e.meta.secondaryCatIds=t.cat,e.meta.primaryCatId=t.cat[0])}(s,a,e.seat),e.ext&&e.ext.buyid&&(s.adserverTargeting={hb_buyid_pubmatic:e.ext.buyid}),a.ext&&a.ext.marketplace&&(s.bidderCode=a.ext.marketplace),n.push(s)}))})));var a=g(e.body,"ext.fledge_auction_configs");if(a)return a=Object.entries(a).map((function(e){var t=Yd(e,2);return{bidId:t[0],config:Zd({auctionSignals:{}},t[1])}})),{bids:n,fledgeAuctionConfigs:a}}catch(e){Se(e)}return n},getUserSyncs:function(e,t,n,r,i){var o,a,s=""+_l;return n&&(s+="&gdpr="+(n.gdprApplies?1:0),s+="&gdpr_consent="+encodeURIComponent(n.consentString||"")),r&&(s+="&us_privacy="+encodeURIComponent(r)),null!=i&&i.gppString&&null!=i&&null!==(o=i.applicableSections)&&void 0!==o&&o.length&&(s+="&gpp="+encodeURIComponent(i.gppString),s+="&gpp_sid="+encodeURIComponent(null==i||null===(a=i.applicableSections)||void 0===a?void 0:a.join(","))),!0===T.getConfig("coppa")&&(s+="&coppa=1"),e.iframeEnabled?[{type:"iframe",url:"https://ads.pubmatic.com/AdServer/js/user_sync.html?kdntuid=1&p="+s}]:[{type:"image",url:"https://image8.pubmatic.com/AdServer/ImgSync?p="+s}]},transformBidParams:function(e,t,n,r){return Kd({publisherId:"string",adSlot:"string"},e)}};function Ll(e,t){for(var n=[],r=0;r<Math.ceil(e.length/t);r++){var i=r*t,o=i+t;n.push(e.slice(i,o))}return n}function Wl(){return Wl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wl.apply(this,arguments)}function Hl(e){return function(e){if(Array.isArray(e))return Vl(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Vl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vl(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Fr(ql),i("pubmaticBidAdapter");var Gl="prebid",$l="vidazoo",Jl="1.0.0",Xl=9e5,Ql=36e5,Kl="vidSid",Yl="vdzwopt",Zl="wsid_"+parseInt(Date.now()*Math.random()),ef=Uo({bidderCode:$l});function tf(){try{return yt(window.top.document.URL,{decodeSearchAsString:!0}).search}catch(e){return""}}function nf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gl;return"https://".concat(e,".cootlogix.com")}function rf(e){return e.cId||e.CID||e.cID||e.CId||e.cid||e.ciD||e.Cid||e.CiD}function of(e){return e.pId||e.PID||e.pID||e.PId||e.pid||e.piD||e.Pid||e.PiD}function af(e){return e.subDomain||e.SubDomain||e.Subdomain||e.subdomain||e.SUBDOMAIN||e.subDOMAIN}function sf(e,t,n,r,i){var o,a,s,c=e.params,u=e.bidId,d=e.userId,l=e.adUnitCode,f=e.schain,p=e.mediaTypes,m=e.ortb2Imp,v=e.bidderRequestId,h=e.bidRequestsCount,b=e.bidderRequestsCount,y=e.bidderWinsCount,w=c.ext,I=c.bidFloor,_=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_",n=e.length,r=0,i=0;if(n>0)for(;i<n;)r=(r<<5)-r+e.charCodeAt(i++)|0;return t+r}(t),C=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Xl;try{var n,r=uf(e),i=0;r&&r.value&&Date.now()-r.created<t&&(i=r.value,n=r.created);var o=i+1;return df(e,o,n),o}catch(e){return 0}}(_),S=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ql,r="u_".concat(e),i=Date.now(),o=uf(r);return!o||!o.value||i-o.created>n?df(r,t="".concat(e,"_").concat(i.toString())):t=o.value,t}(_),x=uf(Kl)||"",A=of(c),E=function(){var e=ef.getDataFromLocalStorage(Yl);return e||(e=String(Date.now()),ef.setDataInLocalStorage(Yl,e)),e}(),T=_n.get($l,"storageAllowed"),O=g(e,"ortb2Imp.ext.gpid",g(e,"ortb2Imp.ext.data.pbadslot","")),k=g(r,"ortb2.site.cat",[]),j=g(r,"ortb2.site.pagecat",[]);if(ke(e.getFloor)){var R=e.getFloor({currency:"USD",mediaType:"*",size:"*"});"USD"===R.currency&&(I=R.floor)}var z,P,B={url:encodeURIComponent(t),uqs:tf(),cb:Date.now(),bidFloor:I,bidId:u,referrer:r.refererInfo.ref,adUnitCode:l,publisherId:A,sessionId:x,sizes:n,dealId:C,uniqueDealId:S,bidderVersion:Jl,prebidVersion:"8.33.0",res:"".concat(screen.width,"x").concat(screen.height),schain:f,mediaTypes:p,ptrace:E,isStorageAllowed:T,gpid:O,cat:k,pagecat:j,transactionId:null==m||null===(o=m.ext)||void 0===o?void 0:o.tid,bidderRequestId:v,bidRequestsCount:h,bidderRequestsCount:b,bidderWinsCount:y,bidderTimeout:i,webSessionId:Zl};z=B,Ne(d,(function(e,t){switch(P="uid.".concat(t),t){case"digitrustid":z[P]=g(e,"data.id");break;case"lipb":z[P]=e.lipbid;break;case"parrableId":z[P]=e.eid;break;case"id5id":z[P]=e.uid;break;default:z[P]=e}}));var D=g(r,"ortb2.device.sua");return D&&(B.sua=D),r.gdprConsent&&(r.gdprConsent.consentString&&(B.gdprConsent=r.gdprConsent.consentString),void 0!==r.gdprConsent.gdprApplies&&(B.gdpr=r.gdprConsent.gdprApplies?1:0)),r.uspConsent&&(B.usPrivacy=r.uspConsent),r.gppConsent?(B.gppString=r.gppConsent.gppString,B.gppSid=r.gppConsent.applicableSections):null!==(a=r.ortb2)&&void 0!==a&&null!==(s=a.regs)&&void 0!==s&&s.gpp&&(B.gppString=r.ortb2.regs.gpp,B.gppSid=r.ortb2.regs.gpp_sid),Ne(w,(function(e,t){B["ext."+t]=e})),B}function cf(e,t,n,r,i){var o=e.params,a=rf(o),s=af(o),c=sf(e,t,n,r,i);return{method:"POST",url:"".concat(nf(s),"/prebid/multi/").concat(a),data:c}}function uf(e){try{return function(e){try{return JSON.parse(e)}catch(t){return e}}(ef.getDataFromLocalStorage(e))}catch(e){}return null}function df(e,t,n){try{var r=n||Date.now(),i=JSON.stringify({value:t,created:r});ef.setDataInLocalStorage(e,i)}catch(e){}}var lf={code:$l,version:Jl,gvlid:744,supportedMediaTypes:[$o,Go],isBidRequestValid:function(e){var t=e.params||{};return!(!rf(t)||!of(t))},buildRequests:function(e,t){var n=t.refererInfo.page||t.refererInfo.topmostLocation,r=T.getConfig("bidderTimeout"),i=T.getConfig("vidazoo.singleRequest"),o=[];if(i){var a=e.filter((function(e){return Re(e.mediaTypes)?e.mediaTypes.includes($o):void 0!==e.mediaTypes[$o]}));if(a.length>0){var s=function(e,t,n,r){var i=e[0].params,o=rf(i),a=af(i);return Ll(e.map((function(e){var i=me(e.sizes);return sf(e,n,i,t,r)})),Math.min(20,T.getConfig("vidazoo.chunkSize")||10)).map((function(e){return{method:"POST",url:"".concat(nf(a),"/prebid/multi/").concat(o),data:{bids:e}}}))}(a,t,n,r);o.push.apply(o,Hl(s))}e.filter((function(e){return void 0!==e.mediaTypes[Go]})).forEach((function(e){var i=me(e.sizes),a=cf(e,n,i,t,r);o.push(a)}))}else e.forEach((function(e){var i=me(e.sizes),a=cf(e,n,i,t,r);o.push(a)}));return o},interpretResponse:function(e,t){if(!e||!e.body)return[];var n=T.getConfig("vidazoo.singleRequest"),r=g(t,"data.bidId"),i=e.body.results,o=[];try{return i.forEach((function(e,t){var i=e.creativeId,a=e.ad,s=e.price,c=e.exp,u=e.width,d=e.height,l=e.currency,f=e.bidId,p=e.advertiserDomains,m=e.metaData,v=e.mediaType,g=void 0===v?$o:v;if(a&&s){var h={requestId:n&&f?f:r,cpm:s,width:u,height:d,creativeId:i,currency:l||"USD",netRevenue:!0,ttl:c||300};Wl(h,m?{meta:m}:{meta:{advertiserDomains:p||[]}}),Wl(h,g===$o?{ad:a}:{vastXml:a,mediaType:Go}),o.push(h)}})),o}catch(e){return[]}},getUserSyncs:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=[],a=e.iframeEnabled,s=e.pixelEnabled,c=n.gdprApplies,u=n.consentString,d=void 0===u?"":u,l=i.gppString,f=i.applicableSections,p=t.filter((function(e){return g(e,"body.cid")})).map((function(e){return e.body.cid})).filter($e),m="?cid=".concat(encodeURIComponent(p.join(",")),"&gdpr=").concat(c?1:0,"&gdpr_consent=").concat(encodeURIComponent(d||""),"&us_privacy=").concat(encodeURIComponent(r||""));return l&&null!=f&&f.length&&(m+="&gpp="+encodeURIComponent(l),m+="&gpp_sid="+encodeURIComponent(f.join(","))),a&&o.push({type:"iframe",url:"https://sync.cootlogix.com/api/sync/iframe/".concat(m)}),s&&o.push({type:"image",url:"https://sync.cootlogix.com/api/sync/image/".concat(m)}),o}};Fr(lf),i("vidazooBidAdapter");var ff=Uo({moduleType:xn,moduleName:"sharedId"}),pf="cookie",mf="html5",vf="_pubcid_optout",gf="PublisherCommonId";function hf(e,t){if(t===pf)return ff.getCookie(e);if(t===mf&&ff.hasLocalStorage()){var n=ff.getDataFromLocalStorage("".concat(e,"_exp"));if(!n)return ff.getDataFromLocalStorage(e);if(new Date(n).getTime()-Date.now()>0)return ff.getDataFromLocalStorage(e)}}function bf(e,t){return function(n,r){t?yf(t,e,(function(){n(r()||e)}))():n(e)}}function yf(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0;if(e){var r=yt(e);r.search.id=encodeURIComponent("pubcid:"+t);var i=wt(r);return function(){We(i,n)}}}function wf(){return!!(ff.cookiesAreEnabled()&&hf(vf,pf)||ff.hasLocalStorage()&&hf(vf,mf))}var If={name:"sharedId",aliasName:"pubCommonId",gvlid:hi,decode:function(e,t){if(!wf())return _e(" Decoded value PubCommonId "+e),{pubcid:e};_e("PubCommonId decode: Has opted-out")},getId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>2?arguments[2]:void 0;if(wf())_e("PubCommonId: Has opted-out");else{var n=Di.getCoppa();if(!n){var r=e.params,i=(r=void 0===r?{}:r).create,o=void 0===i||i,a=r.pixelUrl,s=t;if(!s){try{"object"==typeof window[gf]&&(s=window[gf].getId())}catch(e){}s||(s=o&&it()?le():void 0)}return{id:s,callback:bf(s,a)}}_e("PubCommonId: IDs not provided for coppa requests, exiting PubCommonId")}},extendId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>2?arguments[2]:void 0;if(wf())return _e("PubCommonId: Has opted-out"),{id:void 0};var n=Di.getCoppa();if(n)_e("PubCommonId: IDs not provided for coppa requests, exiting PubCommonId");else{var r=e.params,i=(r=void 0===r?{}:r).extend,o=void 0!==i&&i,a=r.pixelUrl;if(o){if(a){var s=yf(a,t);return{callback:s}}return{id:t}}}},domainOverride:function(e,t){return function(){for(var n,r,i=document.domain.split("."),o="_gd".concat(Date.now(),"_").concat(t),a=0;a<i.length;a++){var s=i.slice(a).join(".");if(e.setCookie(o,"1",void 0,void 0,s),r=e.getCookie(o),e.setCookie(o,"","Thu, 01 Jan 1970 00:00:01 GMT",void 0,s),"1"!==r)return n;n=s}}}(ff,"sharedId"),eids:{pubcid:{source:"pubcid.org",atype:1}}};Dn("userId",If),i("sharedIdSystem");var _f="publinkId",Cf=Uo({moduleType:xn,moduleName:_f});function Sf(e){return/^[A-F0-9]+$/i.test(e)}function xf(e,t,n){var r=yt("https://proc.ad.cpe.dotomi.com/cvx/client/sync/publink/refresh");r.search={mpn:"Prebid.js",mpv:"8.33.0"},t&&(r.search.gdpr=t.gdprApplies?1:0,r.search.gdpr_consent=t.consentString),e&&(e.e&&(r.search.deh=e.e,r.pathname="/cvx/client/sync/publink"),e.site_id&&(r.search.sid=e.site_id),e.api_key&&(r.search.apikey=e.api_key)),n&&(r.search.publink=n);var i=Pi.getConsentData();return i&&"string"==typeof i&&(r.search.us_privacy=i),wt(r)}function Af(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return function(r){e.params&&e.params.e&&Sf(e.params.e)||n?on(xf(e.params,t,n),(function(e,t){if(200===t.status){var n=JSON.parse(e);n&&r(n.publink)}}),void 0,{method:"GET",withCredentials:!0}):e.params.e&&Se("params.e must be a hex string")}}var Ef={name:_f,gvlid:24,decode:function(e){return{publinkId:e}},getId:function(e,t,n){var r=function(){var e;function t(e){var t;if(Cf.hasLocalStorage()&&(t=Cf.getDataFromLocalStorage(e)),t||(t=Cf.getCookie(e)),"string"==typeof t){if("{"!==t.charAt(0))return t;try{var n=JSON.parse(t);if(n)return n.publink}catch(e){Se(e)}}}return(e=t("_publink_srv"))||(e=t("_publink")),e}();return r?{id:r}:{callback:Af(e,t,n)}},eids:{publinkId:{source:"epsilon.com",atype:3}}};function Tf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Of(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tf(Object(n),!0).forEach((function(t){kf(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function kf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Rf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Rf(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zf(){return zf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zf.apply(this,arguments)}Dn("userId",Ef),i("publinkIdSystem");var Pf={code:"openx",gvlid:69,supportedMediaTypes:[$o,Go],isBidRequestValid:function(e){var t=e.params.delDomain||e.params.platform;return g(e,"mediaTypes.banner")&&t?!!e.params.unit||g(e,"mediaTypes.banner.sizes.length")>0:!(!e.params.unit||!t)},buildRequests:function(e,t){var n=e.filter((function(e){return Uf(e)})),r=e.filter((function(e){return function(e){return g(e,"mediaTypes.banner")||!Uf(e)}(e)})),i=r.length?[Df(r,t,$o)]:[];return n.forEach((function(e){i.push(Df([e],t,Go))})),i},interpretResponse:function(e,t){return e.body||(e.body={nbr:0}),Bf.fromORTB({request:t.data,response:e.body})},getUserSyncs:function(e,t,n,r){if(e.iframeEnabled||e.pixelEnabled){var i=e.iframeEnabled?"iframe":"image",o=[],a="https://u.openx.net/w/1.0/pd";if(n&&(o.push("gdpr="+(n.gdprApplies?1:0)),o.push("gdpr_consent="+encodeURIComponent(n.consentString||""))),r&&o.push("us_privacy="+encodeURIComponent(r)),t.length>0&&t[0].body&&t[0].body.ext){var s=t[0].body.ext;s.delDomain?a="https://".concat(s.delDomain,"/w/1.0/pd"):s.platform&&o.push("ph="+s.platform)}else o.push("ph=2d1251ae-7f3a-47cf-bd2a-2f288854a0ba");return[{type:i,url:"".concat(a).concat(o.length>0?"?"+o.join("&"):"")}]}},transformBidParams:function(e,t){return Kd({unit:"string",customFloor:"number"},e)}};Fr(Pf);var Bf=fd({context:{netRevenue:!0,ttl:300},imp:function(e,t,n){var r=e(t,n);return _t(r,{tagid:t.params.unit,ext:{divid:t.adUnitCode}}),t.params.customParams&&Et(r,"ext.customParams",t.params.customParams),t.params.customFloor&&!r.bidfloor&&(r.bidfloor=t.params.customFloor),r},request:function(e,t,n,r){var i=e(t,n,r);_t(i,{at:1,ext:{bc:"".concat("hb_pb_ortb","_").concat("2.0"),pv:"8.33.0"}});var o=r.bidRequests[0];return o.params.coppa&&Et(i,"regs.coppa",1),o.params.doNotTrack&&Et(i,"device.dnt",1),o.params.platform&&Et(i,"ext.platform",o.params.platform),o.params.delDomain&&Et(i,"ext.delDomain",o.params.delDomain),o.params.response_template_name&&Et(i,"ext.response_template_name",o.params.response_template_name),o.params.test&&(i.test=1),i},bidResponse:function(e,t,n){var r=e(t,n);t.ext&&(r.meta.networkId=t.ext.dsp_id,r.meta.advertiserId=t.ext.buyer_id,r.meta.brandId=t.ext.brand_id);var i=n.ortbResponse;return i.ext&&i.ext.paf&&(r.meta.paf=zf({},i.ext.paf),r.meta.paf.content_id=g(t,"ext.paf.content_id")),r},response:function(e,t,n,r){var i=r.ortbRequest;i.ext&&(i.ext.delDomain&&Et(n,"ext.delDomain",i.ext.delDomain),i.ext.platform&&Et(n,"ext.platform",i.ext.platform));var o=e(t,n,r),a=g(n,"ext.fledge_auction_configs");return a?(a=Object.entries(a).map((function(e){var t=jf(e,2);return{bidId:t[0],config:zf({auctionSignals:{}},t[1])}})),{bids:o.bids,fledgeAuctionConfigs:a}):o.bids},overrides:{imp:{bidfloor:function(e,t,n,r){var i={};e(i,n,Of(Of({},r),{},{currency:"USD"})),"USD"===i.bidfloorcur&&zf(t,i)},video:function(e,t,n,r){var i,o=n.mediaTypes[Go];o&&(o=zf({},o,n.params.video),n=Of(Of({},n),{},{mediaTypes:kf({},Go,o)})),e(t,n,r),t.video&&"outstream"===(null===(i=o)||void 0===i?void 0:i.context)&&(t.video.placement=t.video.placement||4)}}}});function Df(e,t,n){return{method:"POST",url:T.getConfig("openxOrtbUrl")||"https://rtb.openx.net/openrtbb/prebidjs",data:Bf.toORTB({bidRequests:e,bidderRequest:t,context:{mediaType:n}})}}function Uf(e){return g(e,"mediaTypes.video")}function Nf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||qf(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ff(){return Ff=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ff.apply(this,arguments)}function Mf(e){return function(e){if(Array.isArray(e))return Lf(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||qf(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qf(e,t){if(e){if("string"==typeof e)return Lf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Lf(e,t):void 0}}function Lf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Wf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Hf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wf(Object(n),!0).forEach((function(t){Vf(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Vf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}i("openxBidAdapter");var Gf=["pos","context","placement","plcmt","api","mimes","protocols","playbackmethod","minduration","maxduration","startdelay","linearity","skip","skipmin","skipafter","minbitrate","maxbitrate","delivery","playbackend","boxingallowed"],$f=["battr","pos"],Jf=["battr","api"],Xf=["pos"],Qf=["btype","battr","pos","api"],Kf={1:"iframe",2:"image"},Yf=[{name:"title",assetType:"title"},{name:"icon",assetType:"img",type:1},{name:"image",assetType:"img",type:3},{name:"body",assetType:"data",type:2},{name:"body2",assetType:"data",type:10},{name:"sponsoredBy",assetType:"data",type:1},{name:"phone",assetType:"data",type:8},{name:"address",assetType:"data",type:9},{name:"price",assetType:"data",type:6},{name:"salePrice",assetType:"data",type:7},{name:"cta",assetType:"data",type:12},{name:"rating",assetType:"data",type:3},{name:"downloads",assetType:"data",type:5},{name:"likes",assetType:"data",type:4},{name:"displayUrl",assetType:"data",type:11}],Zf=Yf.reduce((function(e,t,n){return e[t.name]=Hf({id:n},t),e}),{}),ep="__mf",tp="b__mf",np="v__mf",rp="n__mf",ip={code:"adkernel",gvlid:14,aliases:[{code:"headbidding"},{code:"adsolut"},{code:"oftmediahb"},{code:"audiencemedia"},{code:"waardex_ak"},{code:"roqoon"},{code:"adbite"},{code:"houseofpubs"},{code:"torchad"},{code:"stringads"},{code:"bcm"},{code:"engageadx"},{code:"converge",gvlid:248},{code:"adomega"},{code:"denakop"},{code:"rtbanalytica"},{code:"unibots"},{code:"ergadx"},{code:"turktelekom"},{code:"felixads"},{code:"motionspots"},{code:"sonic_twist"},{code:"displayioads"},{code:"rtbdemand_com"},{code:"bidbuddy"},{code:"didnadisplay"},{code:"qortex"},{code:"adpluto"},{code:"headbidder"}],supportedMediaTypes:[$o,Go,Vo],isBidRequestValid:function(e){return"params"in e&&void 0!==e.params.host&&"zoneId"in e.params&&!isNaN(Number(e.params.zoneId))&&e.params.zoneId>0&&e.mediaTypes&&(e.mediaTypes.banner||e.mediaTypes.video||e.mediaTypes.native&&lp((t=e.mediaTypes.native).image)&&lp(t.icon)&&!g(t,"privacyLink.required")&&!g(t,"privacyIcon.required"));var t},buildRequests:function(e,t){var n=function(e,t){var n,r=t&&0===(null===(n=t.page)||void 0===n?void 0:n.indexOf("https:"));return Object.values(e.map((function(e){return function(e,t){var n={id:e.bidId,tagid:e.adUnitCode};t&&(n.secure=1);var r,i=[],o=e.mediaTypes,a=~~!(null==o||!o.banner)+~~!(null==o||!o.video)+~~!(null==o||!o.native)>1,s=[];if(null!=o&&o.banner){a?(r=Hf({},n)).id=n.id+tp:r=n,i=function(e){if(e){var t=[];if(e.mediaTypes&&e.mediaTypes.banner&&Array.isArray(e.mediaTypes.banner.sizes)){var n=e.mediaTypes.banner.sizes;Array.isArray(n[0])?t=n:t.push(n)}else Array.isArray(e.sizes)&&(Array.isArray(e.sizes[0])?t=e.sizes:t.push(e.sizes));return t}}(e);var c=o.banner;r.banner=Hf(Hf(Hf({},ap(e.ortb2Imp,Qf)),ap(c,Xf)),{},{format:i.map((function(e){return ge(e)})),topframe:0}),op(r,e,i,a?"*":$o),s.push(r)}if(null!=o&&o.video){a?(r=Hf({},n)).id=r.id+np:r=n;var u=o.video;r.video=Hf(Hf({},ap(e.ortb2Imp,$f)),ap(u,Gf)),u.playerSize?(i=u.playerSize[0],r.video=Ff(r.video,ge(i)||{})):u.w&&u.h&&(r.video.w=u.w,r.video.h=u.h),op(r,e,i,a?"*":Go),s.push(r)}if(null!=o&&o.native){a?(r=Hf({},n)).id=r.id+rp:r=n;var d=function(e){var t={ver:"1.1",assets:[]};for(var n of Object.keys(e)){var r=e[n],i=Zf[n];if(void 0!==i){var o={id:i.id,required:~~r.required};if("img"===i.assetType)o[i.assetType]=sp(i,r);else if("data"===i.assetType)o.data=mt({type:i.type,len:r.len});else{if("title"!==i.assetType)return;o.title={len:r.len||90}}t.assets.push(o)}}return t}(o.native);r.native=Hf(Hf({},ap(e.ortb2Imp,Jf)),{},{ver:"1.1",request:JSON.stringify(d)}),op(r,e,i,a?"*":Vo),s.push(r)}return s}(e,r)})).reduce((function(t,n,r){var i,o=e[r].params,a=o.zoneId,s=o.host,c="".concat(s,"_").concat(a);return t[c]=t[c]||{host:s,zoneId:a,imps:[]},(i=t[c].imps).push.apply(i,Mf(n)),t}),{}))}(e=ps(e),t.refererInfo),r=[],i=e[0].schain;return Ne(n,(function(e){var n=e.host,o=e.zoneId,a=function(e,t,n){var r=t.ortb2||{},i=_t(function(e,t,n){var r=e.timeout,i={id:e.bidderRequestId,imp:t,at:1,tmax:parseInt(r)};return De(n.bcat)||(i.bcat=n.bcat),De(n.badv)||(i.badv=n.badv),i}(t,e,r),function(e){var t=_t({ip:"caller",ipv6:"caller",ua:"caller",js:1,language:up()},e.device||{});return ut()&&(t.dnt=1),{device:t}}(r),function(e,t){var n=e.refererInfo,r=T.getConfig("app");return De(r)?{site:dp(n,t)}:{app:r}}(t,r),function(e,t){var n=e.gdprConsent,r=t.user||{};n&&void 0!==n.consentString&&Et(r,"ext.consent",n.consentString);var i=function(e){var t=g(e,"bids.0.userIdAsEids");if(Re(t))return t}(e);if(i&&Et(r,"ext.eids",i),!De(r))return{user:r}}(t,r),function(e){var t=e.gdprConsent,n=e.uspConsent,r=e.gppConsent,i={};if(t&&void 0!==t.gdprApplies&&Et(i,"regs.ext.gdpr",~~t.gdprApplies),r&&(Et(i,"regs.gpp",r.gppString),Et(i,"regs.gpp_sid",r.applicableSections)),n&&Et(i,"regs.ext.us_privacy",n),T.getConfig("coppa")&&Et(i,"regs.coppa",1),!De(i))return i}(t),function(e){var t=function(e){if(T.getConfig("userSync.syncEnabled")){var t=T.getConfig("userSync.filterSettings");return cp(t.all,e)||cp(t.iframe,e)?1:cp(t.image,e)?2:void 0}}(e.bidderCode);if(t){var n={};return Et(n,"ext.adk_usersync",t),n}}(t));return n&&Et(i,"source.ext.schain",n),i}(e.imps,t,i);r.push({method:"POST",url:"https://".concat(n,"/hb?zone=").concat(o,"&v=").concat("1.6"),data:JSON.stringify(a)})})),r},interpretResponse:function(e,t){var n=e.body;if(!n.seatbid)return[];var r=JSON.parse(t.data);return n.seatbid.map((function(e){return e.bid})).reduce((function(e,t){return e.concat(t)}),[]).map((function(e){var t,i,o,s,c,u,d,l,f,p,m,v=a(r.imp,(function(t){return t.id===e.impid})),g={requestId:e.impid,cpm:e.price,creativeId:e.crid,currency:n.cur||"USD",ttl:360,netRevenue:!0};return g.requestId.endsWith(ep)&&(g.requestId=(t=g.requestId).substr(0,t.length-ep.length-1)),"banner"in v?(g.mediaType=$o,g.width=e.w,g.height=e.h,g.ad=(m=(p=e).adm,"nurl"in p&&(m+=Ge("".concat(p.nurl,"&px=1"))),m)):"video"in v?(g.mediaType=Go,g.vastUrl=e.nurl,g.width=v.video.w,g.height=v.video.h):"native"in v&&(g.mediaType=Vo,g.native=(i=JSON.parse(e.adm),o=i.native,s=o.assets,c=o.link,u=o.imptrackers,d=o.jstracker,l=o.privacy,f={clickUrl:c.url,impressionTrackers:u,javascriptTrackers:d?[d]:void 0,privacyLink:l},Ne(s,(function(e){var t=Yf[e.id].name,n=Yf[e.id].assetType;f[t]=e[n].text||e[n].value||mt({url:e[n].url,width:e[n].w,height:e[n].h})})),mt(f))),je(e.dealid)&&(g.dealId=e.dealid),Re(e.adomain)&&Et(g,"meta.advertiserDomains",e.adomain),Re(e.cat)&&Et(g,"meta.secondaryCatIds",e.cat),Pe(e.ext)&&(ze(e.ext.advertiser_id)&&Et(g,"meta.advertiserId",e.ext.advertiser_id),je(e.ext.advertiser_name)&&Et(g,"meta.advertiserName",e.ext.advertiser_name),je(e.ext.agency_name)&&Et(g,"meta.agencyName",e.ext.agency_name)),g}))},getUserSyncs:function(e,t){return t&&0!==t.length&&(e.iframeEnabled||e.pixelEnabled)?t.filter((function(e){return e.body&&e.body.ext&&e.body.ext.adk_usersync})).map((function(e){return e.body.ext.adk_usersync})).reduce((function(e,t){return e.concat(t)}),[]).map((function(e){var t=e.url,n=e.type;return{type:Kf[n],url:t}})):[]}};function op(e,t,n,r){var i=function(e,t,n){var r,i=1===n.length?n[0]:"*";if("function"==typeof e.getFloor){var o=e.getFloor({currency:"USD",mediaType:t,size:i});"object"!=typeof o||"USD"!==o.currency||isNaN(parseFloat(o.floor))||(r=parseFloat(o.floor))}return r}(t,r,n);i&&(e.bidfloor=i)}function ap(e,t){return void 0===e?{}:st(e,t)}function sp(e,t){var n={type:e.type};if(t.sizes){var r=Nf(t.sizes,2);n.w=r[0],n.h=r[1]}else t.aspect_ratios&&(n.wmin=t.aspect_ratios[0].min_width,n.hmin=t.aspect_ratios[0].min_height);return mt(n)}function cp(e,t){if(!e)return!1;var n=Re(e.bidders)?e.bidders:[t],r="include"===e.filter;return Fe(n,t)===r}function up(){var e=navigator.language?"language":"userLanguage";return navigator[e].split("-")[0]}function dp(e,t){var n={domain:e.domain,page:e.page};return _t(n,t.site),null!=e.ref?n.ref=e.ref:delete n.ref,n}function lp(e){return!e||(e.sizes?gt(e.sizes,2):!Re(e.aspect_ratios)||e.aspect_ratios.length>0&&e.aspect_ratios[0].min_height&&e.aspect_ratios[0].min_width)}function fp(){return fp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fp.apply(this,arguments)}function pp(e){var t={},n=[];e.forEach((function(e){e.wp&&n.push(e),e.get&&e.paths.forEach((function(n){var r=t;n.split(".").forEach((function(e){r.children=r.children||{},r.children[e]=r.children[e]||{},r=r.children[e]})),r.rule=e}))}));var r=$i(n);function i(e,t,n){return new Proxy(e,{get:function(e,r,o){var a=Reflect.get(e,r,o);if(t.hasOwnProperty(r)){var s=t[r],c=s.children,u=s.rule;if(c&&null!=a&&"object"==typeof a)return i(a,c,n);if(u&&Xi(a)&&n(u))return u.get(a)}return a}})}function o(e){return function(){e.forEach((function(e){return e()}))}}return function(e){for(var n={},a=arguments.length,s=new Array(a>1?a-1:0),c=1;c<a;c++)s[c-1]=arguments[c];return{obj:i(e,t.children||{},Ji.apply(void 0,[n].concat(s))),verify:o(r.apply(void 0,[n,e].concat(s)))}}}function mp(e){return fp({wp:!0,run:function(e,t,n,r,i){var o=n&&n.hasOwnProperty(r),a=o?n[r]:void 0,s=o&&null!=a&&"object"==typeof a?Ze(a):a;return function(){var n=null==t?e:g(e,t),c=n&&Xi(n[r]),u=c?n[r]:void 0;!o&&c&&i()?delete n[r]:o===c&&u===a&&It(u,s)||!i()||Et(e,(null==t?[]:[t]).concat(r).join("."),s)}}},e)}function vp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return gp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gp(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function hp(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yn;return[{name:nr,paths:Hi,applies:Qi(nr,e)},{name:tr,paths:Wi,applies:Qi(tr,e)}].map(mp)}Fr(ip),i("adkernelBidAdapter");var bp=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yn;return pp(Yi(e).concat(hp(e)))}(),yp=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bp;return function(t,n){t.global=t.global||{},t.bidder=t.bidder||{};var r=new Set(Object.keys(t.bidder)),i=[];function o(t){var r=e(t,n);return i.push(r.verify),r.obj}var a={global:o(t.global),bidder:Object.fromEntries(Object.entries(t.bidder).map((function(e){var t=vp(e,2);return[t[0],o(t[1])]})))};return{obj:a,verify:function(){Object.entries(a.bidder).filter((function(e){var t=vp(e,1)[0];return!r.has(t)})).forEach((function(r){var i=vp(r,2),o=i[0],a=i[1],s={},c=e(s,n);_t(c.obj,a),c.verify(),t.bidder[o]=s})),i.forEach((function(e){return e()}))}}}}();function wp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ip(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wp(Object(n),!0).forEach((function(t){xp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _p(){return _p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_p.apply(this,arguments)}function Cp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Sp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Sp(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ap,Ep,Tp,Op=Hn((function(e){return jo.resolveAlias(e)})),kp=[],jp=[],Rp=[],zp=(Tp=!1,function(){var e;Tp||(Object.entries((e={},xp(e,h.FP.AUCTION_INIT,["onAuctionInitEvent"]),xp(e,h.FP.AUCTION_END,["onAuctionEndEvent",Up]),xp(e,h.FP.BID_RESPONSE,["onBidResponseEvent"]),xp(e,h.FP.BID_REQUESTED,["onBidRequestEvent"]),xp(e,h.FP.BID_ACCEPTED,["onBidAcceptedEvent"]),e)).forEach((function(e){var t=Cp(e,2),n=t[0],r=Cp(t[1],2),i=r[0],o=r[1];Lt(n,(function(e){o&&o(e),jp.forEach((function(t){try{t[i]&&t[i](e,t.config,Ep)}catch(e){Se("RTD provider '".concat(t.name,"': error in '").concat(i,"':"),e)}}))}))})),Tp=!0)});function Pp(){return{gdpr:zi.getConsentData(),usp:Pi.getConsentData(),gpp:Bi.getConsentData(),coppa:!!T.getConfig("coppa")}}function Bp(){Ep=Pp();var e=[];Rp.forEach((function(t){var n=a(kp,(function(e){return e.name===t.name}));n&&n.init&&n.init(t,Ep)&&e.push(_p(n,{config:t}))})),_e("Real time data module enabled, using submodules: ".concat((jp=e).map((function(e){return e.name})).join(", ")))}var Dp=jr("rtd",(function(e,t){Ep=Pp();var n=[],r=[];jp.forEach((function(e){if("function"==typeof e.getBidRequestData){n.push(e);var t=e.config;t&&t.waitForIt&&r.push(e)}}));var i,o=r.length&&Ap.auctionDelay&&Ap.auctionDelay>0,a=r.length,s=!1,c=[];if(!n.length)return d();function u(){s||(this.config&&this.config.waitForIt&&a--,0===a&&setTimeout(d,0))}function d(){s||(s=!0,clearTimeout(i),c.forEach((function(e){return e()})),e.call(this,t))}i=setTimeout(d,o?Ap.auctionDelay:0),n.forEach((function(e){var n=yp(t.ortb2Fragments||{},Op("rtd",e.name));c.push(n.verify),e.getBidRequestData(Ip(Ip({},t),{},{ortb2Fragments:n.obj}),u.bind(e),e.config,Ep)}))}));function Up(e){var t,n=jp.filter((function(e){return"function"==typeof e.getTargetingData}));if(n.length){var r=e.adUnitCodes;if(r){for(var i=[],o=n.length-1;o>=0;o--){var a=n[o].getTargetingData(r,n[o].config,Ep,e);a&&"object"==typeof a?i.push(a):Ce("invalid getTargetingData response for sub module",n[o].name)}var s=(t=i,Array.isArray(t)&&t.length?t.reduce((function(e,t){for(var n in t)if(t.hasOwnProperty(n))if(e.hasOwnProperty(n)){var r=t[n];for(var i in r)r.hasOwnProperty(i)&&(e[n][i]=r[i])}else e[n]=t[n];return e}),{}):{});return e.adUnits.forEach((function(e){var t=e.code&&s[e.code];t&&(_e("RTD set ad unit targeting of",t,"for",e),e[h.k2.xn]=_p(e[h.k2.xn]||{},t))})),e.adUnits}}}function Np(e){jp.forEach((function(e){if("function"==typeof e.onDataDeletionRequest)try{e.onDataDeletionRequest(e.config)}catch(t){Se("Error executing ".concat(e.name,".onDataDeletionRequest"),t)}}));for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.apply(this,n)}function Fp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Mp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Mp(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Lp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qp(Object(n),!0).forEach((function(t){Wp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Wp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.postInstallAllowed,i=void 0!==r&&r;Rn("async",(function(n){n.forEach((function(e){return t.apply(void 0,On(e))})),i&&(Bn[e]=t)}),e)([])}("realTimeData",(function(e){return kp.push(e),Ui.register("rtd",e.name,e.gvlid),function(){var t=kp.indexOf(e);t>=0&&(kp.splice(t,1),Bp())}})),function(e){var t=e.getConfig("realTimeData",(function(e){var n=e.realTimeData;n.dataProviders?(t(),Ap=n,Rp=n.dataProviders,zp(),Pn("startAuction").before(Dp,20),jo.callDataDeletionRequest.before(Np),Bp()):Se("missing parameters for real time module")}))}(T),i("rtdModule");var Hp="sharethrough",Vp="https://btlr.sharethrough.com/universal/v1?supply_id=".concat("WYu2BXv1"),Gp={getProtocol:function(){return window.location.protocol}},$p={code:Hp,supportedMediaTypes:[Go,$o],gvlid:80,isBidRequestValid:function(e){return!!e.params.pkey&&e.bidder===Hp},buildRequests:function(e,t){var n,r,i,o,a,s,c,u,d=t.timeout,l=t.ortb2||{},f=Gp.getProtocol().indexOf("http")<0||Gp.getProtocol().indexOf("https")>-1,p={id:le(),at:1,cur:["USD"],tmax:d,site:Lp({domain:g(t,"refererInfo.domain",window.location.hostname),page:g(t,"refererInfo.page",window.location.href),ref:g(t,"refererInfo.ref")},l.site),device:{ua:navigator.userAgent,language:navigator.language,js:1,dnt:"1"===navigator.doNotTrack?1:0,h:window.screen.height,w:window.screen.width,ext:{}},regs:{coppa:!0===T.getConfig("coppa")?1:0,ext:{}},source:{tid:null===(n=t.ortb2)||void 0===n||null===(r=n.source)||void 0===r?void 0:r.tid,ext:{version:"8.33.0",str:"4.3.0",schain:e[0].schain}},bcat:g(t.ortb2,"bcat")||e[0].params.bcat||[],badv:g(t.ortb2,"badv")||e[0].params.badv||[],test:0};if(null!==(i=t.ortb2)&&void 0!==i&&null!==(o=i.device)&&void 0!==o&&null!==(a=o.ext)&&void 0!==a&&a.cdep&&(p.device.ext.cdep=t.ortb2.device.ext.cdep),p.user=Xp(l.user,{}),p.user.ext||(p.user.ext={}),p.user.ext.eids=e[0].userIdAsEids||[],t.gdprConsent){var m=!0===t.gdprConsent.gdprApplies;p.regs.ext.gdpr=m?1:0,m&&(p.user.ext.consent=t.gdprConsent.consentString)}return t.uspConsent&&(p.regs.ext.us_privacy=t.uspConsent),null!=t&&null!==(s=t.gppConsent)&&void 0!==s&&s.gppString?(p.regs.gpp=t.gppConsent.gppString,p.regs.gpp_sid=t.gppConsent.applicableSections):null!=t&&null!==(c=t.ortb2)&&void 0!==c&&null!==(u=c.regs)&&void 0!==u&&u.gpp&&(p.regs.ext.gpp=t.ortb2.regs.gpp,p.regs.ext.gpp_sid=t.ortb2.regs.gpp_sid),e.map((function(e){var t={ext:{}},n=g(e,"ortb2Imp.ext.tid");n&&(t.ext.tid=n);var r=g(e,"ortb2Imp.ext.gpid",g(e,"ortb2Imp.ext.data.pbadslot"));r&&(t.ext.gpid=r);var i,o,a,s,c=g(e,"mediaTypes.video");if(c){var u=640,d=360;if(c.playerSize&&c.playerSize[0]&&c.playerSize[0][0]&&c.playerSize[0][1]){var l=Fp(c.playerSize[0],2);u=l[0],d=l[1]}t.video={pos:Xp(c.pos,0),topframe:et()?0:1,skip:Xp(c.skip,0),linearity:Xp(c.linearity,1),minduration:Xp(c.minduration,5),maxduration:Xp(c.maxduration,60),playbackmethod:c.playbackmethod||[2],api:(a=c,s=a.api,s&&Array.isArray(s)&&s.length>0?s:[2]),mimes:c.mimes||["video/mp4"],protocols:(i=c,o=i.protocols,o&&Array.isArray(o)&&o.length>0?o:[2,3,5,6,7,8]),w:u,h:d,startdelay:Xp(c.startdelay,0),skipmin:Xp(c.skipmin,0),skipafter:Xp(c.skipafter,0),placement:"instream"===c.context?1:+g(c,"placement",4)},c.delivery&&(t.video.delivery=c.delivery),c.companiontype&&(t.video.companiontype=c.companiontype),c.companionad&&(t.video.companionad=c.companionad)}else t.banner={pos:g(e,"mediaTypes.banner.pos",0),topframe:et()?0:1,format:e.sizes.map((function(e){return{w:+e[0],h:+e[1]}}))};return Lp({id:e.bidId,tagid:String(e.params.pkey),secure:f?1:0,bidfloor:Jp(e)},t)})).filter((function(e){return!!e})).map((function(e){return{method:"POST",url:Vp,data:Lp(Lp({},p),{},{imp:[e]})}}))},interpretResponse:function(e,t){var n=e.body;return n&&n.seatbid&&0!==n.seatbid.length&&n.seatbid[0].bid&&0!==n.seatbid[0].bid.length?n.seatbid[0].bid.map((function(e){var r,i,o,a,s,c,u,d,l,f,p,m,v,g={requestId:e.impid,width:+e.w,height:+e.h,cpm:+e.price,creativeId:e.crid,dealId:e.dealid||null,mediaType:t.data.imp[0].video?Go:$o,currency:n.cur||"USD",netRevenue:!0,ttl:360,ad:e.adm,nurl:e.nurl,meta:{advertiserDomains:e.adomain||[],networkId:(null===(r=e.ext)||void 0===r?void 0:r.networkId)||null,networkName:(null===(i=e.ext)||void 0===i?void 0:i.networkName)||null,agencyId:(null===(o=e.ext)||void 0===o?void 0:o.agencyId)||null,agencyName:(null===(a=e.ext)||void 0===a?void 0:a.agencyName)||null,advertiserId:(null===(s=e.ext)||void 0===s?void 0:s.advertiserId)||null,advertiserName:(null===(c=e.ext)||void 0===c?void 0:c.advertiserName)||null,brandId:(null===(u=e.ext)||void 0===u?void 0:u.brandId)||null,brandName:(null===(d=e.ext)||void 0===d?void 0:d.brandName)||null,demandSource:(null===(l=e.ext)||void 0===l?void 0:l.demandSource)||null,dchain:(null===(f=e.ext)||void 0===f?void 0:f.dchain)||null,primaryCatId:(null===(p=e.ext)||void 0===p?void 0:p.primaryCatId)||null,secondaryCatIds:(null===(m=e.ext)||void 0===m?void 0:m.secondaryCatIds)||null,mediaType:(null===(v=e.ext)||void 0===v?void 0:v.mediaType)||null}};return g.mediaType===Go&&(g.ttl=3600,g.vastXml=e.adm),g})):[]},getUserSyncs:function(e,t){return e.pixelEnabled&&void 0!==g(t,"0.body.cookieSyncUrls")?t[0].body.cookieSyncUrls.map((function(e){return{type:"image",url:e}})):[]},onTimeout:function(e){},onBidWon:function(e){},onSetTargeting:function(e){}};function Jp(e){var t=null;if("function"==typeof e.getFloor){var n=e.getFloor({currency:"USD",mediaType:e.mediaTypes&&e.mediaTypes.video?"video":"banner",size:e.sizes.map((function(e){return{w:e[0],h:e[1]}}))});"object"!=typeof n||"USD"!==n.currency||isNaN(parseFloat(n.floor))||(t=parseFloat(n.floor))}return null!==t?t:e.params.floor}function Xp(e,t){return null==e?t:e}function Qp(e){return null==e||!e.gdprApplies||!0===g(e,"vendorData.purpose.consents.1")}Fr($p),i("sharethroughBidAdapter");var Kp={1:"IAB20-3",2:"IAB18-5",3:"IAB10-1",4:"IAB2-3",5:"IAB19-8",6:"IAB22-1",7:"IAB18-1",8:"IAB12-3",9:"IAB5-1",10:"IAB4-5",11:"IAB13-4",12:"IAB8-7",13:"IAB9-7",14:"IAB7-1",15:"IAB20-18",16:"IAB10-7",17:"IAB19-18",18:"IAB13-6",19:"IAB18-4",20:"IAB1-5",21:"IAB1-6",22:"IAB3-4",23:"IAB19-13",24:"IAB22-2",25:"IAB3-9",26:"IAB17-18",27:"IAB19-6",28:"IAB1-7",29:"IAB9-30",30:"IAB20-7",31:"IAB20-17",32:"IAB7-32",33:"IAB16-5",34:"IAB19-34",35:"IAB11-5",36:"IAB12-3",37:"IAB11-4",38:"IAB12-3",39:"IAB9-30",41:"IAB7-44",42:"IAB7-1",43:"IAB7-30",50:"IAB19-30",51:"IAB17-12",52:"IAB19-30",53:"IAB3-1",55:"IAB13-2",56:"IAB19-30",57:"IAB19-30",58:"IAB7-39",59:"IAB22-1",60:"IAB7-39",61:"IAB21-3",62:"IAB5-1",63:"IAB12-3",64:"IAB20-18",65:"IAB11-2",66:"IAB17-18",67:"IAB9-9",68:"IAB9-5",69:"IAB7-44",71:"IAB22-3",73:"IAB19-30",74:"IAB8-5",78:"IAB22-1",85:"IAB12-2",86:"IAB22-3",87:"IAB11-3",112:"IAB7-32",113:"IAB7-32",114:"IAB7-32",115:"IAB7-32",118:"IAB9-5",119:"IAB9-5",120:"IAB9-5",121:"IAB9-5",122:"IAB9-5",123:"IAB9-5",124:"IAB9-5",125:"IAB9-5",126:"IAB9-5",127:"IAB22-1",132:"IAB1-2",133:"IAB19-30",137:"IAB3-9",138:"IAB19-3",140:"IAB2-3",141:"IAB2-1",142:"IAB2-3",143:"IAB17-13",166:"IAB11-4",175:"IAB3-1",176:"IAB13-4",182:"IAB8-9",183:"IAB3-5"};function Yp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||em(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zp(e){return function(e){if(Array.isArray(e))return tm(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||em(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function em(e,t){if(e){if("string"==typeof e)return tm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tm(e,t):void 0}}function tm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var nm={526:"1plusX",527:"1plusX",541:"captify_segments",540:"perid"},rm=["user.data"].concat(hc.map((function(e){return"".concat(e,".content.data")})));function im(e,t,n){return null==t?n:je(t)?t:ze(t)?t.toString():void Ce("Unsuported type for param: "+e+" required type: String")}function om(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"keywords",n=[];return Ne(e,(function(e,r){if(Re(e)){var i=[];Ne(e,(function(e){((e=im(t+"."+r,e))||""===e)&&i.push(e)})),e=i}else{if(!je(e=im(t+"."+r,e)))return;e=[e]}e=e.filter((function(e){return""!==e}));var o={key:r};e.length>0&&(o.value=e),n.push(o)})),n}function am(e){var t={};return e.forEach((function(e){if(-1!==e.indexOf("=")){var n=e.split("="),r=n[0],i=n[1];t.hasOwnProperty(r)?t[r].push(i):t[r]=[i]}else t.hasOwnProperty(e)||(t[e]=[])})),t}function sm(e){return am(Od(e))}function cm(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return om(_t.apply(void 0,Zp(t.map((function(e){return Object.fromEntries(Object.entries(e||{}).map((function(e){var t=Yp(e,2),n=t[0],r=t[1];return[n,ze(r)||je(r)?[r]:r]})))})))))}function um(e){var t={};return rm.forEach((function(n){(g(e,n)||[]).forEach((function(e){var n=nm[g(e,"ext.segtax")];n&&e.segment.forEach((function(e){t[n]?t[n].push(e.id):t[n]=[e.id]}))}))})),t}function dm(e){return e.replace(/(?:^|\.?)([A-Z])/g,(function(e,t){return"_"+t.toLowerCase()})).replace(/^_/,"")}function lm(e,t){for(var n=[],r=0;r<t;r++){var i=Pe(e)?Ze(e):e;n.push(i)}return n}function fm(){return fm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fm.apply(this,arguments)}function pm(e){return function(e){if(Array.isArray(e))return mm(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return mm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mm(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var vm,gm="appnexus",hm="https://ib.adnxs.com/ut/v3/prebid",bm="https://ib.adnxs-simple.com/ut/v3/prebid",ym=["id","minduration","maxduration","skippable","playback_method","frameworks","context","skipoffset"],wm=["minduration","maxduration","skip","skipafter","playbackmethod","api","startdelay"],Im=["age","externalUid","external_uid","segments","gender","dnt","language"],_m=["geo","device_id"],Cm=["enabled","dongle","member_id","debug_timeout"],Sm={apn_debug_dongle:"dongle",apn_debug_member_id:"member_id",apn_debug_timeout:"debug_timeout"},xm={playback_method:{unknown:0,auto_play_sound_on:1,auto_play_sound_off:2,click_to_play:3,mouse_over:4,auto_play_sound_unknown:5},context:{unknown:0,pre_roll:1,mid_roll:2,post_roll:3,outstream:4,"in-banner":5}},Am={body:"description",body2:"desc2",cta:"ctatext",image:{serverName:"main_image",requiredParams:{required:!0}},icon:{serverName:"icon",requiredParams:{required:!0}},sponsoredBy:"sponsored_by",privacyLink:"privacy_link",salePrice:"saleprice",displayUrl:"displayurl"},Em="<script",Tm=/\/\/cdn\.adnxs\.com\/v|\/\/cdn\.adnxs\-simple\.com\/v/,Om="trk.js",km=Uo({bidderCode:gm}),jm={code:gm,gvlid:32,aliases:[{code:"appnexusAst",gvlid:32},{code:"emxdigital",gvlid:183},{code:"pagescience",gvlid:32},{code:"gourmetads",gvlid:32},{code:"matomy",gvlid:32},{code:"featureforward",gvlid:32},{code:"oftmedia",gvlid:32},{code:"adasta",gvlid:32},{code:"beintoo",gvlid:618},{code:"projectagora",gvlid:1032},{code:"uol",gvlid:32},{code:"adzymic",gvlid:32}],supportedMediaTypes:[$o,Go,Vo],isBidRequestValid:function(e){return!!(e.params.placementId||e.params.placement_id||e.params.member&&(e.params.invCode||e.params.inv_code))},buildRequests:function(e,t){var n,r,i,s,c,u=(e=ps(e)).map(Rm),d=a(e,Pm),l={};!0===T.getConfig("coppa")&&(l={coppa:!0}),d&&Object.keys(d.params.user).filter((function(e){return o(Im,e)})).forEach((function(e){var t=dm(e);if("segments"===e&&Re(d.params.user[e])){var n=[];d.params.user[e].forEach((function(e){ze(e)?n.push({id:e}):Pe(e)&&n.push(e)})),l[t]=n}else"segments"!==e&&(l[t]=d.params.user[e])}));var f,p=a(e,Dm);p&&p.params&&p.params.app&&(f={},Object.keys(p.params.app).filter((function(e){return o(_m,e)})).forEach((function(e){return f[e]=p.params.app[e]})));var m,v=a(e,Um);v&&v.params&&p.params.app&&p.params.app.id&&(m={appid:v.params.app.id});var g={},h={},b=km.getCookie("apn_prebid_debug")||null;if(b)try{g=JSON.parse(b)}catch(e){Se("AppNexus Debug Auction Cookie Error:\n\n"+e)}else{Object.keys(Sm).forEach((function(e){var t=Te(e);je(t)&&""!==t&&(g[Sm[e]]=t,g.enabled=!0)})),g=Kd({member_id:"number",debug_timeout:"number"},g);var y=a(e,Nm);y&&y.debug&&(g=y.debug)}g&&g.enabled&&Object.keys(g).filter((function(e){return o(Cm,e)})).forEach((function(e){h[e]=g[e]}));var w=a(e,Bm),I=w?parseInt(w.params.member,10):0,_=e[0].schain,C=a(e,Mm),S={tags:pm(u),user:l,sdk:{source:"pbjs",version:"8.33.0"},schain:_};C&&(S.iab_support={omidpn:"Appnexus",omidpv:"8.33.0"}),I>0&&(S.member_id=I),p&&(S.device=f),v&&(S.app=m);var x=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return cm.apply(void 0,[sm(e),um(e)].concat(n))}(Ze(t&&t.ortb2),Ze(T.getConfig("appnexusAuctionKeywords"))||{});if(x.length>0&&(S.keywords=x),T.getConfig("adpod.brandCategoryExclusion")&&(S.brand_category_uniqueness=!0),h.enabled&&(S.debug=h,_e("AppNexus Debug Auction Settings:\n\n"+JSON.stringify(h,null,4))),t&&t.gdprConsent&&(S.gdpr_consent={consent_string:t.gdprConsent.consentString,consent_required:t.gdprConsent.gdprApplies},t.gdprConsent.addtlConsent&&-1!==t.gdprConsent.addtlConsent.indexOf("~"))){var A=t.gdprConsent.addtlConsent,E=A.substring(A.indexOf("~")+1);S.gdpr_consent.addtl_consent=E.split(".").map((function(e){return parseInt(e,10)}))}if(t&&t.uspConsent&&(S.us_privacy=t.uspConsent),null!=t&&t.gppConsent?S.privacy={gpp:t.gppConsent.gppString,gpp_sid:t.gppConsent.applicableSections}:null!=t&&null!==(n=t.ortb2)&&void 0!==n&&null!==(r=n.regs)&&void 0!==r&&r.gpp&&(S.privacy={gpp:t.ortb2.regs.gpp,gpp_sid:t.ortb2.regs.gpp_sid}),t&&t.refererInfo){var O={rd_ref:encodeURIComponent(t.refererInfo.topmostLocation),rd_top:t.refererInfo.reachedTop,rd_ifs:t.refererInfo.numIframes,rd_stk:t.refererInfo.stack.map((function(e){return encodeURIComponent(e)})).join(",")},k=t.refererInfo.canonicalUrl;je(k)&&""!==k&&(O.rd_can=k),S.referrer_detection=O}if(a(e,Fm)&&e.filter(Fm).forEach((function(e){var t=function(e,t){var n=t.mediaTypes.video,r=n.durationRangeSec,i=n.requireExactDuration,o=function(e){var t=e.adPodDurationSec,n=e.durationRangeSec,r=e.requireExactDuration,i=Math.min.apply(Math,pm(n)),o=Math.floor(t/i);return r?Math.max(o,n.length):o}(t.mediaTypes.video),a=Math.max.apply(Math,pm(r)),s=e.filter((function(e){return e.uuid===t.bidId})),c=lm.apply(void 0,pm(s).concat([o]));if(i){var u=Ll(c,Math.ceil(o/r.length));r.forEach((function(e,t){u[t].map((function(t){qm(t,"minduration",e),qm(t,"maxduration",e)}))}))}else c.map((function(e){return qm(e,"maxduration",a)}));return c}(u,e),n=S.tags.filter((function(t){return t.uuid!==e.bidId}));S.tags=[].concat(pm(n),pm(t))})),e[0].userId){var j=[];e[0].userIdAsEids.forEach((function(e){!e||!e.uids||e.uids.length<1||e.uids.forEach((function(t){var n={source:e.source,id:t.id};"adserver.org"==e.source?n.rti_partner="TDID":"uidapi.com"==e.source&&(n.rti_partner="UID2"),j.push(n)}))})),j.length&&(S.eids=j)}if(null!=t&&null!==(i=t.ortb2)&&void 0!==i&&null!==(s=i.regs)&&void 0!==s&&null!==(c=s.ext)&&void 0!==c&&c.dsa){var R=t.ortb2.regs.ext.dsa,z={};if(["required","pubrender","datatopub"].forEach((function(e){ze(R[e])&&("required"===e?z.dsainfo=R[e]:z[e]=R[e])})),Re(R.transparency)&&R.transparency.every((function(e){return Pe(e)}))){var P=[];R.transparency.forEach((function(e){je(e.domain)&&""!=e.domain&&Re(e.params)&&e.params.every((function(e){return ze(e)}))&&P.push(e)})),P.length>0&&(z.transparency=P)}De(z)||(S.dsa=z)}u[0].publisher_id&&(S.publisher_id=u[0].publisher_id);var B=function(e,t){var n=[],r={withCredentials:!0},i=hm;if(Qp(null==t?void 0:t.gdprConsent)||(i=bm),"TRUE"!==Te("apn_test").toUpperCase()&&!0!==T.getConfig("apn_test")||(r.customHeaders={"X-Is-Test":1}),e.tags.length>15){var o=Ze(e);Ll(e.tags,15).forEach((function(e){o.tags=e;var a=JSON.stringify(o);n.push({method:"POST",url:i,data:a,bidderRequest:t,options:r})}))}else{var a=JSON.stringify(e);n={method:"POST",url:i,data:a,bidderRequest:t,options:r}}return n}(S,t);return B},interpretResponse:function(e,t){var n=this,r=t.bidderRequest;e=e.body;var i=[];if(!e||e.error){var s="in response for ".concat(r.bidderCode," adapter");return e&&e.error&&(s+=": ".concat(e.error)),Se(s),i}if(e.tags&&e.tags.forEach((function(e){var t,s=(t=e)&&t.ads&&t.ads.length&&a(t.ads,(function(e){return e.rtb}));if(s&&(!0===_n.get(r.bidderCode,"allowZeroCpmBids")?s.cpm>=0:s.cpm>0)&&o(n.supportedMediaTypes,s.ad_type)){var c=function(e,t,n){var r=Xe(e.uuid,[n]),i=de(),o={adId:i,requestId:e.uuid,cpm:t.cpm,creativeId:t.creative_id,dealId:t.deal_id,currency:"USD",netRevenue:!0,ttl:300,adUnitCode:r.adUnitCode,appnexus:{buyerMemberId:t.buyer_member_id,dealPriority:t.deal_priority,dealCode:t.deal_code}};function s(e){return{ver:"1.0",complete:0,nodes:[{bsid:e.buyer_member_id.toString()}]}}if(t.adomain&&(o.meta=fm({},o.meta,{advertiserDomains:[t.adomain]})),t.advertiser_id&&(o.meta=fm({},o.meta,{advertiserId:t.advertiser_id})),t.dsa&&(o.meta=fm({},o.meta,{dsa:t.dsa})),t.buyer_member_id&&(o.meta=fm({},o.meta,{dchain:s(t)})),t.brand_id&&(o.meta=fm({},o.meta,{brandId:t.brand_id})),t.rtb.video)switch(fm(o,{width:t.rtb.video.player_width,height:t.rtb.video.player_height,vastImpUrl:t.notify_url,ttl:3600}),g(r,"mediaTypes.video.context")){case Jo:var c=Kp[t.brand_category_id]?Kp[t.brand_category_id]:null;o.meta=fm({},o.meta,{primaryCatId:c});var u=t.deal_priority;o.video={context:Jo,durationSeconds:Math.floor(t.rtb.video.duration_ms/1e3),dealTier:u},o.vastUrl=t.rtb.video.asset_url;break;case lr:if(o.adResponse=e,o.adResponse.ad=o.adResponse.ads[0],o.adResponse.ad.video=o.adResponse.ad.rtb.video,o.vastXml=t.rtb.video.content,t.renderer_url){var d=a(n.bids,(function(t){return t.bidId===e.uuid})),l=g(d,"mediaTypes.video.renderer.options");l||(l=g(d,"renderer.options")),o.renderer=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=mn.install({id:t.renderer_id,url:t.renderer_url,config:n,loaded:!1,adUnitCode:e});try{r.setRender(Lm)}catch(e){Ce("Prebid Error calling setRender on renderer",e)}return r.setEventHandlers({impression:function(){return Ie("AppNexus outstream video impression event")},loaded:function(){return Ie("AppNexus outstream video loaded event")},ended:function(){Ie("AppNexus outstream renderer video event"),document.querySelector("#".concat(e)).style.display="none"}}),r}(o.adUnitCode,t,l)}break;case fr:o.vastUrl=t.notify_url+"&redir="+encodeURIComponent(t.rtb.video.asset_url)}else if(t.rtb[Vo]){var f,p=t.rtb[Vo];if(function(e){if(!e||""===e)return!1;var t=e.match(Tm),n=null!=t&&t.length>=1,r=e.match(Om),i=null!=r&&r.length>=1;return e.startsWith(Em)&&i&&n}(t.viewability.config)){var m="pbjs_adid="+i+";pbjs_auc="+r.adUnitCode;f=t.viewability.config.replace("dom_id=%native_dom_id%",m)}var v=p.javascript_trackers;null==v?v=f:je(v)?v=[v,f]:v.push(f),o[Vo]={title:p.title,body:p.desc,body2:p.desc2,cta:p.ctatext,rating:p.rating,sponsoredBy:p.sponsored,privacyLink:p.privacy_link,address:p.address,downloads:p.downloads,likes:p.likes,phone:p.phone,price:p.price,salePrice:p.saleprice,clickUrl:p.link.url,displayUrl:p.displayurl,clickTrackers:p.link.click_trackers,impressionTrackers:p.impression_trackers,video:p.video,javascriptTrackers:v},p.main_img&&(o.native.image={url:p.main_img.url,height:p.main_img.height,width:p.main_img.width}),p.icon&&(o.native.icon={url:p.icon.url,height:p.icon.height,width:p.icon.width})}else{fm(o,{width:t.rtb.banner.width,height:t.rtb.banner.height,ad:t.rtb.banner.content});try{if(t.rtb.trackers)for(var h=0;h<t.rtb.trackers[0].impression_urls.length;h++){var b=Ge(t.rtb.trackers[0].impression_urls[h]);o.ad+=b}}catch(e){Se("Error appending tracking pixel",e)}}return o}(e,s,r);c.mediaType=function(e){var t=e.ad_type;return t===Go?Go:t===Vo?Vo:$o}(s),i.push(c)}})),e.debug&&e.debug.debug_info){var c="AppNexus Debug Auction for Prebid\n\n"+e.debug.debug_info;c=c.replace(/(<td>|<th>)/gm,"\t").replace(/(<\/td>|<\/th>)/gm,"\n").replace(/^<br>/gm,"").replace(/(<br>\n|<br>)/gm,"\n").replace(/<h1>(.*)<\/h1>/gm,"\n\n===== $1 =====\n\n").replace(/<h[2-6]>(.*)<\/h[2-6]>/gm,"\n\n*** $1 ***\n\n").replace(/(<([^>]+)>)/gim,""),Ie("https://console.appnexus.com/docs/understanding-the-debug-auction"),Ie(c)}return i},getUserSyncs:function(e,t,n,r,i){if(e.iframeEnabled&&Qp(n)&&function(e){return!e||!Array.isArray(e.applicableSections)||e.applicableSections.every((function(e){return"number"==typeof e&&e<=5}))}(i))return[{type:"iframe",url:"https://acdn.adnxs.com/dmp/async_usersync.html"}]},transformBidParams:function(e,t,n,r){var i=om;if(!0===t){var a=null,s=T.getConfig("s2sConfig");Pe(s)?a=g(s,"endpoint.p1Consent"):Re(s)&&s.forEach((function(e){o(e.bidders,n.bids[0].bidder)&&(a=g(e,"endpoint.p1Consent"))})),a&&a.match("/openrtb2/prebid")&&(i=Hm)}return e=Kd({member:"string",invCode:"string",placementId:"number",keywords:i,publisherId:"number"},e),t&&(Object.keys(e).forEach((function(t){var n=dm(t);n!==t&&(e[n]=e[t],delete e[t])})),e.use_pmt_rule="boolean"==typeof e.use_payment_rule&&e.use_payment_rule,e.use_payment_rule&&delete e.use_payment_rule),e}};function Rm(e){var t,n={};Object.keys(e.params).forEach((function(t){var n=dm(t);n!==t&&(e.params[n]=e.params[t],delete e.params[t])})),n.sizes=zm(e.sizes),n.primary_size=n.sizes[0],n.ad_types=[],n.uuid=e.bidId,e.params.placement_id?n.id=parseInt(e.params.placement_id,10):n.code=e.params.inv_code,n.allow_smaller_sizes=e.params.allow_smaller_sizes||!1,n.use_pmt_rule="boolean"==typeof e.params.use_payment_rule?e.params.use_payment_rule:"boolean"==typeof e.params.use_pmt_rule&&e.params.use_pmt_rule,n.prebid=!0,n.disable_psa=!0;var r=function(e){if(!ke(e.getFloor))return e.params.reserve?e.params.reserve:null;var t=e.getFloor({currency:"USD",mediaType:"*",size:"*"});return Pe(t)&&!isNaN(t.floor)&&"USD"===t.currency?t.floor:null}(e);if(r&&(n.reserve=r),e.params.position)n.position={above:1,below:2}[e.params.position]||0;else{var i=g(e,"mediaTypes.banner.pos")||g(e,"mediaTypes.video.pos");0!==i&&1!==i&&3!==i||(n.position=3===i?2:i)}e.params.traffic_source_code&&(n.traffic_source_code=e.params.traffic_source_code),e.params.private_sizes&&(n.private_sizes=zm(e.params.private_sizes)),e.params.supply_type&&(n.supply_type=e.params.supply_type),e.params.pub_click&&(n.pubclick=e.params.pub_click),e.params.ext_inv_code&&(n.ext_inv_code=e.params.ext_inv_code),e.params.publisher_id&&(n.publisher_id=parseInt(e.params.publisher_id,10)),e.params.external_imp_id&&(n.external_imp_id=e.params.external_imp_id);var a,s=cm(je(a=g(e,"ortb2Imp.ext.data.keywords"))&&""!==a?am(a.split(/\s*(?:,)\s*/)):{},null===(t=e.params)||void 0===t?void 0:t.keywords);s.length>0&&(n.keywords=s);var c,u,d=g(e,"ortb2Imp.ext.gpid")||g(e,"ortb2Imp.ext.data.pbadslot");if(d&&(n.gpid=d),(e.mediaType===Vo||g(e,"mediaTypes.".concat(Vo)))&&(n.ad_types.push(Vo),0===n.sizes.length&&(n.sizes=zm([1,1])),e.nativeParams)){var l=(c=e.nativeParams,u={},Object.keys(c).forEach((function(e){var t=Am[e]&&Am[e].serverName||Am[e]||e,n=Am[e]&&Am[e].requiredParams;if(u[t]=fm({},n,c[e]),(t===Am.image.serverName||t===Am.icon.serverName)&&u[t].sizes){var r=u[t].sizes;(gt(r)||Re(r)&&r.length>0&&r.every((function(e){return gt(e)})))&&(u[t].sizes=zm(u[t].sizes))}t===Am.privacyLink&&(u.privacy_supported=!0)})),u);n[Vo]={layouts:[l]}}var f=g(e,"mediaTypes.".concat(Go)),p=g(e,"mediaTypes.video.context");return n.hb_source=f&&"adpod"===p?7:1,(e.mediaType===Go||f)&&n.ad_types.push(Go),(e.mediaType===Go||f&&"outstream"!==p)&&(n.require_asset_url=!0),e.params.video&&(n.video={},Object.keys(e.params.video).filter((function(e){return o(ym,e)})).forEach((function(t){switch(t){case"context":case"playback_method":var r=e.params.video[t];r=Re(r)?r[0]:r,n.video[t]=xm[t][r];break;case"frameworks":break;default:n.video[t]=e.params.video[t]}})),e.params.video.frameworks&&Re(e.params.video.frameworks)&&(n.video_frameworks=e.params.video.frameworks)),f&&(n.video=n.video||{},Object.keys(f).filter((function(e){return o(wm,e)})).forEach((function(e){switch(e){case"minduration":case"maxduration":"number"!=typeof n.video[e]&&(n.video[e]=f[e]);break;case"skip":"boolean"!=typeof n.video.skippable&&(n.video.skippable=1===f[e]);break;case"skipafter":"number"!=typeof n.video.skipoffset&&(n.video.skippoffset=f[e]);break;case"playbackmethod":if("number"!=typeof n.video.playback_method){var t=f[e];(t=Re(t)?t[0]:t)>=1&&t<=4&&(n.video.playback_method=t)}break;case"api":if(!n.video_frameworks&&Re(f[e])){var r=f[e].map((function(e){var t=4===e?5:5===e?4:e;if(t>=1&&t<=5)return t})).filter((function(e){return e}));n.video_frameworks=r}break;case"startdelay":case"placement":if("number"!=typeof n.video.context){var i=f.placement,o=f.startdelay,a=function(e){if(e)return 2===e?"in-banner":e>2?"outstream":void 0}(i)||function(e){if(e)return 0===e?"pre_roll":-1===e?"mid_roll":-2===e?"post_roll":void 0}(o);n.video.context=xm.context[a]}}}))),e.renderer&&(n.video=fm({},n.video,{custom_renderer_present:!0})),e.params.frameworks&&Re(e.params.frameworks)&&(n.banner_frameworks=e.params.frameworks),g(e,"mediaTypes.".concat($o))&&n.ad_types.push($o),0===n.ad_types.length&&delete n.ad_types,n}function zm(e){var t=[],n={};if(Re(e)&&2===e.length&&!Re(e[0]))n.width=parseInt(e[0],10),n.height=parseInt(e[1],10),t.push(n);else if("object"==typeof e)for(var r=0;r<e.length;r++){var i=e[r];(n={}).width=parseInt(i[0],10),n.height=parseInt(i[1],10),t.push(n)}return t}function Pm(e){return!!e.params.user}function Bm(e){return!!parseInt(e.params.member,10)}function Dm(e){if(e.params)return!!e.params.app}function Um(e){return e.params&&e.params.app?!!e.params.app.id:!!e.params.app}function Nm(e){return!!e.debug}function Fm(e){return e.mediaTypes&&e.mediaTypes.video&&e.mediaTypes.video.context===Jo}function Mm(e){var t=!1,n=e.params,r=e.params.video;return n.frameworks&&Re(n.frameworks)&&(t=o(e.params.frameworks,6)),!t&&r&&r.frameworks&&Re(r.frameworks)&&(t=o(e.params.video.frameworks,6)),t}function qm(e,t,n){De(e.video)&&(e.video={}),e.video[t]=n}function Lm(e,t){!function(e){try{var t=document.getElementById(e).querySelectorAll("div[id^='google_ads']");t[0]&&t[0].style.setProperty("display","none")}catch(e){}}(e.adUnitCode),function(e){try{var t=document.getElementById(e).querySelectorAll("script[id^='sas_script']");t[0].nextSibling&&"iframe"===t[0].nextSibling.localName&&t[0].nextSibling.style.setProperty("display","none")}catch(e){}}(e.adUnitCode),e.renderer.push((function(){((null==t?void 0:t.defaultView)||window).ANOutstreamVideo.renderAd({tagId:e.adResponse.tag_id,sizes:[e.getSize().split("x")],targetId:e.adUnitCode,uuid:e.adResponse.uuid,adResponse:e.adResponse,rendererOptions:e.renderer.getConfig()},Wm.bind(null,e))}))}function Wm(e,t,n){e.renderer.handleVideoEvent({id:t,eventName:n})}function Hm(e){var t="";return Object.keys(e).forEach((function(n){je(e[n])?""!==e[n]?t+="".concat(n,"=").concat(e[n],","):t+="".concat(n,","):Re(e[n])&&(""===e[n][0]?t+="".concat(n,","):e[n].forEach((function(e){t+="".concat(n,"=").concat(e,",")})))})),t=t.substring(0,t.length-1)}function Vm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Fr(jm),i("appnexusBidAdapter");var Gm=["inScreen","inImage","inArticle","inBanner"],$m=(Vm(vm={},$o,"display"),Vm(vm,Go,"video"),vm),Jm="fixed",Xm="mobile",Qm="unknown",Km=function(){var e=navigator.connection||navigator.mozConnection||navigator.webkitConnection||{};switch(e.type||e.effectiveType){case"wifi":case"ethernet":return Jm;case"cellular":case"wimax":return Xm;default:return/iPad|iPhone|iPod/.test(navigator.userAgent)||/android/i.test(navigator.userAgent)?Qm:Jm}};function Ym(e){return!!e.mediaTypes&&!!e.mediaTypes.video}function Zm(e){var t=e.params;return!!t.publisherId&&!!t.adUnitId&&Gm.indexOf(t.placement)>-1}function ev(e){var t,n,r=e.params,i=Me(Object.keys(e.mediaTypes),(function(e){return $m[e]})),o={id:e.bidId,transactionId:null===(t=e.ortb2Imp)||void 0===t||null===(n=t.ext)||void 0===n?void 0:n.tid,sizes:e.sizes,supplyTypes:i,adUnitId:r.adUnitId,adUnitCode:e.adUnitCode,geom:iv(e.adUnitCode),placement:r.placement,requestCount:e.bidderRequestsCount||1};return Ym(e)&&(o.videoParams=tv(e)),o}function tv(e){var t=e.mediaTypes.video||{};return t.playerSize&&(t.w=t.playerSize[0][0],t.h=t.playerSize[0][1]),t}function nv(e){var t,n="display"===(t=e.mediaType)?$o:"video"===t?Go:t,r={requestId:e.bidId,cpm:e.price,width:e.width,height:e.height,creativeId:e.creativeId,currency:e.currency,netRevenue:!0,mediaType:n,ttl:e.ttl,nurl:e.nurl,meta:{advertiserDomains:e&&e.adomain&&e.adomain.length>0?e.adomain:[]}};return n===Go?r.vastXml=e.content:r.ad=e.content,r}function rv(){var e=function(){try{var e=performance.getEntriesByType("navigation")[0];return Math.round(e.responseStart-e.startTime)}catch(e){try{var t=performance.timing;return Math.round(t.responseStart-t.fetchStart)}catch(e){return 0}}}();return e>=0&&e<=performance.now()?e:0}function iv(e){var t=document.getElementById(e);if(t){var n=window.scrollY,r=t.getBoundingClientRect();return{scrollY:n,top:r.top,left:r.left,width:r.width,height:r.height,viewport:{width:window.innerWidth,height:window.innerHeight}}}}var ov={code:"seedtag",gvlid:157,aliases:["st"],supportedMediaTypes:[$o,Go],isBidRequestValid:function(e){return Ym(e)?function(e){var t=tv(e),n=!!e.params.publisherId&&!!e.params.adUnitId&&Ym(e)&&!!t.playerSize&&Re(t.playerSize)&&t.playerSize.length>0;return"inStream"===e.params.placement?n&&"instream"===t.context:n&&"outstream"===t.context&&function(e){return!!e.mediaTypes&&!!e.mediaTypes.banner}(e)&&Zm(e)}(e):Zm(e)},buildRequests:function(e,t){var n,r,i={url:t.refererInfo.page,publisherToken:e[0].params.publisherId,cmp:!!t.gdprConsent,timeout:t.timeout,version:"8.33.0",connectionType:Km(),auctionStart:t.auctionStart||Date.now(),ttfb:rv(),bidRequests:Me(e,ev)};if(i.cmp){var o=t.gdprConsent.gdprApplies;void 0!==o&&(i.ga=o),i.cd=t.gdprConsent.consentString}t.uspConsent&&(i.uspConsent=t.uspConsent),e[0].schain&&(i.schain=e[0].schain);var a=T.getConfig("coppa");return a&&(i.coppa=a),t.gppConsent?i.gppConsent={gppString:t.gppConsent.gppString,applicableSections:t.gppConsent.applicableSections}:null!==(n=t.ortb2)&&void 0!==n&&null!==(r=n.regs)&&void 0!==r&&r.gpp&&(i.gppConsent={gppString:t.ortb2.regs.gpp,applicableSections:t.ortb2.regs.gpp_sid}),{method:"POST",url:"https://s.seedtag.com/c/hb/bid",data:JSON.stringify(i)}},interpretResponse:function(e){var t=e.body;return t&&t.bids&&Re(t.bids)?Me(t.bids,(function(e){return nv(e)})):[]},getUserSyncs:function(e,t){var n=t[0];if(e.iframeEnabled&&n){var r=n.body.cookieSync;return r?[{type:"iframe",url:r}]:[]}return[]},onTimeout:function(e){var t=function(e){var t="";if(Re(e)&&e[0]&&Re(e[0].params)&&e[0].params[0]){var n=e[0].params[0],r=e[0].timeout;t="?publisherToken="+n.publisherId+"&adUnitId="+n.adUnitId+"&timeout="+r}return"https://s.seedtag.com/se/hb/timeout"+t}(e);We(t)},onBidWon:function(e){e&&e.nurl&&We(e.nurl)}};function av(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16)}))}Fr(ov),i("seedtagBidAdapter");var sv={code:"cpmstar",supportedMediaTypes:[$o,Go],pageID:Math.floor(1e7*Math.random()),getMediaType:function(e){return null==e?$o:g(e,"mediaTypes.video")?Go:$o},getPlayerSize:function(e){var t=g(e,"mediaTypes.video.playerSize");return null==t?[640,440]:(null!=t[0]&&(t=t[0]),null==t||null==t[0]||null==t[1]?[640,440]:t)},isBidRequestValid:function(e){return"string"==typeof e.params.placementId&&!!e.params.placementId.length||"number"==typeof e.params.placementId},buildRequests:function(e,t){for(var n=[],r=0;r<e.length;r++){var i=e[r],o=t.refererInfo.page?t.refererInfo.page:t.refererInfo.domain;o=encodeURIComponent(o);var a=fe("endpoint",i.params),s="dev"==a?"https://dev.server.cpmstar.com/view.aspx":"staging"==a?"https://staging.server.cpmstar.com/view.aspx":"https://server.cpmstar.com/view.aspx",c=sv.getMediaType(i),u=sv.getPlayerSize(i),d="&fv=0"+(u?"&w="+u[0]+"&h="+u[1]:""),l=s+"?media="+c+(c==Go?d:"")+"&json=c_b&mv=1&poolid="+fe("placementId",i.params)+"&reachedTop="+encodeURIComponent(t.refererInfo.reachedTop)+"&requestid="+i.bidId+"&referer="+encodeURIComponent(o);if(i.schain&&i.schain.nodes){var f=i.schain,p="";p+=f.ver+","+f.complete;for(var m=0;m<f.nodes.length;m++){var v=f.nodes[m];p+="!"+av(v.asi||"")+","+av(v.sid||"")+","+av(v.hp||"")+","+av(v.rid||"")+","+av(v.name||"")+","+av(v.domain||"")}l+="&schain="+p}t.gdprConsent&&(null!=t.gdprConsent.consentString&&(l+="&gdpr_consent="+t.gdprConsent.consentString),null!=t.gdprConsent.gdprApplies&&(l+="&gdpr="+(t.gdprConsent.gdprApplies?1:0))),null!=t.uspConsent&&(l+="&us_privacy="+t.uspConsent),T.getConfig("coppa")&&(l+="&tfcd="+(T.getConfig("coppa")?1:0));var h={},b=i.adUnitCode;b&&(h.adUnitCode=b),c==Go&&(h.video=g(i,"mediaTypes.video")),n.push({method:"POST",url:l,bidRequest:i,data:h})}return n},interpretResponse:function(e,t){var n=t.bidRequest,r=sv.getMediaType(n),i=[];Array.isArray(e.body)||(e.body=[e.body]);for(var o=0;o<e.body.length;o++){var a=e.body[o].creatives[0];if(!a)return void Ce("cpmstarBidAdapter: server response failed check");var s=parseFloat(a.cpm)||0;if(!s)return void Ce("cpmstarBidAdapter: server response failed check. Missing cpm");var c={requestId:a.requestid,cpm:s,width:a.width||0,height:a.height||0,currency:a.currency?a.currency:"USD",netRevenue:!a.netRevenue||a.netRevenue,ttl:a.ttl?a.ttl:300,creativeId:a.creativeid||0,meta:{advertiserDomains:a.adomain?a.adomain:[]}};if(a.hasOwnProperty("dealId")&&(c.dealId=a.dealId),r==$o&&a.code)c.ad=a.code+(a.px_cr?"\n<img width=0 height=0 src='"+a.px_cr+"' />":"");else{if(r!=Go||!a.creativemacros||!a.creativemacros.HTML5VID_VASTSTRING)return Se("bad response",a);var u=sv.getPlayerSize(n);null!=u&&(c.width=u[0],c.height=u[1]),c.mediaType=Go,c.vastXml=a.creativemacros.HTML5VID_VASTSTRING}i.push(c)}return i},getUserSyncs:function(e,t){var n=[];if(0==t.length||!t[0].body)return n;var r=t[0].body[0].syncs;if(!r||r.length<0)return n;for(var i=0;i<r.length;i++){var o=r[i];("image"===o.type&&e.pixelEnabled||"iframe"==o.type&&e.iframeEnabled)&&n.push(o)}return n}};function cv(e,t,n){return n?e+t+"="+encodeURIComponent(n)+"&":e}function uv(){return uv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uv.apply(this,arguments)}function dv(e){return function(e){if(Array.isArray(e))return lv(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return lv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lv(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function fv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fv(Object(n),!0).forEach((function(t){mv(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Fr(sv),i("cpmstarBidAdapter");var vv="triplelift",gv=null,hv=null,bv=Uo({bidderCode:vv}),yv={gvlid:28,code:vv,supportedMediaTypes:[$o,Go],isBidRequestValid:function(e){return void 0!==e.params.inventoryCode},buildRequests:function(e,t){var n="https://tlx.3lift.com/header/auction?",r=function(e,t){var n,r,i={},o=e[0].schain,a=function(e){var t={},n={},r={},i=e.ortb2||{},o=function(){var e=bv.getDataFromLocalStorage("opecloud_ctx");if(!e)return null;try{return JSON.parse(e)}catch(e){return Se("Triplelift: error parsing JSON: ",e),null}}(),a=uv({},i.site),s=uv({},i.user);if(o){s.data=s.data||[];try{s.data.push({name:"www.1plusx.com",ext:o})}catch(e){Se("Triplelift: error adding 1plusX segments: ",e)}}return Sv(n,a),Sv(r,s),De(n)||(t.context=n),De(r)||(t.user=r),t}(t);i.imp=e.map((function(e,t){var n,r,i,o={id:t,tagid:e.params.inventoryCode,floor:Cv(e)};return wv(e)&&(o.video=function(e){var t=pv(pv({},e.params.video),e.mediaTypes.video);try{t.w||(t.w=t.playerSize[0][0]),t.h||(t.h=t.playerSize[0][1])}catch(e){Ce("Video size not defined",e)}return"instream"===t.context&&(t.placement||(t.placement=1)),"outstream"===t.context&&(t.placement?-1===[3,4,5].indexOf(t.placement)&&(Ie("video.placement value of ".concat(t.placement," is invalid for outstream context. Setting placement to 3")),t.placement=3):t.placement=3),t.playbackmethod&&Number.isInteger(t.playbackmethod)&&(t.playbackmethod=Array.from(String(t.playbackmethod),Number)),delete t.playerSize,t}(e)),e.mediaTypes.banner&&!Iv(e)&&(o.banner={format:Ev(e.sizes)}),De(e.ortb2Imp)||(o.fpd=(n=e.ortb2Imp,r={},Sv(i={},n.ext),De(i)||(r.context=i),r),De(e.ortb2Imp.ext)||(o.ext=pv({},e.ortb2Imp.ext))),o}));var s=[].concat(dv(xv([e[0]],"tdid","adserver.org","TDID")),dv(function(e){return xv(e,"idl_env","liveramp.com","idl")}([e[0]])),dv(function(e){return xv(e,"criteoId","criteo.com","criteoId")}([e[0]])),dv(function(e){return xv(e,"pubcid","pubcid.org","pubcid")}([e[0]])),dv(function(e){var t=["adserver.org","liveramp.com","criteo.com","pubcid.org"],n=[];return e.userIdAsEids&&e.userIdAsEids.forEach((function(e){try{if(-1===t.indexOf(e.source)){var r=e.uids.map((function(t){return{id:t.id,ext:{rtiPartner:e.source}}}));n.push({source:e.source,uids:r})}}catch(t){Ce("Triplelift: Error attempting to add ".concat(e," to bid request"),t)}})),n}(e[0])));s.length>0&&(i.user={ext:{eids:s}});var c=function(e,t){var n={};return De(e)||(n.schain=pv({},e)),De(t)||(n.fpd=pv({},t)),n}(o,a);return De(c)||(i.ext=c),null!=t&&null!==(n=t.ortb2)&&void 0!==n&&null!==(r=n.regs)&&void 0!==r&&r.gpp&&(i.regs=uv({},t.ortb2.regs)),null!=t&&t.ortb2&&(i.ext.ortb2=uv({},t.ortb2)),i}(e,t);return n=cv(n,"lib","prebid"),n=cv(n,"v","8.33.0"),t&&t.refererInfo&&(n=cv(n,"referrer",t.refererInfo.page)),t&&t.timeout&&(n=cv(n,"tmax",t.timeout)),t&&t.gdprConsent&&(n=cv(n,"gdpr",(gv=void 0===t.gdprConsent.gdprApplies||t.gdprConsent.gdprApplies).toString()),void 0!==t.gdprConsent.consentString&&(n=cv(n,"cmp_cs",hv=t.gdprConsent.consentString))),t&&t.uspConsent&&(n=cv(n,"us_privacy",t.uspConsent)),t&&t.fledgeEnabled&&(n=cv(n,"fledge",t.fledgeEnabled)),!0===T.getConfig("coppa")&&(n=cv(n,"coppa",!0)),n.lastIndexOf("&")===n.length-1&&(n=n.substring(0,n.length-1)),Ie("tlCall request built: "+n),{method:"POST",url:n,data:r,bidderRequest:t}},interpretResponse:function(e,t){var n=t.bidderRequest,r=e.body.bids||[],i=e.body.paapi||[];if(r=r.map((function(e){return function(e,t){var n={},r=t.width||1,i=t.height||1,o=t.deal_id||"",a=t.crid||"",s=e.bids[t.imp_id];return 0!=t.cpm&&t.ad&&(n={requestId:s.bidId,cpm:t.cpm,width:r,height:i,netRevenue:!0,ad:t.ad,creativeId:a,dealId:o,currency:"USD",ttl:300,tl_source:t.tl_source,meta:{}},wv(s)&&"video"===t.media_type&&(n.vastXml=t.ad,n.mediaType="video",n.ttl=3600),t.advertiser_name&&(n.meta.advertiserName=t.advertiser_name),t.adomain&&t.adomain.length&&(n.meta.advertiserDomains=t.adomain),t.tl_source&&"hdx"==t.tl_source&&(wv(s)&&"video"===t.media_type?n.meta.mediaType="video":n.meta.mediaType="banner"),t.tl_source&&"tlx"==t.tl_source&&(n.meta.mediaType="native"),a&&(n.meta.networkId=a.slice(0,a.indexOf("_")))),n}(n,e)})),i.length>0){var o=i.map((function(e){return{bidId:n.bids[e.imp_id].bidId,config:e.auctionConfig}}));return Ie("Response with FLEDGE:",{bids:r,fledgeAuctionConfigs:o}),{bids:r,fledgeAuctionConfigs:o}}return r},getUserSyncs:function(e,t,n,r,i){var o=function(e){if(e)return e.iframeEnabled?"iframe":e.pixelEnabled?"image":void 0}(e);if(o){var a="https://eb2.3lift.com/sync?";return"image"===o&&(a=cv(a,"px",1),a=cv(a,"src","prebid")),(null!==hv||gv)&&(a=cv(a,"gdpr",gv),a=cv(a,"cmp_cs",hv)),r&&(a=cv(a,"us_privacy",r)),i&&(i.gppString&&(a=cv(a,"gpp",i.gppString)),i.applicableSections&&0!==i.applicableSections.length&&(a=cv(a,"gpp_sid",i.applicableSections.filter((function(e){return Number.isInteger(e)})).join(",")))),[{type:o,url:a}]}}};function wv(e){return _v(e)&&(Iv(e)||function(e){return _v(e)&&"outstream"===e.mediaTypes.video.context.toLowerCase()}(e))}function Iv(e){return _v(e)&&"instream"===e.mediaTypes.video.context.toLowerCase()}function _v(e){return e.mediaTypes.video&&e.mediaTypes.video.context}function Cv(e){var t=null;if("function"==typeof e.getFloor)try{var n=e.getFloor({currency:"USD",mediaType:wv(e)?"video":"banner",size:"*"});"object"!=typeof n||"USD"!==n.currency||isNaN(parseFloat(n.floor))||(t=parseFloat(n.floor))}catch(e){Se("Triplelift: getFloor threw an error: ",e)}return null!==t?t:e.params.floor}function Sv(e,t){De(t)||Object.keys(t).forEach((function(n){null!=t[n]&&(e[n]=t[n])}))}function xv(e,t,n,r){return e.map(function(e){return function(t){return t&&t.userId&&t.userId[e]}}(t)).filter(Av(t)).map(function(e,t){return function(n){return{source:e,uids:[{id:n.id?n.id:n,ext:{rtiPartner:t}}]}}}(n,r))}var Av=function(e){return function(t,n,r){var i=!!t&&(je(t)?!!t:Pe(t)&&!Re(t)&&!De(t)&&t.id&&je(t.id)&&!!t.id);return i||void 0===r[0]||Ce("Triplelift: invalid ".concat(e," userId format")),i}};function Ev(e){return e.filter(Tv).map((function(e){return{w:e[0],h:e[1]}}))}function Tv(e){return 2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1]}function Ov(e){var t;return Ke()&&(t=a(window.googletag.pubads().getSlots(),function(e){return function(t){return dt(t,e)}}(e))),t}function kv(e){var t=Ov(e);return t?{gptSlot:t.getAdUnitPath(),divId:t.getSlotElementId()}:{}}function jv(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||Pv(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rv(){return Rv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rv.apply(this,arguments)}function zv(e){return function(e){if(Array.isArray(e))return Bv(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Pv(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pv(e,t){if(e){if("string"==typeof e)return Bv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Bv(e,t):void 0}}function Bv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Dv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Uv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dv(Object(n),!0).forEach((function(t){Nv(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Nv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Fr(yv),i("tripleliftBidAdapter");var Fv="ix",Mv="roundel",qv=[$o,Go,Vo],Lv=[144,144],Wv={JPY:1},Hv="p",Vv="x",Gv=1,$v=2,Jv=3,Xv=4,Qv=5,Kv=9,Yv={SITE:["id","name","domain","cat","sectioncat","pagecat","page","ref","search","mobile","privacypolicy","publisher","content","keywords","ext"],USER:["id","buyeruid","yob","gender","keywords","customdata","geo","data","ext"]},Zv={"liveramp.com":"idl","netid.de":"NETID","neustar.biz":"fabrickId","zeotap.com":"zeotapIdPlus","uidapi.com":"UID2","adserver.org":"TDID","id5-sync.com":"","crwdcntrl.net":"","epsilon.com":"","audigent.com":"","pubcid.org":"","utiq.com":"","criteo.com":"","euid.eu":"","intimatemerger.com":"","33across.com":"","liveintent.indexexchange.com":"","google.com":""},eg=["britepoolid","lipbid","criteoId","merkleId","parrableId","connectid","tapadId","quantcastId","pubProvidedId","pairId"],tg=["mimes","minduration","maxduration"],ng=["mimes","minduration","maxduration","protocols","protocol","startdelay","placement","linearity","skip","skipmin","skipafter","sequence","battr","maxextended","minbitrate","maxbitrate","boxingallowed","playbackmethod","playbackend","delivery","pos","companionad","api","companiontype","ext","playerSize","w","h","plcmt"],rg="ixdiag",ig="".concat(Fv,"_features"),og=!1,ag=Uo({bidderCode:Fv}),sg={REQUESTED_FEATURE_TOGGLES:["pbjs_enable_multiformat"],featureToggles:{},isFeatureEnabled:function(e){return g(this.featureToggles,"features.".concat(e,".activated"),!1)},getFeatureToggles:function(){if(ag.localStorageIsEnabled()){var e=St(ag.getDataFromLocalStorage(ig));g(e,"expiry")&&e.expiry>=(new Date).getTime()?this.featureToggles=e:this.clearFeatureToggles()}},setFeatureToggles:function(e){var t=e.body,n=new Date,r=g(t,"ext.features");r&&(this.featureToggles={expiry:n.setHours(n.getHours()+1),features:r},ag.localStorageIsEnabled()&&ag.setDataInLocalStorage(ig,JSON.stringify(this.featureToggles)))},clearFeatureToggles:function(){this.featureToggles={},ag.localStorageIsEnabled()&&ag.removeDataFromLocalStorage(ig)}},cg=0,ug="",dg="",lg=!1,fg=2;function pg(e){var t=mg(e,Go),n=g(e,"mediaTypes.video"),r=g(e,"params.video");if(yg(n,r).length)return{};t.video=r?Ze(e.params.video):{};var i=g(e,"ortb2Imp.ext.tid");for(var o in i&&Et(t,"ext.tid",i),function(e,t){if(g(t,"mediaTypes.video.context")===lr){var n=g(t,"mediaTypes.video.renderer");if(n||(n=g(t,"renderer")),g(t,"schain",!1))e.displaymanager="pbjs_wrapper";else if(n&&"object"==typeof n){if(void 0!==n.url){var r="";try{r=new URL(n.url).hostname}catch{return}r.includes("js-sec.indexww")?e.displaymanager="ix":e.displaymanager=n.url}}else e.displaymanager="ix"}}(t,e),Ag(t,e),n)-1===ng.indexOf(o)||t.video.hasOwnProperty(o)||(t.video[o]=n[o]);if(t.video.minduration>t.video.maxduration)return Se("IX Bid Adapter: video minduration [".concat(t.video.minduration,"] cannot be greater than video maxduration [").concat(t.video.maxduration,"]"),{bidder:Fv,code:Kv}),{};var a=r&&r.context||n&&n.context;if(function(e){e.video.hasOwnProperty("plcmt")&&(!pt(e.video.plcmt)||e.video.plcmt<1||e.video.plcmt>4)&&(Ce("IX Bid Adapter: video.plcmt [".concat(e.video.plcmt,"] must be an integer between 1-4 inclusive")),delete e.video.plcmt)}(t),a&&!t.video.hasOwnProperty("placement")&&(a===fr?t.video.placement=1:a===lr?g(r,"playerConfig.floatOnScroll")?t.video.placement=5:(t.video.placement=3,lg=!0):Ce("IX Bid Adapter: Video context '".concat(a,"' is not supported"))),!t.video.w||!t.video.h){var s=wg(g(t,"video.playerSize"))||wg(g(e,"params.size"));if(!s)return Ce("IX Bid Adapter: Video size is missing in [mediaTypes.video]"),{};t.video.w=s[0],t.video.h=s[1]}return vg(e,t,Go),t}function mg(e,t){var n={};if(n.id=e.bidId,Ng()&&g(e,"params.externalId")&&Et(n,"ext.externalID",e.params.externalId),g(e,"params.".concat(t,".siteId"))&&!isNaN(Number(e.params[t].siteId)))switch(t){case $o:Et(n,"ext.siteID",e.params.banner.siteId.toString());break;case Go:Et(n,"ext.siteID",e.params.video.siteId.toString());break;case Vo:Et(n,"ext.siteID",e.params.native.siteId.toString())}else e.params.siteId&&Et(n,"ext.siteID",e.params.siteId.toString());return!e.params.hasOwnProperty("id")||"string"!=typeof e.params.id&&"number"!=typeof e.params.id||Et(n,"ext.sid",String(e.params.id)),n}function vg(e,t,n){var r=null,i=null;if(e.params.bidFloor&&e.params.bidFloorCur&&(r={floor:e.params.bidFloor,currency:e.params.bidFloorCur}),ke(e.getFloor)){var o="*",a="*";if(n&&Fe(qv,n)){var s=t[n];o=n,a=[s.w,s.h]}try{i=e.getFloor({mediaType:o,size:a})}catch(e){Ce("priceFloors module call getFloor failed, error : ",e)}}var c=!1;i?(t.bidfloor=i.floor,t.bidfloorcur=i.currency,Et(t,"ext.fl",Hv),c=!0):r&&(t.bidfloor=r.floor,t.bidfloorcur=r.currency,Et(t,"ext.fl",Vv),c=!0),c&&(n==$o?(Et(t,"banner.ext.bidfloor",t.bidfloor),Et(t,"banner.ext.fl",t.ext.fl)):n==Go?(Et(t,"video.ext.bidfloor",t.bidfloor),Et(t,"video.ext.fl",t.ext.fl)):(Et(t,"native.ext.bidfloor",t.bidfloor),Et(t,"native.ext.fl",t.ext.fl)))}function gg(e,t,n){var r={},i=!(!g(e,"exp")||!pt(e.exp)),o=g(e,"dealid")||g(e,"ext.dealid");Wv.hasOwnProperty(t)?r.cpm=e.price/Wv[t]:r.cpm=e.price/100,r.requestId=e.impid,o&&(r.dealId=o),r.netRevenue=!0,r.currency=t,r.creativeId=e.hasOwnProperty("crid")?e.crid:"-",e.mtype!=fg||(!e.ext||e.ext.vasturl)&&e.ext?e.ext&&e.ext.vasturl&&(r.vastUrl=e.ext.vasturl):r.vastXml=e.adm;var a=null;if("string"==typeof e.adm&&"{"===e.adm[0]&&"}"===e.adm[e.adm.length-1])try{a=JSON.parse(e.adm)}catch(e){Ce("adm looks like JSON but failed to parse: ",e)}return e.ext&&e.ext.vasturl||e.mtype==fg?(r.width=n.video.w,r.height=n.video.h,r.mediaType=Go,r.mediaTypes=n.mediaTypes,r.ttl=i?e.exp:3600):a&&a.native?(r.native={ortb:a.native},r.width=e.w?e.w:1,r.height=e.h?e.h:1,r.mediaType=Vo,r.ttl=i?e.exp:3600):(r.ad=e.adm,r.width=e.w,r.height=e.h,r.mediaType=$o,r.ttl=i?e.exp:300),r.meta={},r.meta.networkId=g(e,"ext.dspid"),r.meta.brandId=g(e,"ext.advbrandid"),r.meta.brandName=g(e,"ext.advbrand"),e.adomain&&e.adomain.length>0&&(r.meta.advertiserDomains=e.adomain),r}function hg(e){return Array.isArray(e)&&2===e.length&&pt(e[0])&&pt(e[1])}function bg(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(hg(e))return e[0]===t[0]&&e[1]===t[1];for(var n=0;n<e.length;n++)if(e[n][0]===t[0]&&e[n][1]===t[1])return!0;return!1}function yg(e,t){var n=[];for(var r of(e||Ce("IX Bid Adapter: mediaTypes.video is the preferred location for video params in ad unit"),tg)){var i=e&&e.hasOwnProperty(r),o=t&&t.hasOwnProperty(r);i||o||n.push("IX Bid Adapter: ".concat(r," is not included in either the adunit or params level"))}var a=e&&e.hasOwnProperty("protocol"),s=e&&e.hasOwnProperty("protocols"),c=t&&t.hasOwnProperty("protocol"),u=t&&t.hasOwnProperty("protocols");return a||s||c||u||n.push("IX Bid Adapter: protocol/protcols is not included in either the adunit or params level"),n}function wg(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return hg(e)?e:!!hg(e[0])&&e[0]}function Ig(e,t,n){if(e)return Uv(Uv({},a(n,(function(t){return t.bidId===e}))),a(t,(function(t){return t.id===e})))}function _g(e,t,n,r){var i=function(e){var t=[],n={};if(Re(e))for(var r of e)Zv.hasOwnProperty(r.source)&&g(r,"uids.0")&&(n[r.source]=!0,""!=Zv[r.source]&&(r.uids[0].ext={rtiPartner:Zv[r.source]}),delete r.uids[0].atype,t.push(r));return{toSend:t,seenSources:n}}(g(e,"0.userIdAsEids")),o=i.toSend;if(window.headertag&&"function"==typeof window.headertag.getIdentityInfo&&function(e,t){var n=window.headertag.getIdentityInfo();if(n&&"object"==typeof n)for(var r in n)if(n.hasOwnProperty(r)){var i=n[r];!i.responsePending&&i.data&&"object"==typeof i.data&&Object.keys(i.data).length&&!t.seenSources[i.data.source]&&e.push(i.data)}}(o,i),t&&t.bidderCode===Mv&&!i.seenSources["liveramp.com"])return[];var a=[],s=function(e){var t={};return t.id=e[0].bidderRequestId.toString(),t.site={},t.ext={},t.ext.source="prebid",t.ext.ixdiag={},t.ext.ixdiag.ls=ag.localStorageIsEnabled(),t.imp=[],t.at=1,t}(e);s=function(e,t){return t.length>0&&(e.ext.features={},t.forEach((function(t){e.ext.features[t]={activated:sg.isFeatureEnabled(t)}}))),e}(s,sg.REQUESTED_FEATURE_TOGGLES);var c=function(e,t){var n=e.map((function(e){return e.adUnitCode})).filter((function(e,t,n){return n.indexOf(e)===t})),r={mfu:0,bu:0,iu:0,nu:0,ou:0,allu:0,ren:!1,version:"8.33.0",userIds:Tg(e[0]),url:window.location.href.split("?")[0],vpd:lg,ae:t},i=function(t){var n=e.filter((function(e){return e.adUnitCode===t}))[0];g(n,"mediaTypes")&&(Object.keys(n.mediaTypes).length>1&&r.mfu++,g(n,"mediaTypes.native")&&r.nu++,g(n,"mediaTypes.banner")&&r.bu++,"outstream"===g(n,"mediaTypes.video.context")&&(r.ou++,Ug(n)&&(r.ren=!0)),"instream"===g(n,"mediaTypes.video.context")&&r.iu++,r.allu++)};for(var o of n)i(o);return r}(e,g(t,"fledgeEnabled"));for(var u in c)s.ext.ixdiag[u]=c[u];s=function(e,t,n,r,i){var o,a,s=g(t,"timeout");s&&(e.ext.ixdiag.tmax=s),T.getConfig("userSync")&&(e.ext.ixdiag.syncsPerBidder=T.getConfig("userSync").syncsPerBidder);var c=function(){if(ag.localStorageIsEnabled()){var e,t={};try{e=JSON.parse(ag.getDataFromLocalStorage(rg)||"{}")}catch(e){return Se("ix can not read ixdiag from localStorage."),null}return Object.keys(e).forEach((function(n){Object.keys(e[n]).forEach((function(r){"number"==typeof e[n][r]&&(t[r]=t[r]?t[r]+e[n][r]:e[n][r])}))})),t}}();return De(c)||(e.ext.ixdiag.err=c),e.ext.ixdiag.imps=Object.keys(n).length,e.source={tid:null==t||null===(o=t.ortb2)||void 0===o||null===(a=o.source)||void 0===a?void 0:a.tid},r[0].schain&&(e.source.ext={},e.source.ext.schain=r[0].schain),i.length>0&&(e.user={},e.user.eids=i),document.referrer&&""!==document.referrer&&(e.site.ref=document.referrer),e}(s,t,n,e,o),s=function(e,t){if(t){t.gdprConsent&&((ug=t.gdprConsent).hasOwnProperty("gdprApplies")&&(e.regs={ext:{gdpr:ug.gdprApplies?1:0}}),ug.hasOwnProperty("consentString")&&(e.user=e.user||{},e.user.ext={consent:ug.consentString||""},ug.hasOwnProperty("addtlConsent")&&ug.addtlConsent&&(e.user.ext.consented_providers_settings={addtl_consent:ug.addtlConsent}))),t.uspConsent&&(Et(e,"regs.ext.us_privacy",t.uspConsent),dg=t.uspConsent);var n=g(t,"refererInfo.page");n&&(e.site.page=n),t.gppConsent&&(Et(e,"regs.gpp",t.gppConsent.gppString),Et(e,"regs.gpp_sid",t.gppConsent.applicableSections))}return T.getConfig("coppa")&&Et(e,"regs.coppa",1),e}(s,t),e[0].params.siteId&&(cg=e[0].params.siteId);for(var d=Object.keys(n),l=!1,f=0;f<d.length&&!(a.length>=4);f++){s=Cg(n,d,s,f);var p=g(t,"ortb2")||{},m=Uv({},p.site||p.context);m.page=Sg(t);var v=Uv({},p.user);De(p)||l||((s=xg(t,s,p,m,v)).site=_t({},s.site,m),s.user=_t({},s.user,v),l=!0),s=Eg(n,s,d,f);var h=f===d.length-1;if(s=qg(s=Mg(s=Wg(s))),h){var b="".concat("https://htlb.casalemedia.com/openrtb/pbjs","?");0!==cg&&(b+="s=".concat(cg)),Ng()&&(b+=0!==cg?"&":"",b+="p=".concat(T.getConfig("exchangeId"))),a.push({method:"POST",url:b,data:Ze(s),option:{contentType:"text/plain"},validBidRequests:e}),s.imp=[],l=!1}}return a}function Cg(e,t,n,r){var i=e[t[r]],o=i.missingImps,a=void 0===o?[]:o,s=i.ixImps,c={ixImps:void 0===s?[]:s,missingBannerImpressions:a},u=Object.keys(c).map((function(e){return c[e]})).filter((function(e){return Array.isArray(e)})).reduce((function(e,t){return e.concat.apply(e,zv(t))}),[]),d=e[t[r]].gpid,l=e[t[r]].dfp_ad_unit_code,f=e[t[r]].tid,p=e[t[r]].sid,m=e[t[r]].ae,v=u.filter((function(e){return $o in e})),h=u.filter((function(e){return!($o in e)}));if(v.length>0){var b=v.reduce((function(e,t){return e[t.adunitCode]||(e[t.adunitCode]=[]),e[t.adunitCode].push(t),e}),{});for(var y in b){for(var w=b[y],I=w[0],_=I.id,C=I.banner.topframe,S=g(w[0],"ext.externalID"),x={id:_,banner:{topframe:C,format:w.map((function(e){var t=e.banner;return{w:t.w,h:t.h,ext:e.ext}}))}},A=0;A<x.banner.format.length;A++)null!=x.banner.format[A].ext&&(null!=x.banner.format[A].ext.sid&&delete x.banner.format[A].ext.sid,null!=x.banner.format[A].ext.externalID&&delete x.banner.format[A].ext.externalID),"bidfloor"in w[A]&&(x.banner.format[A].ext.bidfloor=w[A].bidfloor),"{}"===JSON.stringify(x.banner.format[A].ext)&&delete x.banner.format[A].ext;var E=e[t[r]].pos;pt(E)&&(x.banner.pos=E),(l||d||f||p||m||S)&&(x.ext={},x.ext.dfp_ad_unit_code=l,x.ext.gpid=d,x.ext.tid=f,x.ext.sid=p,x.ext.externalID=S,1==m&&(x.ext.ae=1)),"bidfloor"in w[0]&&(x.bidfloor=w[0].bidfloor),"bidfloorcur"in w[0]&&(x.bidfloorcur=w[0].bidfloorcur);var T=e[t[r]].adUnitFPD;T&&Et(x,"ext.data",T),n.imp.push(x)}}return h.length>0&&h.forEach((function(e){if(d&&Et(e,"ext.gpid",d),n.imp.length>0){var t=!1;n.imp.forEach((function(r,i){e.id===r.id&&Go in e?(r.video=e.video,r.video.ext=Rv({},e.video.ext,e.ext),g(r,"video.ext.bidfloor",!1)&&g(r,"bidfloor",!1)&&r.video.ext.bidfloor<r.bidfloor&&(r.bidfloor=r.video.ext.bidfloor),!g(r,"ext.siteID",!1)&&g(e,"video.ext.siteID")&&(Et(r,"ext.siteID",e.video.ext.siteID),Et(n,"ext.ixdiag.usid",!0)),t=!0):e.id===r.id&&Vo in e&&(r.native=e.native,r.native.ext=Rv({},e.native.ext,e.ext),g(r,"native.ext.bidfloor",!1)&&g(r,"bidfloor",!1)&&r.native.ext.bidfloor<r.bidfloor&&(r.bidfloor=r.native.ext.bidfloor),!g(r,"ext.siteID",!1)&&g(e,"native.ext.siteID",!1)&&(Et(r,"ext.siteID",e.native.ext.siteID),Et(n,"ext.ixdiag.usid",!0)),t=!0)})),t||n.imp.push(e)}else n.imp.push(e)})),n}function Sg(e){var t=e&&e.bidderCode||"ix",n=T.getConfig(t),r="";return r=g(e,"ortb2.site.page")?e.ortb2.site.page:g(e,"refererInfo.page"),n&&"object"==typeof n.firstPartyData?function(e,t,n){var r;try{r=new URL(t)}catch(n){Ce("IX Bid Adapter: Invalid URL set in ortb2.site.page: ".concat(t,". Using referer URL instead.")),r=new URL(g(e,"refererInfo.page"))}var i=new URLSearchParams(r.search);for(var o of Object.entries(n)){var a=jv(o,2),s=a[0],c=a[1];i.has(s)||i.append(s,c)}return r.search=i.toString(),r.toString()}(e,r,n.firstPartyData):r}function xg(e,t,n,r,i){if(t.ext.ixdiag.fpd=!0,Object.keys(r).forEach((function(e){-1===Yv.SITE.indexOf(e)&&delete r[e]})),Object.keys(i).forEach((function(e){-1===Yv.USER.indexOf(e)&&delete i[e]})),n.device){var o=Uv({},n.device.sua);De(o)||Et(t,"device.sua",o)}return n.hasOwnProperty("regs")&&!e.gppConsent&&(n.regs.hasOwnProperty("gpp")&&"string"==typeof n.regs.gpp&&Et(t,"regs.gpp",n.regs.gpp),n.regs.hasOwnProperty("gpp_sid")&&Array.isArray(n.regs.gpp_sid)&&Et(t,"regs.gpp_sid",n.regs.gpp_sid)),t}function Ag(e,t){var n=g(t,"ortb2Imp.ext.data");n&&Et(e,"ext.data",n)}function Eg(e,t,n,r,i,o){var a=e[n[r]].pbadslot,s=e[n[r]].tagId,c=e[n[r]].adUnitCode,u=e[n[r]].divId;return(a||s||c||u)&&(t.ext.ixdiag.pbadslot=a,t.ext.ixdiag.tagid=s,t.ext.ixdiag.adunitcode=c,t.ext.ixdiag.divId=u),t}function Tg(e){var t=e.userId||{};return eg.filter((function(e){return t[e]}))}function Og(e,t){if(t)for(var n=0;n<e.length;n++){var r=e[n];if(t[0]===r[0]&&t[1]===r[1]){e.splice(n,1);break}}}function kg(e,t){var n=function(e){var t=mg(e,Vo),n=e.nativeOrtbRequest;n.eventtrackers=[{event:1,methods:[1,2]}],n.privacy=1,t.native={request:JSON.stringify(n),ver:"1.2"};var r=g(e,"ortb2Imp.ext.tid");return r&&Et(t,"ext.tid",r),Ag(t,e),vg(e,t,Vo),t}(e);if(0!=Object.keys(n).length){t[e.adUnitCode]={},t[e.adUnitCode].ixImps=[],t[e.adUnitCode].ixImps.push(n),t[e.adUnitCode].gpid=g(e,"ortb2Imp.ext.gpid"),t[e.adUnitCode].dfp_ad_unit_code=g(e,"ortb2Imp.ext.data.adserver.adslot"),t[e.adUnitCode].pbadslot=g(e,"ortb2Imp.ext.data.pbadslot"),t[e.adUnitCode].tagId=g(e,"params.tagId");var r=e.adUnitCode,i=document.getElementById(r)?r:kv(r).divId;t[e.adUnitCode].adUnitCode=r,t[e.adUnitCode].divId=i}}function jg(e,t){var n=pg(e);if(0!=Object.keys(n).length){t[e.adUnitCode]={},t[e.adUnitCode].ixImps=[],t[e.adUnitCode].ixImps.push(n),t[e.adUnitCode].gpid=g(e,"ortb2Imp.ext.gpid"),t[e.adUnitCode].dfp_ad_unit_code=g(e,"ortb2Imp.ext.data.adserver.adslot"),t[e.adUnitCode].pbadslot=g(e,"ortb2Imp.ext.data.pbadslot"),t[e.adUnitCode].tagId=g(e,"params.tagId");var r=e.adUnitCode,i=document.getElementById(r)?r:kv(r).divId;t[e.adUnitCode].adUnitCode=r,t[e.adUnitCode].divId=i}}function Rg(e,t,n,r){var i=function(e){var t=mg(e,$o);t.banner={},t.adunitCode=e.adUnitCode;var n=g(e,"params.size");return n&&(t.banner.w=n[0],t.banner.h=n[1]),t.banner.topframe=et()?0:1,vg(e,t,$o),t}(e),o=bg(g(e,"mediaTypes.banner.sizes"),g(e,"params.size"));if(n.hasOwnProperty(e.adUnitCode)||(n[e.adUnitCode]={}),n[e.adUnitCode].gpid=g(e,"ortb2Imp.ext.gpid"),n[e.adUnitCode].dfp_ad_unit_code=g(e,"ortb2Imp.ext.data.adserver.adslot"),n[e.adUnitCode].tid=g(e,"ortb2Imp.ext.tid"),n[e.adUnitCode].pbadslot=g(e,"ortb2Imp.ext.data.pbadslot"),n[e.adUnitCode].tagId=g(e,"params.tagId"),n[e.adUnitCode].pos=g(e,"mediaTypes.banner.pos"),g(r,"fledgeEnabled")){var a=g(e,"ortb2Imp.ext.ae");a?pt(a)?n[e.adUnitCode].ae=a:Ce("error setting auction environment flag - must be an integer"):1==g(r,"defaultForSlots")&&(n[e.adUnitCode].ae=1)}var s=g(e,"ortb2Imp.ext.data");s&&(n[e.adUnitCode].adUnitFPD=s);var c=g(e,"params.id");!c||"string"!=typeof c&&"number"!=typeof c||(n[e.adUnitCode].sid=String(c));var u=e.adUnitCode,d=document.getElementById(u)?u:kv(u).divId;n[e.adUnitCode].adUnitCode=u,n[e.adUnitCode].divId=d,o&&(n[e.adUnitCode].hasOwnProperty("ixImps")||(n[e.adUnitCode].ixImps=[]),n[e.adUnitCode].ixImps.push(i)),function(e,t,n){if(t.hasOwnProperty(e.adUnitCode)){var r=[];t[e.adUnitCode].hasOwnProperty("missingSizes")&&(r=t[e.adUnitCode].missingSizes),Og(r,e.params.size),t[e.adUnitCode].missingSizes=r}else if(g(e,"mediaTypes.banner.sizes")){var i=Ze(e.mediaTypes.banner.sizes);Og(i,e.params.size);var o={missingSizes:i,impression:n};t[e.adUnitCode]=o}}(e,t,i)}function zg(e,t,n){var r=Ze(t);return r.banner.w=n[0],r.banner.h=n[1],vg(e,r,$o),r}function Pg(e){"ERROR"===e.type&&e.arguments&&e.arguments[1]&&e.arguments[1].bidder===Fv&&function(e){if(ag.localStorageIsEnabled()){var t;try{t=JSON.parse(ag.getDataFromLocalStorage(rg)||"{}")}catch(e){Ce("ix can not read ixdiag from localStorage.")}var n=new Date;if(Object.keys(t).map((function(e){var r=new Date(e);r.setDate(r.getDate()+7)-n<0&&delete t[e]})),"ERROR"===e.type&&e.arguments&&e.arguments[1]&&e.arguments[1].bidder===Fv){var r=n.toISOString().slice(0,10),i=e.arguments[1].code;i&&(t[r]=t[r]||{},Number(t[r][i])||(t[r][i]=0),t[r][i]++)}ag.setDataInLocalStorage(rg,JSON.stringify(t))}}(e)}function Bg(e){e.renderer.push((function(){var t=e.adUnitCode,n=document.getElementById(t)?t:kv(t).divId;n?window.createIXPlayer(n,e):Ce("IX Bid Adapter: adUnitCode: ".concat(n," not found on page."))}))}function Dg(e,t){var n=mn.install({id:e,url:t,loaded:!1});try{n.setRender(Bg)}catch(e){return Ce("Prebid Error calling setRender on renderer",e),null}return t?n:(Ce("Outstream renderer URL not found"),null)}function Ug(e){if("outstream"!==g(e,"mediaTypes.video.context"))return!1;var t=g(e,"mediaTypes.video.renderer");return t||(t=g(e,"renderer")),!("object"==typeof t&&t.url&&t.render)||t.backupOnly}function Ng(){var e=T.getConfig("exchangeId");return!("number"!=typeof e||!isFinite(e))||!("string"!=typeof e||""===e.trim()||!isFinite(Number(e)))}function Fg(e,t){var n="",r="0";return ug&&ug.hasOwnProperty("gdprApplies")&&(r=ug.gdprApplies?"1":"0"),ug&&ug.hasOwnProperty("consentString")&&(n=ug.consentString||""),"https://dsum.casalemedia.com/pbusermatch?origin=prebid"+(0!==cg?"&site_id="+cg.toString():"")+"&p="+e.toString()+"&i="+t.toString()+"&gdpr="+r+"&gdpr_consent="+n+"&us_privacy="+(dg||"")}function Mg(e){return e.imp.forEach((function(t,n){var r=t.ext;if(null==r)return e;Lg(t)<2||Object.keys(r).forEach((function(i){if($o in t){var o=t.banner.ext;if(void 0!==o&&void 0!==o[i]&&o[i]==r[i]&&delete e.imp[n].banner.ext[i],void 0!==t.banner.format)for(var a=0;a<t.banner.format.length;a++)null!=t.banner.format[a].ext&&null!=t.banner.format[a].ext[i]&&t.banner.format[a].ext[i]==r[i]&&delete e.imp[n].banner.format[a].ext[i]}if(Go in t){var s=t.video.ext;void 0!==s&&void 0!==s[i]&&s[i]==r[i]&&delete e.imp[n].video.ext[i]}if(Vo in t){var c=t.native.ext;void 0!==c&&void 0!==c[i]&&c[i]==r[i]&&delete e.imp[n].native.ext[i]}}))})),e}function qg(e){return e.imp.forEach((function(t,n){if(null==t.ext)return e;if(!(Lg(t)<2)){if($o in t){var r=t.banner.ext;if(void 0!==r&&void 0!==r.siteID&&delete e.imp[n].banner.ext.siteID,void 0!==t.banner.format)for(var i=0;i<t.banner.format.length;i++)void 0!==t.banner.format[i].ext&&void 0!==t.banner.format[i].ext.siteID&&(Et(e.imp[n],"ext.siteID",t.banner.format[i].ext.siteID),Et(e,"ext.ixdiag.usid",!0),delete e.imp[n].banner.format[i].ext.siteID)}if(Go in t){var o=t.video.ext;void 0!==o&&void 0!==o.siteID&&delete e.imp[n].video.ext.siteID}if(Vo in t){var a=t.native.ext;void 0!==a&&void 0!==a.siteID&&delete e.imp[n].native.ext.siteID}}})),e}function Lg(e){var t=0;return void 0!==e.banner&&(t+=1),void 0!==e.video&&(t+=1),void 0!==e.native&&(t+=1),t}function Wg(e){return null==e.device&&(e.device={}),e.device.h=window.screen.height,e.device.w=window.screen.width,e}function Hg(){return Hg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hg.apply(this,arguments)}Fr({code:Fv,gvlid:10,aliases:[{code:Mv,gvlid:10,skipPbsAliasing:!1}],supportedMediaTypes:qv,isBidRequestValid:function(e){og||(Lt(h.FP.AUCTION_DEBUG,Pg),Lt(h.FP.AD_RENDER_FAILED,Pg),og=!0);var t,n,r=g(e,"params.video"),i=g(e,"params.size"),o=g(e,"mediaTypes.banner.sizes"),a=g(e,"mediaTypes.video"),s=g(e,"mediaTypes.video.playerSize"),c=e.params.hasOwnProperty("bidFloor"),u=e.params.hasOwnProperty("bidFloorCur");if(e.hasOwnProperty("mediaType")&&!Fe(qv,e.mediaType))return Ce("IX Bid Adapter: media type is not supported."),!1;if(g(e,"mediaTypes.banner")&&!o)return!1;if(i){var d=wg(i);if(!d)return Se("IX Bid Adapter: size has invalid format.",{bidder:Fv,code:Gv}),!1;if(!bg(e.sizes,d)&&!bg(s,d)&&!bg(o,d))return Se("IX Bid Adapter: bid size is not included in ad unit sizes or player size.",{bidder:Fv,code:$v}),!1}if(!Ng()&&null==e.params.siteId)return Se("IX Bid Adapter: Invalid configuration - either siteId or exchangeId must be configured."),!1;if(void 0!==e.params.siteId){if("string"!=typeof e.params.siteId&&"number"!=typeof e.params.siteId)return Se("IX Bid Adapter: siteId must be string or number type.",{bidder:Fv,code:Xv}),!1;if("string"!=typeof e.params.siteId&&isNaN(Number(e.params.siteId)))return Se("IX Bid Adapter: siteId must valid value",{bidder:Fv,code:Xv}),!1}if((c||u)&&!(c&&u&&(t=e.params.bidFloor,n=e.params.bidFloorCur,Boolean("number"==typeof t&&"string"==typeof n&&n.match(/^[A-Z]{3}$/)))))return Se("IX Bid Adapter: bidFloor / bidFloorCur parameter has invalid format.",{bidder:Fv,code:Qv}),!1;if(a&&r){var l=pg(e).video,f=yg(a,r);if(g(e,"mediaTypes.video.context")===lr&&Ug(e)&&l){var p=[g(l,"w"),g(l,"h")];if(!(p[0]>=Lv[0]&&p[1]>=Lv[1]))return Se("IX Bid Adapter: ".concat(p," is an invalid size for IX outstream renderer")),!1}if(f.length)return f.forEach((function(e){Se(e,{bidder:Fv,code:Jv})})),!1}return function(e){return void 0===g(e,"mediaTypes.native")||e.nativeOrtbRequest&&Array.isArray(e.nativeOrtbRequest.assets)&&e.nativeOrtbRequest.assets.length>0}(e)},resetSiteID:function(){cg=0},buildRequests:function(e,t){var n=[],r={},i={},o={},a={};for(var s in sg.getFeatureToggles(),e.forEach((function(e){var n=Object.keys(g(e,"mediaTypes",{}));for(var s in n)switch(n[s]){case $o:Rg(e,a,r,t);break;case Go:jg(e,i);break;case Vo:kg(e,o);break;default:Ce("IX Bid Adapter: ad unit mediaTypes ".concat(s," is not supported"))}})),a)if(a.hasOwnProperty(s)){var c=a[s].missingSizes;r.hasOwnProperty(s)||(r[s]={}),r[s].hasOwnProperty("missingImps")||(r[s].missingImps=[],r[s].missingCount=0);for(var u=a[s].impression,d=0;d<c.length;d++){var l=zg(e[0],u,c[d]);r[s].missingImps.push(l),r[s].missingCount++}}var f,p=[];return Object.keys(r).length>0&&p.push(r),Object.keys(i).length>0&&p.push(i),Object.keys(o).length>0&&p.push(o),sg.isFeatureEnabled("pbjs_enable_multiformat")?n.push.apply(n,zv(_g(e,t,(f={},p.forEach((function(e){Object.keys(e).forEach((function(t){Object.keys(f).includes(t)?f[t].hasOwnProperty("ixImps")&&e[t].hasOwnProperty("ixImps")?f[t].ixImps=[].concat(zv(f[t].ixImps),zv(e[t].ixImps)):f[t].hasOwnProperty("missingImps")&&e[t].hasOwnProperty("missingImps")?f[t].missingImps=[].concat(zv(f[t].missingImps),zv(e[t].missingImps)):e[t].hasOwnProperty("ixImps")?f[t].ixImps=e[t].ixImps:e[t].hasOwnProperty("missingImps")&&(f[t].missingImps=e[t].missingImps):f[t]=e[t]}))})),f)))):(Object.keys(r).length>0&&n.push.apply(n,zv(_g(e,t,r))),Object.keys(i).length>0&&n.push.apply(n,zv(_g(e,t,i))),Object.keys(o).length>0&&n.push.apply(n,zv(_g(e,t,o)))),n},interpretResponse:function(e,t){var n=[],r=null,i=g(e,"body.ext.protectedAudienceAuctionConfigs")||[];if(sg.setFeatureToggles(e),!e.hasOwnProperty("body"))return n;for(var o=e.body,a=o.seatbid||[],s=0;s<a.length;s++)if(a[s].hasOwnProperty("bid")){for(var c=a[s].bid,u=t.data,d=0;d<c.length;d++){var l=Ig(c[d].impid,u.imp,t.validBidRequests);if((r=gg(c[d],o.cur,l)).mediaType===Go&&Ug(l)){var f=g(o,"ext.videoplayerurl");if(r.renderer=Dg(c[d].bidId,f),!r.renderer)continue}n.push(r)}if(g(u,"ext.ixdiag.err")&&ag.localStorageIsEnabled())try{ag.removeDataFromLocalStorage(rg)}catch(e){Se("ix can not clear ixdiag from localStorage.")}}if(!(Array.isArray(i)&&i.length>0))return n;i=i.filter((function(e){return!!function(e){return"object"==typeof e&&null!==e}(e)||(Ce("Malformed auction config detected:",e),!1)}));try{return{bids:n,fledgeAuctionConfigs:i}}catch(e){return Ce("Error attaching AuctionConfigs",e),n}},transformBidParams:function(e,t){return Kd({siteID:"number"},e)},getUserSyncs:function(e,t){var n=[],r=null;if(t.length>0&&(r=g(t[0],"body.ext.publishersyncsperbidderoverride")),void 0!==r&&0==r)return[];if(e.iframeEnabled)n.push({type:"iframe",url:"https://js-sec.indexww.com/um/ixmatch.html"});else{var i=null;T.getConfig("userSync")&&(i=T.getConfig("userSync").syncsPerBidder),0===i&&(i=r),i=r&&(0===i||i)?r>i?i:r:1;for(var o=0;o<i;o++)n.push({type:"image",url:Fg(i,o)})}return n}}),i("ixBidAdapter");var Vg="ttd",Gg="https://match.adsrvr.org",$g=1,Jg=2;function Xg(e){var t;return{ttdprebid:{ver:"TTD-PREBID-2023.09.05",pbjs:"8.33.0",keywords:null!==(t=e.site)&&void 0!==t&&t.keywords?e.site.keywords.split(",").map((function(e){return e.trim()})):[]}}}function Qg(e){var t,n={};return e.gdprConsent&&"boolean"==typeof e.gdprConsent.gdprApplies&&Et(n,"ext.gdpr",e.gdprConsent.gdprApplies?1:0),e.uspConsent&&Et(n,"ext.us_privacy",e.uspConsent),!0===T.getConfig("coppa")&&(n.coppa=1),null!==(t=e.ortb2)&&void 0!==t&&t.regs&&_t(n,e.ortb2.regs),n}function Kg(e,t){var n,r,i={tid:null==t||null===(n=t.ortb2)||void 0===n||null===(r=n.source)||void 0===r?void 0:r.tid};return e[0].schain&&Et(i,"ext.schain",e[0].schain),i}function Yg(e){var t=navigator.language||navigator.browserLanguage||navigator.userLanguage||navigator.systemLanguage,n={ua:navigator.userAgent,dnt:ut()?1:0,language:t,connectiontype:Zg()};return _t(n,e.device),n}function Zg(){var e=navigator.connection||navigator.webkitConnection;if(!e)return 0;switch(e.type){case"ethernet":return 1;case"wifi":return 2;case"cellular":switch(e.effectiveType){case"slow-2g":case"2g":return 4;case"3g":return 5;case"4g":return 6;default:return 3}default:return 0}}function eh(e,t){var n={};e.gdprConsent&&Et(n,"ext.consent",e.gdprConsent.consentString),je(g(e,"bids.0.userId.tdid"))&&(n.buyeruid=e.bids[0].userId.tdid);var r=g(e,"bids.0.userIdAsEids");return r&&r.length&&Et(n,"ext.eids",r),_t(n,t.user),n}function th(e,t){var n=_t({page:g(e,"refererInfo.page"),ref:g(e,"refererInfo.ref"),publisher:{id:g(e,"bids.0.params.publisherId")}},t.site),r=e.refererInfo.domain;return r&&Et(n,"publisher.domain",r),n}function nh(e){var t={id:e.bidId},n=g(e,"ortb2Imp.ext.gpid")||e.params.placementId;n&&(t.tagid=n);var r=g(e,"mediaTypes.video"),i={};g(e,"mediaTypes.banner")&&(i[$o]=function(e){var t=function(e){return me(e).filter((function(e){return e})).map((function(e){return e.split("x")})).map((function(e){return{width:parseInt(e[0]),height:parseInt(e[1])}}))}(e.mediaTypes.banner.sizes).map((function(e){return{w:e.width,h:e.height}})),n=parseInt(g(e,"mediaTypes.banner.pos")),r=g(e,"params.banner.expdir"),i={};n&&(i.pos=n),r&&Array.isArray(r)&&(i.expdir=r);var o=Hg({w:t[0].w,h:t[0].h,format:t},i),a=g(e,"ortb2Imp.battr");return a&&(o.battr=a),o}(e)),r&&(i[Go]=function(e){var t=g(e,"mediaTypes.video.minduration"),n=g(e,"mediaTypes.video.maxduration"),r=g(e,"mediaTypes.video.playerSize"),i=g(e,"mediaTypes.video.api"),o=g(e,"mediaTypes.video.mimes"),a=g(e,"mediaTypes.video.placement"),s=g(e,"mediaTypes.video.plcmt"),c=g(e,"mediaTypes.video.protocols"),u=g(e,"mediaTypes.video.playbackmethod"),d=g(e,"mediaTypes.video.pos"),l=g(e,"mediaTypes.video.startdelay"),f=g(e,"mediaTypes.video.skip"),p=g(e,"mediaTypes.video.skipmin"),m=g(e,"mediaTypes.video.skipafter"),v=g(e,"mediaTypes.video.minbitrate"),h=g(e,"mediaTypes.video.maxbitrate");t&&pt(t)||(t=0);var b={minduration:t,maxduration:n,api:i,mimes:o,placement:a,protocols:c};void 0!==r&&(Re(r[0])?(b.w=parseInt(r[0][0]),b.h=parseInt(r[0][1])):ze(r[0])&&(b.w=parseInt(r[0]),b.h=parseInt(r[1]))),u&&(b.playbackmethod=u),s&&(b.plcmt=s),d&&(b.pos=d),l&&pt(l)&&(b.startdelay=l),!f||0!==f&&1!==f||(b.skip=f),p&&pt(p)&&(b.skipmin=p),m&&pt(m)&&(b.skipafter=m),v&&pt(v)&&(b.minbitrate=v),h&&pt(h)&&(b.maxbitrate=h);var y=g(e,"ortb2Imp.battr");return y&&(b.battr=y),b}(e)),Hg(t,i);var o=function(e){if(e.params.bidfloor)return e.params.bidfloor;if(!ke(e.getFloor))return null;var t=e.getFloor({currency:"USD",mediaType:"*",size:"*"});return Pe(t)&&!isNaN(t.floor)&&"USD"===t.currency?t.floor:null}(e);o&&(t.bidfloor=parseFloat(o),t.bidfloorcur="USD");var a=g(e,"ortb2Imp.secure");return t.secure=ze(a)?a:1,_t(t,e.ortb2Imp),t}var rh={code:Vg,gvlid:21,aliases:["thetradedesk"],supportedMediaTypes:[$o,Go],isBidRequestValid:function(e){if(!e||!e.params)return Ce("ttd: Missing bid parameters"),!1;if(!e.params.supplySourceId)return Ce("ttd: Missing required parameter params.supplySourceId"),!1;if(!/^[\w+]+$/.test(e.params.supplySourceId))return Ce("ttd: supplySourceId must only contain alphabetic characters"),!1;if(!e.params.publisherId)return Ce("ttd: Missing required parameter params.publisherId"),!1;if(e.params.publisherId.length>32)return Ce("ttd: params.publisherId must be 32 characters or less"),!1;if(e.params.bidfloor&&isNaN(parseFloat(e.params.bidfloor)))return!1;var t=g(e,"ortb2Imp.ext.gpid");if(!e.params.placementId&&!t)return Ce("ttd: one of params.placementId or gpid (via the GPT module https://docs.prebid.org/dev-docs/modules/gpt-pre-auction.html) must be passed"),!1;var n=g(e,"mediaTypes.banner"),r=g(e,"mediaTypes.video");if(!n&&!r)return Ce("ttd: one of mediaTypes.banner or mediaTypes.video must be passed"),!1;if(r){if(!r.maxduration||!pt(r.maxduration))return Ce("ttd: mediaTypes.video.maxduration must be set to the maximum video ad duration in seconds"),!1;if(!r.api||0===r.api.length)return Ce("ttd: mediaTypes.video.api should be an array of supported api frameworks. See the Open RTB v2.5 spec for valid values"),!1;if(!r.mimes||0===r.mimes.length)return Ce("ttd: mediaTypes.video.mimes should be an array of supported mime types"),!1;if(!r.protocols)return Ce("ttd: mediaTypes.video.protocols should be an array of supported protocols. See the Open RTB v2.5 spec for valid values"),!1}return!0},buildRequests:function(e,t){var n=t.ortb2||{},r={id:t.bidderRequestId,imp:e.map((function(e){return nh(e)})),site:th(t,n),device:Yg(n),user:eh(t,n),at:1,cur:["USD"],regs:Qg(t),source:Kg(e,t),ext:Xg(n)};return n&&n.bcat&&(r.bcat=n.bcat),n&&n.badv&&(r.badv=n.badv),n&&n.app&&(r.app=n.app),n&&n.pmp&&(r.pmp=n.pmp),{method:"POST",url:"https://direct.adsrvr.org/bid/bidder/"+t.bids[0].params.supplySourceId,data:r,options:{withCredentials:!0}}},interpretResponse:function(e,t){var n=g(e,"body.seatbid"),r=g(e,"body.cur");if(!n||0===n.length)return[];var i=[],o=g(t,"data.imp");return n.forEach((function(e){e.bid.forEach((function(e){var t=o.find((function(t){return t.id===e.impid})),n=e.price||0,a={requestId:e.impid,cpm:n,creativeId:e.crid,dealId:e.dealid||null,currency:r||"USD",netRevenue:!0,ttl:e.ttl||360,meta:{}};e.adomain&&e.adomain.length>0&&(a.meta.advertiserDomains=e.adomain),e.ext.mediatype===$g?Hg(a,{width:e.w,height:e.h,ad:nt(e.adm,n),mediaType:$o}):e.ext.mediatype===Jg&&(Hg(a,{width:t.video.w,height:t.video.h,mediaType:Go}),e.nurl?a.vastUrl=nt(e.nurl,n):a.vastXml=nt(e.adm,n)),i.push(a)}))})),i},getUserSyncs:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=[],o="&gdpr=".concat(n.gdprApplies?1:0,"&gdpr_consent=").concat(encodeURIComponent(n.consentString)),a="".concat(Gg,"/track/usersync?us_privacy=").concat(encodeURIComponent(r)).concat(o);return e.pixelEnabled?i.push({type:"image",url:a+"&ust=image"}):e.iframeEnabled&&i.push({type:"iframe",url:a+"&ust=iframe"}),i}};function ih(){return ih=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ih.apply(this,arguments)}Fr(rh),i("ttdBidAdapter");var oh="exchange",ah="kueezrtb",sh="1.0.0",ch=9e5,uh=Uo({bidderCode:ah});function dh(){try{return yt(window.top.document.URL,{decodeSearchAsString:!0}).search}catch(e){return""}}function lh(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oh;return"https://".concat(e,".kueezrtb.com")}function fh(e){return e.cId||e.CID||e.cID||e.CId||e.cid||e.ciD||e.Cid||e.CiD}function ph(e){return e.pId||e.PID||e.pID||e.PId||e.pid||e.piD||e.Pid||e.PiD}function mh(e,t,n,r,i){var o,a,s=e.params,c=e.bidId,u=e.userId,d=e.adUnitCode,l=e.schain,f=e.mediaTypes,p=e.auctionId,m=e.transactionId,v=e.bidderRequestId,h=e.bidRequestsCount,b=e.bidderRequestsCount,y=e.bidderWinsCount,w=s.bidFloor,I=s.ext,_=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_",n=e.length,r=0,i=0;if(n>0)for(;i<n;)r=(r<<5)-r+e.charCodeAt(i++)|0;return t+r}(t),C=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ch,r="u_".concat(e),i=Date.now(),o=vh(r);return!o||!o.value||i-o.created>n?gh(r,t="".concat(e,"_").concat(i.toString())):t=o.value,t}(_),S=fh(s),x=ph(s),A=function(e){return e.subDomain||e.SubDomain||e.Subdomain||e.subdomain||e.SUBDOMAIN||e.subDOMAIN}(s),E=g(e,"ortb2Imp.ext.gpid",g(e,"ortb2Imp.ext.data.pbadslot",""));if(ke(e.getFloor)){var T=e.getFloor({currency:"USD",mediaType:"*",size:"*"});"USD"===T.currency&&(w=T.floor)}var O,k,j={url:encodeURIComponent(t),uqs:dh(),cb:Date.now(),bidFloor:w,bidId:c,referrer:r.refererInfo.ref,adUnitCode:d,publisherId:x,sizes:n,uniqueDealId:C,bidderVersion:sh,prebidVersion:"8.33.0",res:"".concat(screen.width,"x").concat(screen.height),schain:l,mediaTypes:f,gpid:E,auctionId:p,transactionId:m,bidderRequestId:v,bidRequestsCount:h,bidderRequestsCount:b,bidderWinsCount:y,bidderTimeout:i};O=j,Ne(u,(function(e,t){switch(k="uid.".concat(t),t){case"digitrustid":O[k]=g(e,"data.id");break;case"lipb":O[k]=e.lipbid;break;case"parrableId":O[k]=e.eid;break;case"id5id":O[k]=e.uid;break;default:O[k]=e}}));var R=g(r,"ortb2.device.sua");R&&(j.sua=R),r.gdprConsent&&(r.gdprConsent.consentString&&(j.gdprConsent=r.gdprConsent.consentString),void 0!==r.gdprConsent.gdprApplies&&(j.gdpr=r.gdprConsent.gdprApplies?1:0)),r.uspConsent&&(j.usPrivacy=r.uspConsent),r.gppConsent?(j.gppString=r.gppConsent.gppString,j.gppSid=r.gppConsent.applicableSections):null!==(o=r.ortb2)&&void 0!==o&&null!==(a=o.regs)&&void 0!==a&&a.gpp&&(j.gppString=r.ortb2.regs.gpp,j.gppSid=r.ortb2.regs.gpp_sid);var z={method:"POST",url:"".concat(lh(A),"/prebid/multi/").concat(S),data:j};return Ne(I,(function(e,t){z.data["ext."+t]=e})),z}function vh(e){try{return function(e){try{return JSON.parse(e)}catch(t){return e}}(uh.getDataFromLocalStorage(e))}catch(e){}return null}function gh(e,t,n){try{var r=n||Date.now(),i=JSON.stringify({value:t,created:r});uh.setDataInLocalStorage(e,i)}catch(e){}}var hh={code:ah,version:sh,gvlid:1165,supportedMediaTypes:[$o,Go],isBidRequestValid:function(e){var t=e.params||{};return!(!fh(t)||!ph(t))},buildRequests:function(e,t){var n=t.refererInfo.page||t.refererInfo.topmostLocation,r=T.getConfig("bidderTimeout"),i=[];return e.forEach((function(e){var o=me(e.sizes),a=mh(e,n,o,t,r);i.push(a)})),i},interpretResponse:function(e,t){if(!e||!e.body)return[];var n=t.data.bidId,r=e.body.results,i=[];try{return r.forEach((function(e){var t=e.creativeId,r=e.ad,o=e.price,a=e.exp,s=e.width,c=e.height,u=e.currency,d=e.metaData,l=e.advertiserDomains,f=e.mediaType,p=void 0===f?$o:f;if(r&&o){var m={requestId:n,cpm:o,width:s,height:c,creativeId:t,currency:u||"USD",netRevenue:!0,ttl:a||300};ih(m,d?{meta:d}:{meta:{advertiserDomains:l||[]}}),ih(m,p===$o?{ad:r}:{vastXml:r,mediaType:Go}),i.push(m)}})),i}catch(e){return[]}},getUserSyncs:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=[],a=e.iframeEnabled,s=e.pixelEnabled,c=n.gdprApplies,u=n.consentString,d=void 0===u?"":u,l=i.gppString,f=i.applicableSections,p=t.filter((function(e){return g(e,"body.cid")})).map((function(e){return e.body.cid})).filter($e),m="?cid=".concat(encodeURIComponent(p.join(",")),"&gdpr=").concat(c?1:0,"&gdpr_consent=").concat(encodeURIComponent(d||""),"&us_privacy=").concat(encodeURIComponent(r||""));return l&&null!=f&&f.length&&(m+="&gpp="+encodeURIComponent(l),m+="&gpp_sid="+encodeURIComponent(f.join(","))),a&&o.push({type:"iframe",url:"https://sync.kueezrtb.com/api/sync/iframe/".concat(m)}),s&&o.push({type:"image",url:"https://sync.kueezrtb.com/api/sync/image/".concat(m)}),o}};Fr(hh),i("kueezRtbBidAdapter");var bh="",yh={code:"richaudience",gvlid:108,aliases:["ra"],supportedMediaTypes:[$o,Go],isBidRequestValid:function(e){return!!(e.params&&e.params.pid&&e.params.supplyType)},buildRequests:function(e,t){return e.map((function(e){var n,r,i,o={bidfloor:Eh(e,T),ifa:e.params.ifa,pid:e.params.pid,supplyType:e.params.supplyType,currencyCode:T.getConfig("currency.adServerCurrency"),auctionId:e.auctionId,bidId:e.bidId,BidRequestsCount:e.bidRequestsCount,bidder:e.bidder,bidderRequestId:e.bidderRequestId,tagId:e.adUnitCode,sizes:wh(e),referer:void 0!==t.refererInfo.page?encodeURIComponent(t.refererInfo.page):null,numIframes:void 0!==t.refererInfo.numIframes?t.refererInfo.numIframes:null,transactionId:null===(n=e.ortb2Imp)||void 0===n||null===(r=n.ext)||void 0===r?void 0:r.tid,timeout:T.getConfig("bidderTimeout"),user:Ch(e),demand:Ih(e),videoData:_h(e),scr_rsl:(i="",void 0!==window.screen&&(i=window.screen.width+"x"+window.screen.height),i),cpuc:void 0!==window.navigator?window.navigator.hardwareConcurrency:null,kws:Od(t.ortb2,e.params.keywords).join(","),schain:e.schain,gpid:Ah(e)};return bh=void 0!==t.refererInfo.page?encodeURIComponent(t.refererInfo.page):null,o.gdpr_consent="",o.gdpr=!1,t&&t.gdprConsent&&(void 0!==t.gdprConsent.gdprApplies&&(o.gdpr=t.gdprConsent.gdprApplies),void 0!==t.gdprConsent.consentString&&(o.gdpr_consent=t.gdprConsent.consentString)),{method:"POST",url:"https://shb.richaudience.com/hb/",data:JSON.stringify(o)}}))},interpretResponse:function(e,t){var n=[],r=e.body;if(r){var i={requestId:JSON.parse(t.data).bidId,cpm:r.cpm,width:r.width,height:r.height,creativeId:r.creative_id,mediaType:r.media_type,netRevenue:r.netRevenue,currency:r.currency,ttl:r.ttl,meta:r.adomain,dealId:r.dealId};if("video"===r.media_type){i.vastXml=r.vastXML;try{null!=i.vastXml&&("outstream"!=JSON.parse(t.data).videoData.format&&"banner"!=JSON.parse(t.data).videoData.format||(i.renderer=mn.install({id:t.bidId,adunitcode:t.tagId,loaded:!1,config:r.media_type,url:"https://cdn3.richaudience.com/prebidVideo/player.js"})),i.renderer.setRender(xh))}catch(e){i.ad=r.adm}}else i.ad=r.adm;n.push(i)}return n},getUserSyncs:function(e,t,n){var r,i=[],o=Math.floor(9999999999*Math.random()),a="",s="";return r=function(e){try{var t=null,n={};return null!=e.getConfig("userSync").filterSettings&&void 0!==e.getConfig("userSync").filterSettings&&(null!=(t=e.getConfig("userSync").filterSettings).iframe&&void 0!==t.iframe&&(n.raiIframe="richaudience"==t.iframe.bidders||"*"==t.iframe.bidders?t.iframe.filter:"exclude"),null!=t.image&&void 0!==t.image&&(n.raiImage="richaudience"==t.image.bidders||"*"==t.image.bidders?t.image.filter:"exclude")),n}catch(e){return null}}(T),n&&"string"==typeof n.consentString&&void 0!==n.consentString&&(s="consentString=".concat(n.consentString)),e.iframeEnabled&&"exclude"!=r.raiIframe&&(a="https://sync.richaudience.com/dcf3528a0b8aa83634892d50e91c306e/?ord="+o,""!=s&&(a+="&".concat(s)),i.push({type:"iframe",url:a})),e.pixelEnabled&&null!=bh&&0==i.length&&"exclude"!=r.raiImage&&(a="https://sync.richaudience.com/bf7c142f4339da0278e83698a02b0854/?referrer=".concat(bh),""!=s&&(a+="&".concat(s)),i.push({type:"image",url:a})),i},onTimeout:function(e){var t=function(e){var t=e[0],n=t.params,r=t.timeout,i="https://s.richaudience.com/err/?ec=6&ev=[timeout_publisher]&pla=[placement_hash]&int=PREBID&pltfm=&node=&dm=[domain]";return i=(i=i.replace("[timeout_publisher]",r)).replace("[placement_hash]",n[0].pid),null!=bh&&(i=i.replace("[domain]",document.location.host)),i}(e);t&&We(t)}};function wh(e){var t;if(e.mediaTypes&&e.mediaTypes.banner&&e.mediaTypes.banner.sizes&&(t=e.mediaTypes.banner.sizes),null!=t)return t.map((function(e){return{w:e[0],h:e[1]}}))}function Ih(e){var t="display";return void 0!==e.sizes&&e.sizes.forEach((function(e){("1800"==e[0]&&"1000"==e[1]||"1"==e[0]&&"1"==e[1])&&(t="skin")})),null!=e.mediaTypes&&null!=e.mediaTypes.video&&(t="video"),t}function _h(e){return"video"==Ih(e)?{format:e.mediaTypes.video.context,playerSize:e.mediaTypes.video.playerSize,mimes:e.mediaTypes.video.mimes}:{format:"banner"}}function Ch(e){var t=[];return e&&e.userId&&(Sh(0,t,"id5-sync.com",g(e,"userId.id5id.uid")),Sh(0,t,"pubcommon",g(e,"userId.pubcid")),Sh(0,t,"criteo.com",g(e,"userId.criteoId")),Sh(0,t,"liveramp.com",g(e,"userId.idl_env")),Sh(0,t,"liveintent.com",g(e,"userId.lipb.lipbid")),Sh(0,t,"adserver.org",g(e,"userId.tdid"))),t}function Sh(e,t,n,r){je(r)&&t.push({userId:r,source:n})}function xh(e){e.renderer.push((function(){!function(e){var t="".concat(e.vastXml),n={config:null!=e.params[0].player?{end:null!=e.params[0].player.end?e.params[0].player.end:"close",init:null!=e.params[0].player.init?e.params[0].player.init:"close",skin:null!=e.params[0].player.skin?e.params[0].player.skin:"light"}:{end:"close",init:"close",skin:"light"},pid:e.params[0].pid,adUnit:e.adUnitCode};window.raParams(n,t,!0)}(e)}))}function Ah(e){var t="";return null!=g(e,"ortb2Imp.ext.data.pbadslot")&&(t=g(e,"ortb2Imp.ext.data.pbadslot")),t}function Eh(e,t){try{var n;return null!=e.params.bidfloor?n=e.params.bidfloor:"function"==typeof e.getFloor&&(n=e.getFloor({currency:null!=t.getConfig("floors.data.currency")?t.getConfig("floors.data.currency"):"USD",mediaType:"object"==typeof e.mediaTypes.banner?"banner":"video",size:"*"}).floor),n}catch(e){return 0}}function Th(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Oh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Th(Object(n),!0).forEach((function(t){kh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Th(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function kh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jh(){return jh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jh.apply(this,arguments)}function Rh(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||Ph(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zh(e){return function(e){if(Array.isArray(e))return Bh(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ph(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ph(e,t){if(e){if("string"==typeof e)return Bh(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Bh(e,t):void 0}}function Bh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Dh(e){var t=e.apiName,n=e.apiVersion,r=e.apiArgs,i=void 0===r?["command","callback","parameter","version"]:r,o=e.callbackArgs,a=void 0===o?["returnValue","success"]:o,s=e.mode,c=void 0===s?0:s,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window,d={},l="".concat(t,"Call"),f="".concat(t,"Return");function p(e){var t,n="string"==typeof e.data&&e.data.includes(f)?JSON.parse(e.data):e.data;if(null!=n&&null!==(t=n[f])&&void 0!==t&&t.callId){var r=n[f];d.hasOwnProperty(r.callId)&&d[r.callId].apply(d,zh(a.map((function(e){return r[e]}))))}}function m(){for(var e,n=u,r=!1;null!=n;){try{if("function"==typeof n[t]){e=n,r=!0;break}}catch(e){}try{if(n.frames["".concat(t,"Locator")]){e=n;break}}catch(e){}if(n===u.top)break;n=n.parent}return[e,r]}var v,g=m(),h=Rh(g,2),b=h[0],y=h[1];if(b)return y?v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new W((function(n,r){var i=b[t].apply(b,zh(w(Oh(Oh({},e),{},{callback:e.callback||2===c?I(e.callback,n,r):void 0})).map((function(e){var t=Rh(e,2);return t[0],t[1]}))));(1===c||null==e.callback&&0===c)&&n(i)}))}:(u.addEventListener("message",p,!1),v=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new W((function(n,r){var i=Math.random().toString(),o=kh({},l,Oh(Oh({},Object.fromEntries(w(e).filter((function(e){return"callback"!==Rh(e,1)[0]})))),{},{callId:i}));d[i]=I(null==e?void 0:e.callback,n,r,(t||null==(null==e?void 0:e.callback))&&function(){delete d[i]}),b.postMessage(o,"*"),1===c&&n()}))}),jh(v,{isDirect:y,close:function(){!y&&u.removeEventListener("message",p)}});function w(e){return e=jh({version:n},e),i.map((function(t){return[t,e[t]]}))}function I(e,t,n,r){var i="function"==typeof e;return function(o,a){if(r&&r(),1!==c){var s=null==a||a?t:n;s(i?void 0:o)}i&&e.apply(this,arguments)}}}Fr(yh),i("richaudienceBidAdapter");var Uh,Nh,Fh,Mh,qh,Lh,Wh=!1,Hh={iab:function(e){var t=e.onSuccess,n=e.onError,r=e.onEvent,i=Dh({apiName:"__tcfapi",apiVersion:2,apiArgs:["command","version","callback","parameter"]});if(!i)return n("TCF2 CMP not found.");i.isDirect?_e("Detected CMP API is directly accessible, calling it now..."):_e("Detected CMP is outside the current iframe where Prebid.js is located, calling it now..."),i({command:"addEventListener",callback:function(e,i){_e("Received a response from CMP",e),i?(r(e),!1!==e.gdprApplies&&"tcloaded"!==e.eventStatus&&"useractioncomplete"!==e.eventStatus||$h(e,{onSuccess:t,onError:n})):n("CMP unable to register callback function.  Please check CMP setup.")}})},static:function(e){var t=e.onSuccess,n=e.onError;$h(Mh,{onSuccess:t,onError:n})}};function Vh(e){var t,n,r=!1,i=null,a=!1;function s(e){null!=i&&clearTimeout(i),r||null==e||(0===e?t():i=setTimeout(t,e))}function c(t,n,i){if(s(null),r=!0,zi.setConsentData(t),"function"==typeof e){for(var o=arguments.length,a=new Array(o>3?o-3:0),c=3;c<o;c++)a[c-3]=arguments[c];e.apply(void 0,[n,i].concat(a))}}if(o(Object.keys(Hh),Uh)){var u={onSuccess:function(e){return c(e,!1)},onError:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];c.apply(void 0,[null,!0,e].concat(n))},onEvent:function(e){n=e,a||(a=!0,null!=qh&&s(qh))}};t=function(){var e=function(e){c(e,!1,"".concat(a?"Timeout waiting for user action on CMP":"CMP did not load",", continuing auction..."))};$h(n,{onSuccess:e,onError:function(){return e(Jh(void 0))}})},Hh[Uh](u),null!=qh&&a||s(Nh)}else c(null,!1,"CMP framework (".concat(Uh,") is not a supported framework.  Aborting consentManagement module and resuming auction."))}var Gh=jr("gdpr",(function(e,t){var n;n=function(n,r){if(r){var i=Ce;n&&(i=Se,r="".concat(r," Canceling auction as per consentManagement config."));for(var o=arguments.length,a=new Array(o>2?o-2:0),s=2;s<o;s++)a[s-2]=arguments[s];i.apply(void 0,[r].concat(a))}n?(e.stopTiming(),"function"==typeof t.bidsBackHandler?t.bidsBackHandler():Se("Error executing bidsBackHandler")):e.call(this,t)},Lh?(_e("User consent information already known.  Pulling internally stored information..."),n(!1)):Vh(n)}));function $h(e,t){var n=t.onSuccess,r=t.onError;!function(){var t=e&&"boolean"==typeof e.gdprApplies?e.gdprApplies:Fh,n=e&&e.tcString;return!("boolean"==typeof t&&(!0!==t||n&&je(n)))}()?n(Jh(e)):r("CMP returned unexpected value during lookup process.",e)}function Jh(e){return Lh={consentString:e?e.tcString:void 0,vendorData:e||void 0,gdprApplies:e&&"boolean"==typeof e.gdprApplies?e.gdprApplies:Fh},e&&e.addtlConsent&&je(e.addtlConsent)&&(Lh.addtlConsent=e.addtlConsent),Lh.apiVersion=2,Lh}T.getConfig("consentManagement",(function(e){return function(e){var t;(e=e&&(e.gdpr||e.usp||e.gpp?e.gdpr:e))&&"object"==typeof e?(je(e.cmpApi)?Uh=e.cmpApi:(Uh="iab",_e("consentManagement config did not specify cmp.  Using system default setting (".concat("iab",")."))),ze(e.timeout)?Nh=e.timeout:(Nh=1e4,_e("consentManagement config did not specify timeout.  Using system default setting (".concat(1e4,")."))),qh=ze(e.actionTimeout)?e.actionTimeout:null,Fh=!0===e.defaultGdprScope,_e("consentManagement module has been activated..."),"static"===Uh&&(Pe(e.consentData)?(null!=(null===(t=Mh=e.consentData)||void 0===t?void 0:t.getTCData)&&(Mh=Mh.getTCData),Nh=0):Se("consentManagement config with cmpApi: 'static' did not specify consentData. No consents will be available to adapters.")),Wh||r().requestBids.before(Gh,50),Wh=!0,zi.enable(),Vh()):Ce("consentManagement (gdpr) config not defined, exiting consent manager")}(e.consentManagement)})),xc.before((function(e,t){return e(t.then((function(e){var t=zi.getConsentData();return t&&("boolean"==typeof t.gdprApplies&&Et(e,"regs.ext.gdpr",t.gdprApplies?1:0),Et(e,"user.ext.consent",t.consentString)),e})))})),nd({type:Ju,name:"gdprAddtlConsent",fn:function(e,t){var n,r=null===(n=t.gdprConsent)||void 0===n?void 0:n.addtlConsent;r&&"string"==typeof r&&Et(e,"user.ext.ConsentedProvidersSettings.consented_providers",r)}}),i("consentManagement");var Xh,Qh,Kh="iab",Yh=Kh,Zh=50,eb=!1,tb={iab:function(e){var t,n=e.onSuccess,r=e.onError,i=(t={},{consentDataCallback:function(e,i){i&&e.uspString&&(t.usPrivacy=e.uspString),t.usPrivacy?ib(t,{onSuccess:n,onError:r}):r("Unable to get USP consent string.")}}),o=Dh({apiName:"__uspapi",apiVersion:1,apiArgs:["command","version","callback"]});if(!o)return r("USP CMP not found.");o.isDirect?_e("Detected USP CMP is directly accessible, calling it now..."):_e("Detected USP CMP is outside the current iframe where Prebid.js is located, calling it now..."),o({command:"getUSPData",callback:i.consentDataCallback}),o({command:"registerDeletion",callback:function(e,t){return(null==t||t)&&jo.callDataDeletionRequest(e)}}).catch((function(e){Se("Error invoking CMP `registerDeletion`:",e)}))},static:function(e){var t=e.onSuccess,n=e.onError;ib(Xh,{onSuccess:t,onError:n})}};function nb(e){var t=null,n=!1;function r(r,i){if(null!=t&&clearTimeout(t),n=!0,Pi.setConsentData(r),null!=e){for(var o=arguments.length,a=new Array(o>2?o-2:0),s=2;s<o;s++)a[s-2]=arguments[s];e.apply(void 0,[i].concat(a))}}if(tb[Yh]){var i={onSuccess:r,onError:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];r.apply(void 0,[null,"".concat(e," Resuming auction without consent data as per consentManagement config.")].concat(n))}};tb[Yh](i),n||(0===Zh?ib(void 0,i):t=setTimeout(i.onError.bind(null,"USPAPI workflow exceeded timeout threshold."),Zh))}else r(null,"USP framework (".concat(Yh,") is not a supported framework. Aborting consentManagement module and resuming auction."))}var rb=jr("usp",(function(e,t){var n=this;eb||ob(),nb((function(r){if(null!=r){for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];Ce.apply(void 0,[r].concat(o))}e.call(n,t)}))}));function ib(e,t){var n=t.onSuccess,r=t.onError;e&&e.usPrivacy?(function(e){e&&e.usPrivacy&&(Qh=e.usPrivacy)}(e),n(Qh)):r("USPAPI returned unexpected value during lookup process.",e)}function ob(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];eb||(_e("USPAPI consentManagement module has been activated".concat(e?"":" using default values (api: '".concat(Yh,"', timeout: ").concat(Zh,"ms)"))),eb=!0,Pi.enable()),nb()}function ab(){return ab=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ab.apply(this,arguments)}function sb(e,t,n){return t=fb(t),function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){return!1}}()?Reflect.construct(t,n||[],fb(e).constructor):t.apply(e,n))}function cb(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ub(e,t)}function ub(e,t){return ub=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ub(e,t)}function db(){return db="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=lb(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},db.apply(this,arguments)}function lb(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=fb(e)););return e}function fb(e){return fb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},fb(e)}function pb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pb(Object(n),!0).forEach((function(t){hb(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vb(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||xb(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gb(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function hb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bb(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,wb(e,t,"get"))}function yb(e,t){return function(e,t){if(t.set)return"__destrObj"in t||(t.__destrObj={set value(n){t.set.call(e,n)}}),t.__destrObj;if(!t.writable)throw new TypeError("attempted to set read only private field");return t}(e,wb(e,t,"set"))}function wb(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function Ib(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _b(e,t,n){return t&&Ib(e.prototype,t),n&&Ib(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Cb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sb(e){return function(e){if(Array.isArray(e))return Ab(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||xb(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xb(e,t){if(e){if("string"==typeof e)return Ab(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ab(e,t):void 0}}function Ab(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}T.getConfig("consentManagement",(function(e){return function(e){(e=e&&e.usp)&&"object"==typeof e||Ce("consentManagement.usp config not defined, using defaults"),e&&je(e.cmpApi)?Yh=e.cmpApi:(Yh=Kh,_e("consentManagement.usp config did not specify cmpApi. Using system default setting (".concat(Kh,")."))),e&&ze(e.timeout)?Zh=e.timeout:(Zh=50,_e("consentManagement.usp config did not specify timeout. Using system default setting (".concat(50,")."))),"static"===Yh&&(Pe(e.consentData)&&Pe(e.consentData.getUSPData)?(e.consentData.getUSPData.uspString&&(Xh={usPrivacy:e.consentData.getUSPData.uspString}),Zh=0):Se("consentManagement config with cmpApi: 'static' did not specify consentData. No consents will be available to adapters.")),ob(!0)}(e.consentManagement)})),Pn("requestBids").before(rb,50),xc.before((function(e,t){return e(t.then((function(e){var t=Pi.getConsentData();return t&&Et(e,"regs.ext.us_privacy",t),e})))})),i("consentManagementUsp");var Eb,Tb,Ob,kb,jb=!1;function Rb(e,t){var n=t.onSuccess,r=t.onError;new W((function(t){return t(e())})).then(n,(function(e){e instanceof Pb?r.apply(void 0,[e.message].concat(Sb(e.args))):r("GPP error:",e)}))}var zb="1.0",Pb=_b((function e(t,n){Cb(this,e),this.message=t,this.args=null==n?[]:[n]})),Bb=new WeakMap,Db=new WeakMap,Ub=new WeakMap,Nb=function(){return _b((function e(t,n){var r=this;Cb(this,e),gb(this,Bb,{writable:!0,value:void 0}),gb(this,Db,{writable:!0,value:void 0}),gb(this,Ub,{writable:!0,value:[]}),hb(this,"initialized",!1),this.apiVersion=this.constructor.apiVersion,this.cmpVersion=n,this.cmp=n;var i=vb([0,1].map((function(e){return function(t){for(;bb(r,Ub).length;)bb(r,Ub).pop()[e](t)}})),2);yb(this,Bb).value=i[0],yb(this,Db).value=i[1]}),[{key:"init",value:function(e){var t=this,n=this.updateWhenReady(e);return this.initialized||(this.initialized=!0,this.cmp({command:"addEventListener",callback:function(e,n){var r;null==n||n?"error"===(null==e||null===(r=e.pingData)||void 0===r?void 0:r.cmpStatus)?bb(t,Db).call(t,new Pb('CMP status is "error"; please check CMP setup',e)):t.isCMPReady((null==e?void 0:e.pingData)||{})&&t.events.includes(null==e?void 0:e.eventName)&&bb(t,Bb).call(t,t.updateConsent(e.pingData)):bb(t,Db).call(t,new Pb("Received error response from CMP",e))}})),n}},{key:"refresh",value:function(){return this.cmp({command:"ping"}).then(this.updateWhenReady.bind(this))}},{key:"updateConsent",value:function(e){return this.getGPPData(e).then((function(e){if(null==e||De(e))throw new Pb("Received empty response from CMP",e);return Hb(e)})).then((function(e){return _e("Retrieved GPP consent from CMP:",e),e}))}},{key:"nextUpdate",value:function(){var e=this;return new W((function(t,n){bb(e,Ub).push([t,n])}))}},{key:"updateWhenReady",value:function(e){return this.isCMPReady(e)?this.updateConsent(e):this.nextUpdate()}}],[{key:"register",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.apiVersion=e,this.CLIENTS[e]=this,t&&(this.CLIENTS.default=this)}},{key:"init",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dh,n=this.INST;if(!n){var r,i=function(){return r&&(e.INST=null)};n=this.INST=this.ping(t).catch((function(e){throw r=!0,i(),e})),i()}return n.then((function(e){var t=vb(e,2),n=t[0],r=t[1];return[n,n.initialized?n.refresh():n.init(r)]}))}},{key:"ping",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dh,n={apiName:"__gpp",apiArgs:["command","callback","parameter"]},r=t(mb(mb({},n),{},{mode:1}));return new W((function(i,o){if(null!=r){var a=!1,s=function(r,s){if(!a)if(null==s||s){if(null!=r){a=!0;var c=null==r?void 0:r.gppVersion,u=e.getClient(c);c!==u.apiVersion?Ce("Unrecognized GPP CMP version: ".concat(c,". Continuing using GPP API version ").concat(u,"...")):_e("Using GPP version ".concat(c));var d=u.apiVersion===zb?0:2,l=new u(c,t(mb(mb({},n),{},{mode:d})));i([l,r])}}else o(r)};r({command:"ping",callback:s}).then((function(e){return s(e,!0)}),o)}else o(new Pb("GPP CMP not found"))})).finally((function(){r&&r.close()}))}},{key:"getClient",value:function(e){return this.CLIENTS.hasOwnProperty(e)?this.CLIENTS[e]:this.CLIENTS.default}}])}();hb(Nb,"CLIENTS",{}),hb(Nb,"INST",void 0);var Fb=function(e){function t(){var e;Cb(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return hb(e=sb(this,t,[].concat(r)),"events",["sectionChange","cmpStatus"]),e}return cb(t,e),_b(t,[{key:"isCMPReady",value:function(e){return"loaded"===e.cmpStatus}},{key:"getGPPData",value:function(e){var t=this,n=W.all((e.supportedAPIs||e.apiSupport||[]).map((function(e){return t.cmp({command:"getSection",parameter:e}).catch((function(t){Ce("Could not retrieve GPP section '".concat(e,"'"),t)})).then((function(t){return[e,t]}))}))).then((function(e){return Object.fromEntries(e.filter((function(e){var t=vb(e,2);return t[0],null!=t[1]})).map((function(e){var t=vb(e,2),n=t[0],r=t[1],i=[Object.fromEntries(Object.entries(r).filter((function(e){return"Gpc"!==vb(e,1)[0]})))];return null!=r.Gpc&&i.push({SubsectionType:1,Gpc:r.Gpc}),[n,i]})))}));return W.all([this.cmp({command:"getGPPData"}),n]).then((function(e){var t=vb(e,2);return ab({},t[0],{parsedSections:t[1]})}))}}])}(Nb);db(fb(Fb),"register",Fb).call(Fb,zb);var Mb=function(e){function t(){var e;Cb(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return hb(e=sb(this,t,[].concat(r)),"events",["sectionChange","signalStatus"]),e}return cb(t,e),_b(t,[{key:"isCMPReady",value:function(e){return"ready"===e.signalStatus}},{key:"getGPPData",value:function(e){return W.resolve(e)}}])}(Nb);db(fb(Mb),"register",Mb).call(Mb,"1.1",!0);var qb={iab:function(e){var t=e.onSuccess,n=e.onError,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Dh;Rb((function(){return Nb.init(r).then((function(e){var t=vb(e,2);return t[0],t[1]}))}),{onSuccess:t,onError:n})},static:function(e){return Rb((function(){return Hb(Ob)}),e)}};function Lb(e){var t=!1,n=null;function r(r,i,o){if(null!=n&&clearTimeout(n),t=!0,Bi.setConsentData(r),"function"==typeof e){for(var a=arguments.length,s=new Array(a>3?a-3:0),c=3;c<a;c++)s[c-3]=arguments[c];e.apply(void 0,[i,o].concat(s))}}if(qb.hasOwnProperty(Eb)){var i={onSuccess:function(e){return r(e,!1)},onError:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];r.apply(void 0,[null,!0,e].concat(n))}};if(qb[Eb](i),!t){var o=function(){var e=function(e){r(e,!1,"GPP CMP did not load, continuing auction...")};Rb((function(){return Hb(kb)}),{onSuccess:e,onError:function(){return e(Vb())}})};0===Tb?o():n=setTimeout(o,Tb)}}else r(null,!1,"GPP CMP framework (".concat(Eb,") is not a supported framework.  Aborting consentManagement module and resuming auction."))}var Wb=jr("gpp",(function(e,t){var n;n=function(n,r){if(r){var i=Ce;n&&(i=Se,r="".concat(r," Canceling auction as per consentManagement config."));for(var o=arguments.length,a=new Array(o>2?o-2:0),s=2;s<o;s++)a[s-2]=arguments[s];i.apply(void 0,[r].concat(a))}n?(e.stopTiming(),"function"==typeof t.bidsBackHandler?t.bidsBackHandler():Se("Error executing bidsBackHandler")):e.call(this,t)},kb?(_e("User consent information already known.  Pulling internally stored information..."),n(!1)):Lb(n)}));function Hb(e){if(null!=(null==e?void 0:e.applicableSections)&&!Array.isArray(e.applicableSections)||null!=(null==e?void 0:e.gppString)&&!je(e.gppString)||null!=(null==e?void 0:e.parsedSections)&&!Pe(e.parsedSections))throw new Pb("CMP returned unexpected value during lookup process.",e);return Vb(e)}function Vb(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return kb={gppString:null==e?void 0:e.gppString,applicableSections:(null==e?void 0:e.applicableSections)||[],parsedSections:(null==e?void 0:e.parsedSections)||{},gppData:e},Bi.setConsentData(e),kb}T.getConfig("consentManagement",(function(e){return function(e){(e=e&&e.gpp)&&"object"==typeof e?(je(e.cmpApi)?Eb=e.cmpApi:(Eb="iab",_e("consentManagement.gpp config did not specify cmp.  Using system default setting (".concat("iab",")."))),ze(e.timeout)?Tb=e.timeout:(Tb=1e4,_e("consentManagement.gpp config did not specify timeout.  Using system default setting (".concat(1e4,")."))),"static"===Eb&&(Pe(e.consentData)?(Ob=e.consentData,Tb=0):Se("consentManagement.gpp config with cmpApi: 'static' did not specify consentData. No consents will be available to adapters.")),_e("consentManagement.gpp module has been activated..."),jb||(r().requestBids.before(Wb,50),Vn.before((function(e,t){return e(ab({gppConsent:Bi.getConsentData()},t))}))),jb=!0,Bi.enable(),Lb()):Ce("consentManagement.gpp config not defined, exiting consent manager module")}(e.consentManagement)})),xc.before((function(e,t){return e(t.then((function(e){var t=Bi.getConsentData();return t&&(Array.isArray(t.applicableSections)&&Et(e,"regs.gpp_sid",t.applicableSections),Et(e,"regs.gpp",t.gppString)),e})))})),i("consentManagementGpp");var Gb="Invalid schain object found: ",$b=" should be a string",Jb=" should be an Integer",Xb=" should be an object",Qb={STRICT:"strict",RELAXED:"relaxed",OFF:"off"},Kb=[];function Yb(e,t){var n=Qb.STRICT;if(function(e){return!(void 0===e||!Pe(e)&&(Se(Gb+"the following schain config will not be used as schain is not an object.",e),1))}(e)){if(je(e.validation)&&-1!=Kb.indexOf(e.validation)&&(n=e.validation),n===Qb.OFF)return e.config;if(function(e,t){var n="Detected something wrong within an schain config:",r="";function i(e){r+="\n"+e}function o(){!0===t?Se(n,e,r):Ce(n,e,r)}if(!Pe(e)&&(i("schain.config"+Xb),o(),t))return!1;if(ze(e.complete)&&pt(e.complete)||i("schain.config.complete"+Jb),je(e.ver)||i("schain.config.ver"+$b),e.hasOwnProperty("ext")&&(Pe(e.ext)||i("schain.config.ext"+Xb)),Re(e.nodes))e.nodes.forEach((function(e,t){je(e.asi)||i("schain.config.nodes[".concat(t,"].asi")+$b),je(e.sid)||i("schain.config.nodes[".concat(t,"].sid")+$b),ze(e.hp)&&pt(e.hp)||i("schain.config.nodes[".concat(t,"].hp")+Jb),e.hasOwnProperty("rid")&&(je(e.rid)||i("schain.config.nodes[".concat(t,"].rid")+$b)),e.hasOwnProperty("name")&&(je(e.name)||i("schain.config.nodes[".concat(t,"].name")+$b)),e.hasOwnProperty("domain")&&(je(e.domain)||i("schain.config.nodes[".concat(t,"].domain")+$b)),e.hasOwnProperty("ext")&&(Pe(e.ext)||i("schain.config.nodes[".concat(t,"].ext")+Xb))}));else if(i("schain.config.nodes should be an Array"),o(),t)return!1;return!(r.length>0&&(o(),t))}(e.config,!(n!==Qb.STRICT)))return e.config;Se(Gb+"due to the 'strict' validation setting, this schain config will not be passed to bidder '".concat(t,"'.  See above error for details."))}return null}function Zb(e,t){var n=T.getConfig("schain"),r=T.getBidderConfig();t.forEach((function(e){var t=e.bidderCode,i=function(e){return r[e]&&r[e].schain||n}(t);e.bids.forEach((function(e){var n=Yb(i,t);n&&(e.schain=Ze(n))}))})),e(t)}Ne(Qb,(function(e){return Kb.push(e)})),jo.makeBidRequests.after(Zb),nd({type:Ju,name:"sourceExtSchain",fn:function(e,t,n){if(!g(e,"source.ext.schain")){var r=g(n,"bidRequests.0.schain");r&&Et(e,"source.ext.schain",r)}}}),i("schain");var ey=void 0;function ty(){return ty=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ty.apply(this,arguments)}var ny={},ry=!1,iy=function(e){var t=ny.customGptSlotMatching;if(Ke()){var n=e.reduce((function(e,t){return e[t.code]=e[t.code]||[],e[t.code].push(t),e}),{});window.googletag.pubads().getSlots().forEach((function(e){var r=a(Object.keys(n),t?t(e):lt(e));if(r){var i={name:"gam",adslot:oy(e.getAdUnitPath())};n[r].forEach((function(e){var t,n,r;Et(e,"ortb2Imp.ext.data.adserver",ty({},null===(t=e.ortb2Imp)||void 0===t||null===(n=t.ext)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.adserver,i))}))}}))}},oy=function(e){return(T.getConfig("gptPreAuction")||{}).mcmEnabled?e.replace(/(^\/\d*),\d*\//,"$1/"):e},ay=function(e,t){var n=e.ortb2Imp.ext.data;if(n.pbadslot)return n.pbadslot;if(Ke()){var r=window.googletag.pubads().getSlots().filter((function(e){return e.getAdUnitPath()===t}));if(0!==r.length)return 1===r.length?t:"".concat(t,"#").concat(e.code)}},sy=function(e){var t=e.ortb2Imp.ext.data,n=ny.customPbAdSlot;if(!t.pbadslot)if(n)t.pbadslot=n(e.code,g(t,"adserver.adslot"));else{try{var r=document.getElementById(e.code);if(r.dataset.adslotid)return void(t.pbadslot=r.dataset.adslotid)}catch(e){}if(!g(t,"adserver.adslot"))return t.pbadslot=e.code,!0;t.pbadslot=t.adserver.adslot}},cy=function(e,t){iy(t);var n=ny,r=n.useDefaultPreAuction,i=n.customPreAuction;t.forEach((function(e){e.ortb2Imp=e.ortb2Imp||{},e.ortb2Imp.ext=e.ortb2Imp.ext||{},e.ortb2Imp.ext.data=e.ortb2Imp.ext.data||{};var t=e.ortb2Imp.ext;if(i||r){var n,o=g(t,"data.adserver.adslot");i?n=i(e,o):r&&(n=ay(e,o)),n&&(t.gpid=t.data.pbadslot=n)}else{var a=sy(e);t.gpid||a||(t.gpid=t.data.pbadslot)}}));for(var o=arguments.length,a=new Array(o>2?o-2:0),s=2;s<o;s++)a[s-2]=arguments[s];return e.call.apply(e,[ey,t].concat(a))},uy=function(e){ny=vt(e,["enabled",function(e){return!1!==e},"customGptSlotMatching",function(e){return"function"==typeof e&&e},"customPbAdSlot",function(e){return"function"==typeof e&&e},"customPreAuction",function(e){return"function"==typeof e&&e},"useDefaultPreAuction",function(e){return!0===e}]),ny.enabled?ry||(Pn("makeBidRequests").before(cy),ry=!0):(_e("".concat("GPT Pre-Auction",": Turning off module")),ny={},Pn("makeBidRequests").getHooks({hook:cy}).remove(),ry=!1)};function dy(e){return function(e){if(Array.isArray(e))return py(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||fy(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ly(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||fy(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fy(e,t){if(e){if("string"==typeof e)return py(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?py(e,t):void 0}}function py(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}T.getConfig("gptPreAuction",(function(e){return uy(e.gptPreAuction)})),uy({}),i("gptPreAuction");var my=!1,vy={maxTopicCaller:2,bidders:[{bidder:"pubmatic",iframeURL:"https://ads.pubmatic.com/AdServer/js/topics/topics_frame.html"},{bidder:"rtbhouse",iframeURL:"https://topics.authorizedvault.com/topicsapi.html"}]},gy=No("topicsFpd"),hy="prebid:topics",by="lastUpdated",yy=[],wy={1:600,2:601,3:602,4:603};function Iy(e,t){return t.reduce((function(t,n){var r=n[e];return t.hasOwnProperty(r)||(t[r]=[]),t[r].push(n),t}),{})}function _y(e){return yy.push(e)}function Cy(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:wy;return Object.entries(Iy("taxonomyVersion",t)).filter((function(e){var t=ly(e,1)[0];return!!n.hasOwnProperty(t)||(Ce('Unrecognized taxonomyVersion from Topics API: "'.concat(t,'"; topic will be ignored')),!1)})).flatMap((function(t){var r=ly(t,2),i=r[0],o=r[1];return Object.entries(Iy("modelVersion",o)).map((function(t){var r=ly(t,2),o=r[0],a=r[1],s={ext:{segtax:n[i],segclass:o},segment:a.map((function(e){return{id:e.topic.toString()}}))};return null!=e&&(s.name=e),s}))}))}function Sy(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;return"browsingTopics"in e&&e.featurePolicy.allowsFeature("browsing-topics")}var xy=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=null;try{Sy(e)&&(t=W.resolve(e.browsingTopics()))}catch(e){Se("Could not call topics API",e)}return null==t&&(t=W.resolve([])),t}().then((function(e){return Cy(Zr().domain,e)}));function Ay(){var e=[],t=(T.getConfig("userSync.topics")||vy).bidders||[],n=new Map(St(gy.getDataFromLocalStorage(hy)));return n&&n.forEach((function(r,i){var o=t.find((function(e){var t=e.bidder;return i===t}));o&&Yn(tr,zr(Sn,i))&&(Oy(r.lastUpdated,(null==o?void 0:o.expiry)||21)?(n.delete(i),gy.setDataInLocalStorage(hy,JSON.stringify(dy(n)))):Object.keys(r).forEach((function(t){t!==by&&e.push(r[t])})))})),e}function Ey(e){if(e&&e.data)try{var t=St(e.data);if(o(yy,e.origin)&&t&&t.segment&&!De(t.segment.topics)){var n=t.segment,r=n.domain,i=n.topics,a=n.bidder,s=Cy(r,i);s&&Ty(a,s)}}catch(e){}}function Ty(e,t){var n,r,i,o=new Map(St(gy.getDataFromLocalStorage(hy))),a=(n={},r=by,i=(new Date).getTime(),r in n?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i,n);t.forEach((function(e){a[e.ext.segclass]=e})),o.set(e,a),gy.setDataInLocalStorage(hy,JSON.stringify(dy(o)))}function Oy(e,t){var n=(new Date).getTime();return Math.ceil((n-e)/864e5)>t}function ky(e,t){return dy(e).sort((function(){return.5-Math.random()})).slice(0,t)}function jy(){window.addEventListener("message",Ey,!1)}function Ry(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;if(Sy(e)){var t=T.getConfig("userSync.topics")||vy;if(t){jy();var n=ky(t.bidders||[],t.maxTopicCaller||1);n&&n.forEach((function(t){var n=t.bidder,r=t.iframeURL,i=t.fetchUrl,o=t.fetchRate;if(n&&r){var a=e.createElement("iframe");a.name="ifrm_".concat(n),a.src="".concat(r,"?bidder=").concat(n),a.style.display="none",_y(new URL(r).origin),r&&e.documentElement.appendChild(a)}if(n&&i){var s=new Map(St(gy.getDataFromLocalStorage(hy))).get(n);(!s||s&&Oy(s.lastUpdated,o||1))&&window.fetch("".concat(i,"?bidder=").concat(n),{browsingTopics:!0}).then((function(e){return e.json()})).then((function(e){if(e&&e.segment&&!De(e.segment.topics)){var t=e.segment,n=t.domain,r=t.topics,i=t.bidder,o=Cy(n,r);o&&Ty(i,o)}}))}}))}else Ce("Topics config not defined under userSync Object")}}function zy(e,t,n){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(t===n)return e;var o=e;try{o=r().convertCurrency(e,t,n)}catch(e){if(!i)throw e}return o}Dn("firstPartyData",{name:"topics",queue:1,processFpd:function(e,t){var n=t.global,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r.data,o=void 0===i?xy:i;return my||(Ry(),my=!0),o.then((function(e){return(e=[].concat(e,Ay())).length&&_t(n,{user:{data:e}}),{global:n}}))}}),i("topicsFpdModule");var Py,By=["modelGroups"];function Dy(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Uy(){return Uy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Uy.apply(this,arguments)}function Ny(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ny(Object(n),!0).forEach((function(t){My(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ny(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function My(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qy="Price Floors",Ly=rn(1e4),Wy=Symbol(),Hy=[Wy,"gptSlot","adUnitCode","size","domain","mediaType"],Vy=!1,Gy=!1,$y={},Jy=[],Xy={};function Qy(e,t){return Math.ceil((parseFloat(e)*Math.pow(10,t)).toFixed(1))/Math.pow(10,t)}var Ky,Yy=function(){return null==Ky&&(Ky=yt(Zr().topmostLocation,{noDecodeWholeURL:!0}).hostname),Ky};function Zy(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.index,i=void 0===r?Ba.index:r;return(null==e?void 0:e.adUnitCode)||i.getAdUnit(t).code}var ew=(My(Py={},Wy,(function(){return"*"})),My(Py,"size",(function(e,t){return ve(t.size)||"*"})),My(Py,"mediaType",(function(e,t){return t.mediaType||"banner"})),My(Py,"gptSlot",(function(e,t){return function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).index,n=(void 0===t?Ba.index:t).getAdUnit({transactionId:e});return"gam"===g(n,"ortb2Imp.ext.data.adserver.name")&&n.ortb2Imp.ext.data.adserver.adslot}((e||t).transactionId)||kv(Zy(e,t)).gptSlot})),My(Py,"domain",Yy),My(Py,"adUnitCode",(function(e,t){return Zy(e,t)})),Py);function tw(e,t,n){return e.length?e.reduce((function(e,r){var i=ew[r](t,n)||"*";return e.push("*"===i?["*"]:[i.toLowerCase(),"*"]),e}),[]):[]}function nw(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=tw(g(e,"schema.fields")||[],t,r);if(!i.length)return{matchingFloor:void 0};var o=i.map((function(e){return e[0]})).join("-"),s=g(e,"matchingInputs.".concat(o));if(s)return Fy({},s);var c=rw(i,g(e,"schema.delimiter")||"|"),u=a(c,(function(t){return e.values.hasOwnProperty(t)})),d={floorMin:e.floorMin||0,floorRuleValue:e.values[u],matchingData:c[0],matchingRule:u===(null===(n=e.meta)||void 0===n?void 0:n.defaultRule)?void 0:u},l=g(t,"ortb2Imp.ext.prebid.floors.floorMin");return"number"==typeof l&&(d.floorMin=l),d.matchingFloor=Math.max(d.floorMin,d.floorRuleValue),Et(e,"matchingInputs.".concat(o),Fy({},d)),d}function rw(e,t){return e.reduce((function(e,n){var r=[];return e.map((function(e){n.map((function(n){r.push(e+t+n)}))})),r})).sort((function(e,t){return e.split("*").length-t.split("*").length}))}function iw(e,t,n){return parseFloat(Qo(e,Fy(Fy({},t),{},{cpm:e}),n))}function ow(e,t){var n=Math.pow(10,10);return e*n/(t*n)*(e*n)/n}var aw={banner:function(e){return g(e,"mediaTypes.banner.sizes")||[]},video:function(e){return g(e,"mediaTypes.video.playerSize")||[]},native:function(e){return g(e,"mediaTypes.native.image.sizes")?[g(e,"mediaTypes.native.image.sizes")]:[]}};function sw(e,t){var n=Object.keys(e.mediaTypes||{});return"*"===t.mediaType&&1===n.length&&(t.mediaType=n[0]),"*"===t.size&&-1!==n.indexOf(t.mediaType)&&aw[t.mediaType]&&1===aw[t.mediaType](e).length&&(t.size=aw[t.mediaType](e)[0]),t}function cw(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{currency:"USD",mediaType:"*",size:"*"},t=this,n=Xy[t.auctionId];if(!n||n.skipped)return{};e=sw(t,e);var i=nw(n.data,Fy({},t),{mediaType:e.mediaType,size:e.size}),o=e.currency||n.data.currency;if(i.matchingFloor&&o!==n.data.currency)try{i.matchingFloor=r().convertCurrency(i.matchingFloor,n.data.currency,o)}catch(e){Ce("".concat(qy,": Unable to get currency conversion for getFloor for bidder ").concat(t.bidder,". You must have currency module enabled with defaultRates in your currency config")),o=n.data.currency}if(n.enforcement.bidAdjustment&&i.matchingFloor){var a=_n.get(t.bidder,"inverseBidAdjustment");if(a)i.matchingFloor=a(i.matchingFloor,t);else{var s=iw(i.matchingFloor,null,t);i.matchingFloor=s?ow(i.matchingFloor,s):i.matchingFloor}}return i.matchingFloor?{floor:Qy(i.matchingFloor,4),currency:o}:{}}function uw(e,t){var n=Ze(e);return n.schema.delimiter=e.schema.delimiter||"|",n.values=function(e,t){var n=e.schema.fields,r=e.schema.delimiter,i=t&&-1===n.indexOf("adUnitCode")&&n.unshift("adUnitCode");return Object.keys(e.values).reduce((function(n,o){return n[(i?"".concat(t).concat(r).concat(o):o).toLowerCase()]=e.values[o],n}),{})}(n,t),n.currency=n.currency||"USD",n}function dw(e,t){var n=Ze($y);if(2===g(n,"data.floorsSchemaVersion")){var r=n.data,i=r.modelGroups,o=Dy(r,By);n.data=Uy(o,function(e,t){for(var n=Math.floor(Math.random()*t+1),r=0;r<e.length;r++)if((n-=e[r].modelWeight)<=0)return e[r]}(i,o.modelWeightSum))}var a=0===Object.keys(g(n,"data.values")||{}).length;if(n.data=a?function(e){var t=e.find((function(e){var t;return null!=(null===(t=e.floors)||void 0===t?void 0:t.schema)}));return e.reduce((function(e,n){var r,i;if(null!=(null===(r=n.floors)||void 0===r?void 0:r.schema)&&!It(n.floors.schema,null==t||null===(i=t.floors)||void 0===i?void 0:i.schema))return Se("".concat(qy,": adUnit '").concat(n.code,"' declares a different schema from one previously declared by adUnit '").concat(t.code,"'. Floor config for '").concat(n.code,"' will be ignored.")),e;var o=Uy({},null==t?void 0:t.floors,{values:void 0},n.floors);if(mw(o))if(e.values){var a=uw(o,n.code).values;Uy(e.values,a)}else(e=uw(o,n.code)).location="adUnit";else null!=n.floors&&Ce("adUnit '".concat(n.code,"' provides an invalid `floor` definition, it will be ignored for floor calculations"),n);return e}),{})}(e):uw(n.data),0===Object.keys(g(n,"data.values")||{}).length)n.skipped=!0;else{var s=Te("pbjs_skipRate")||(g(n,"data.skipRate")??n.skipRate),c=100*Math.random()<parseFloat(s);n.skipped=c}return n.hasOwnProperty("floorMin")&&(n.data.floorMin=n.floorMin),function(e,t,n){var r=function(e){var t,n,r=e.data,i=e.enforcement;return(null==r||null===(t=r.noFloorSignalBidders)||void 0===t?void 0:t.length)>0?r.noFloorSignalBidders:(null==i||null===(n=i.noFloorSignalBidders)||void 0===n?void 0:n.length)>0?i.noFloorSignalBidders:[]}(t);e.forEach((function(e){e.bids.forEach((function(e){var i=r.some((function(t){return t===e.bidder}));t.skipped||i?(i&&_e("noFloorSignal to ".concat(e.bidder)),delete e.getFloor):e.getFloor=cw,e.auctionId=n,e.floorData={noFloorSignaled:i,skipped:t.skipped,skipRate:g(t,"data.skipRate")??t.skipRate,floorMin:t.floorMin,modelVersion:g(t,"data.modelVersion"),modelWeight:g(t,"data.modelWeight"),modelTimestamp:g(t,"data.modelTimestamp"),location:g(t,"data.location","noData"),floorProvider:t.floorProvider,fetchStatus:$y.fetchStatus}}))}))}(e,n,t),n}function lw(e){e.hasExited||(Jy=Jy.filter((function(t){return t.timer!==e.timer})),e.reqBidsConfigObj.auctionId=e.reqBidsConfigObj.auctionId||le(),Xy[e.reqBidsConfigObj.auctionId]=dw(e.reqBidsConfigObj.adUnits||r().adUnits,e.reqBidsConfigObj.auctionId),e.nextFn.apply(e.context,[e.reqBidsConfigObj]),e.hasExited=!0)}function fw(e){return e=function(e){if(ze(e.default)){var t,n,r="*",i=((null===(t=e.schema)||void 0===t?void 0:t.fields)||[]).length;i?r=Array(i).fill("*").join((null===(n=e.schema)||void 0===n?void 0:n.delimiter)||"|"):Et(e,"schema.fields",[Wy]),e.values=e.values||{},null==e.values[r]&&(e.values[r]=e.default,e.meta={defaultRule:r})}return e}(e),t=g(e,"schema.fields"),!!(Array.isArray(t)&&t.length>0&&t.every((function(e){return-1!==Hy.indexOf(e)}))||(Se("".concat(qy,": Fields received do not match allowed fields")),0))&&(n=e,r=e.schema.fields.length,i=e.schema.delimiter||"|","object"==typeof n.values&&(n.values=Object.keys(n.values).reduce((function(e,t){return function(e,t,n,r){return"string"==typeof e&&e.split(r).length===n&&"number"==typeof t}(t,n.values[t],r,i)&&(e[t]=n.values[t]),e}),{}),Object.keys(n.values).length>0));var t,n,r,i}var pw={1:function(e){return fw(e)},2:function(e){return!(!Array.isArray(e.modelGroups)||0===e.modelGroups.length)&&(e.modelWeightSum=0,e.modelGroups.every((function(t){return!("number"!=typeof t.modelWeight||!fw(t)||(e.modelWeightSum+=t.modelWeight,0))})))}};function mw(e){return"object"==typeof e&&(e.floorsSchemaVersion=e.floorsSchemaVersion||1,"function"!=typeof pw[e.floorsSchemaVersion]?(Se("".concat(qy,": Unknown floorsSchemaVersion: "),e.floorsSchemaVersion),!1):pw[e.floorsSchemaVersion](e))}function vw(e,t){if(e&&"object"==typeof e&&mw(e))return _e("".concat(qy,": A ").concat(t," set the auction floor data set to "),e),Fy(Fy({},e),{},{location:t});Se("".concat(qy,": The floors data did not contain correct values"),e)}var gw=jr("priceFloors",(function(e,t){var n={reqBidsConfigObj:t,context:this,nextFn:e,haveExited:!1,timer:null};$y.auctionDelay>0&&Vy?(n.timer=setTimeout((function(){Ce("".concat(qy,": Fetch attempt did not return in time for auction")),$y.fetchStatus="timeout",lw(n)}),$y.auctionDelay),Jy.push(n)):lw(n)}));function hw(){Jy.forEach((function(e){clearTimeout(e.timer),lw(e)})),Jy=[]}function bw(e){var t;Vy=!1,$y.fetchStatus="success";try{t=JSON.parse(e)}catch(n){t=e}var n=vw(t,"fetch");n&&($y.data=n,$y.skipRate=ze(n.skipRate)?n.skipRate:$y.skipRate,$y.floorProvider=n.floorProvider||$y.floorProvider),hw()}function yw(e){Vy=!1,$y.fetchStatus="error",Se("".concat(qy,": Fetch errored with: "),e),hw()}function ww(e){var t;$y=vt(e,["floorMin","enabled",function(e){return!1!==e},"auctionDelay",function(e){return e||0},"floorProvider",function(t){return g(e,"data.floorProvider",t)},"endpoint",function(e){return e||{}},"skipRate",function(){return isNaN(g(e,"data.skipRate"))?e.skipRate||0:e.data.skipRate},"enforcement",function(e){return vt(e||{},["enforceJS",function(e){return!1!==e},"enforcePBS",function(e){return!0===e},"floorDeals",function(e){return!0===e},"bidAdjustment",function(e){return!1!==e},"noFloorSignalBidders",function(e){return e||[]}])},"additionalSchemaFields",function(e){return"object"==typeof e&&Object.keys(e).length>0?(t=e,void Object.keys(t).forEach((function(e){-1===Hy.indexOf(e)&&"function"==typeof t[e]&&(Hy.push(e),ew[e]=t[e])}))):void 0;var t},"data",function(e){return e&&vw(e,"setConfig")||void 0}]),$y.enabled?((t=$y.endpoint).url&&!Vy?"GET"!==(t.method||"GET")?Se("".concat(qy,": 'GET' is the only request method supported at this time!")):(Ly(t.url,{success:bw,error:yw},null,{method:"GET"}),Vy=!0):Vy&&Ce("".concat(qy,": A fetch is already occuring. Skipping.")),Gy||(Lt(h.FP.AUCTION_END,(function(e){setTimeout((function(){return delete Xy[e.auctionId]}),3e3)})),r().requestBids.before(gw,50),Pn("addBidResponse").before(Iw,Ee()?4:50),Gy=!0)):(_e("".concat(qy,": Turning off module")),$y={},Xy={},Pn("addBidResponse").getHooks({hook:Iw}).remove(),r().requestBids.getHooks({hook:gw}).remove(),Gy=!1)}var Iw=Rr("priceFloors",(function(e,t,n,i){var o=Xy[n.auctionId];if(!o||!n||o.skipped)return e.call(this,t,n,i);var a,s=Ba.index.getBidRequest(n),c=nw(o.data,s,Fy(Fy({},n),{},{size:[n.width,n.height]}));if(!c.matchingFloor)return 0!==c.matchingFloor&&Ce("".concat(qy,": unable to determine a matching price floor for bidResponse"),n),e.call(this,t,n,i);var u,d=o.data.currency.toUpperCase(),l=n.currency||"USD";if(d===l.toUpperCase())a=n.cpm;else if(n.originalCurrency&&d===n.originalCurrency.toUpperCase())a=n.originalCpm;else try{a=r().convertCurrency(n.cpm,l.toUpperCase(),d)}catch(r){return Se("".concat(qy,": Unable do get currency conversion for bidResponse to Floor Currency. Do you have Currency module enabled? ").concat(n)),e.call(this,t,n,i)}return function(e,t,n,r){n.floorData={floorValue:t.matchingFloor,floorRule:t.matchingRule,floorRuleValue:t.floorRuleValue,floorCurrency:e.data.currency,cpmAfterAdjustments:r,enforcements:Fy({},e.enforcement),matchedFields:{}},e.data.schema.fields.forEach((function(r,i){var o=t.matchingData.split(e.data.schema.delimiter)[i];n.floorData.matchedFields[r]=o}))}(o,c,n,a=iw(a,n,s)),function(e,t,n){var r=!1!==g(e,"enforcement.enforceJS"),i=!0===g(e,"enforcement.floorDeals")||!n.dealId,o=n.floorData.cpmAfterAdjustments<t.matchingFloor;return r&&o&&i}(o,c,n)?(i(h.Gw.pe),void Ce("".concat(qy,": ").concat(n.bidderCode,"'s Bid Response for ").concat(t," was rejected due to floor not met (adjusted cpm: ").concat(null==n||null===(u=n.floorData)||void 0===u?void 0:u.cpmAfterAdjustments,", floor: ").concat(null==c?void 0:c.matchingFloor,")"),n)):e.call(this,t,n,i)}));T.getConfig("floors",(function(e){return ww(e.floors)})),nd({type:Xu,name:"bidfloor",fn:function(e,t,n){if("function"==typeof t.getFloor){var r,i;try{var o=t.getFloor({currency:n.currency||T.getConfig("currency.adServerCurrency")||"USD",mediaType:n.mediaType||"*",size:"*"});r=o.currency,i=o.floor}catch(e){return void Ce("Cannot compute floor for bid",t)}i=parseFloat(i),null==r||null==i||isNaN(i)||Uy(e,{bidfloor:i,bidfloorcur:r})}}}),nd({type:Xu,name:"extPrebidFloors",fn:function(e,t,n){if(null!=e.bidfloor){var r,i,o,a,s,c,u,d,l,f,p=n.reqContext.floorMin||{},m=p.floorMinCur,v=p.floorMin;null==m&&(m=e.bidfloorcur);var g=(null===(r=e.ext)||void 0===r||null===(i=r.prebid)||void 0===i||null===(o=i.floors)||void 0===o?void 0:o.floorMinCur)||(null===(a=e.ext)||void 0===a||null===(s=a.prebid)||void 0===s?void 0:s.floorMinCur)||m,h=(null===(c=e.ext)||void 0===c||null===(u=c.prebid)||void 0===u||null===(d=u.floors)||void 0===d?void 0:d.floorMin)||(null===(l=e.ext)||void 0===l||null===(f=l.prebid)||void 0===f?void 0:f.floorMin),b=zy(e.bidfloor,e.bidfloorcur,m),y=!(!h||!g)&&zy(h,g,m),w=y&&y<b?y:b;Et(e,"ext.prebid.floors.floorMin",w),(null==v||v>w)&&(v=w),n.reqContext.floorMin={floorMin:v,floorMinCur:m}}},dialects:[Zu],priority:-1}),nd({type:Ju,name:"extPrebidFloors",fn:function(e,t,n){var r,i,o;Gy&&Et(e,"ext.prebid.floors.enabled",(null===(r=e.ext)||void 0===r||null===(i=r.prebid)||void 0===i||null===(o=i.floors)||void 0===o?void 0:o.enabled)||!1),null!=n&&n.floorMin&&_t(e,{ext:{prebid:{floors:n.floorMin}}})},dialects:[Zu]}),i("priceFloors");try{uu.processQueue()}catch(e){window.zamaf.cmd.push((function(){window.zamaf.trackException(e)}))}}()}(),function(){var e="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}var c=a,u=s;function d(e){if(c===setTimeout)return setTimeout(e,0);if((c===a||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(t){try{return c.call(null,e,0)}catch(t){return c.call(this,e,0)}}}"function"==typeof e.setTimeout&&(c=setTimeout),"function"==typeof e.clearTimeout&&(u=clearTimeout);var l,f=[],p=!1,m=-1;function v(){p&&l&&(p=!1,l.length?f=l.concat(f):m=-1,f.length&&g())}function g(){if(!p){var e=d(v);p=!0;for(var t=f.length;t;){for(l=f,f=[];++m<t;)l&&l[m].run();m=-1,t=f.length}l=null,p=!1,function(e){if(u===clearTimeout)return clearTimeout(e);if((u===s||!u)&&clearTimeout)return u=clearTimeout,clearTimeout(e);try{u(e)}catch(t){try{return u.call(null,e)}catch(t){return u.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function b(){}h.prototype.run=function(){this.fun.apply(null,this.array)};var y,w,I=b,_=b,C=b,S=b,x=b,A=b,E=b,T=e.performance||{},O=T.now||T.mozNow||T.msNow||T.oNow||T.webkitNow||function(){return(new Date).getTime()},k=new Date,j={nextTick:function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];f.push(new h(e,t)),1!==f.length||p||d(g)},title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:I,addListener:_,once:C,off:S,removeListener:x,removeAllListeners:A,emit:E,binding:function(e){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(e){throw new Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(e){var t=.001*O.call(T),n=Math.floor(t),r=Math.floor(t%1*1e9);return e&&(n-=e[0],(r-=e[1])<0&&(n--,r+=1e9)),[n,r]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-k)/1e3}},R="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},z={exports:{}};function P(){if(w)return y;w=1;var e=1e3,t=60*e,n=60*t,r=24*n,i=7*r,o=365.25*r;function a(e,t,n,r){var i=t>=1.5*n;return Math.round(e/n)+" "+r+(i?"s":"")}return y=function(s,c){c=c||{};var u=typeof s;if("string"===u&&s.length>0)return function(a){if(!((a=String(a)).length>100)){var s=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(a);if(s){var c=parseFloat(s[1]);switch((s[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return c*o;case"weeks":case"week":case"w":return c*i;case"days":case"day":case"d":return c*r;case"hours":case"hour":case"hrs":case"hr":case"h":return c*n;case"minutes":case"minute":case"mins":case"min":case"m":return c*t;case"seconds":case"second":case"secs":case"sec":case"s":return c*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return c;default:return}}}}(s);if("number"===u&&isFinite(s))return c.long?function(i){var o=Math.abs(i);return o>=r?a(i,o,r,"day"):o>=n?a(i,o,n,"hour"):o>=t?a(i,o,t,"minute"):o>=e?a(i,o,e,"second"):i+" ms"}(s):function(i){var o=Math.abs(i);return o>=r?Math.round(i/r)+"d":o>=n?Math.round(i/n)+"h":o>=t?Math.round(i/t)+"m":o>=e?Math.round(i/e)+"s":i+"ms"}(s);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(s))}}var B,D,U=function(e){function t(e){var r,i,o,a=null;function s(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];if(s.enabled){var o=s,a=Number(new Date),c=a-(r||a);o.diff=c,o.prev=r,o.curr=a,r=a,n[0]=t.coerce(n[0]),"string"!=typeof n[0]&&n.unshift("%O");var u=0;n[0]=n[0].replace(/%([a-zA-Z%])/g,(function(e,r){if("%%"===e)return"%";u++;var i=t.formatters[r];if("function"==typeof i){var a=n[u];e=i.call(o,a),n.splice(u,1),u--}return e})),t.formatArgs.call(o,n);var d=o.log||t.log;d.apply(o,n)}}return s.namespace=e,s.useColors=t.useColors(),s.color=t.selectColor(e),s.extend=n,s.destroy=t.destroy,Object.defineProperty(s,"enabled",{enumerable:!0,configurable:!1,get:function(){return null!==a?a:(i!==t.namespaces&&(i=t.namespaces,o=t.enabled(e)),o)},set:function(e){a=e}}),"function"==typeof t.init&&t.init(s),s}function n(e,n){var r=t(this.namespace+(void 0===n?":":n)+e);return r.log=this.log,r}function r(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){var e=[].concat(o(t.names.map(r)),o(t.skips.map(r).map((function(e){return"-"+e})))).join(",");return t.enable(""),e},t.enable=function(e){var n;t.save(e),t.namespaces=e,t.names=[],t.skips=[];var r=("string"==typeof e?e:"").split(/[\s,]+/),i=r.length;for(n=0;n<i;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.slice(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=P(),t.destroy=function(){},Object.keys(e).forEach((function(n){t[n]=e[n]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){for(var n=0,r=0;r<e.length;r++)n=(n<<5)-n+e.charCodeAt(r),n|=0;return t.colors[Math.abs(n)%t.colors.length]},t.enable(t.load()),t};function N(e){var t=this;if(!e.getAdUnitPath)return"unknown slot";var n,r={};return(e&&e.getTargetingKeys&&e.getTargetingKeys()||[]).forEach((function(n){r[n]=e.getTargeting(n),0===r[n].length&&t.error(e.getSlotElementId(),"key",n,"is empty!")})),{targeting:r,adUnitPath:e.getAdUnitPath(),slotElementId:e.getSlotElementId(),slotId:e.getSlotId().toString(),sizes:(n=e.getSizes(),"fluid"===n[0]?n[0]:n.filter((function(e){return"fluid"!=e})).map((function(e){return e.getWidth?[e.getWidth(),e.getHeight()]:[0,0]}))),_slot:e}}B=z,(D=z.exports).formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+B.exports.humanize(this.diff),this.useColors){var t="color: "+this.color;e.splice(1,0,t,"color: inherit");var n=0,r=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(n++,"%c"===e&&(r=n))})),e.splice(r,0,t)}},D.save=function(e){try{e?D.storage.setItem("debug",e):D.storage.removeItem("debug")}catch(e){}},D.load=function(){var e;try{e=D.storage.getItem("debug")}catch(e){}return!e&&void 0!==j&&"env"in j&&(e=j.env.DEBUG),e},D.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},D.storage=function(){try{return localStorage}catch(e){}}(),D.destroy=function(){},D.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],D.log=console.debug||console.log||function(){},B.exports=U(D),B.exports.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}};class F{constructor(e){this.namespace=e}log(){}error(){}warn(){}_slots(){}slots(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"slots",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=t;void 0!==t&&(n=[]),n=Array.isArray(t)?t:[t],this._slots(e,n.filter((function(e){return!!e})).map(N.bind(this)))}}function M(e){return new F(e)}var q=M("utils");function L(){var e,t;q.slots("googletag.pubads refresh",arguments.length<=0?void 0:arguments[0]),googletag.pubads().refreshOrig?(e=googletag.pubads()).refreshOrig.apply(e,arguments):(t=googletag.pubads()).refresh.apply(t,arguments)}var W="zaf:bids:done",H="pbjs:auctionEnd",V="pbjs:bidRequested",G=["pbjs:auctionInit",H,"pbjs:bidAdjustment","pbjs:bidTimeout",V,"pbjs:bidResponse","pbjs:bidWon","pbjs:setTargeting","pbjs:requestBids","pbjs:addAdUnits","pbjs:adRenderFailed","pbjs:bidderDone"],$="adUnitCodes",J="bidderCodes",X="bidTimeoutCount",Q="bidCount",K="adserverTargeting",Y="elementIds",Z="args";function ee(e,t,n){if("video"===t.type){var i=e.video?Object.keys(e.video):[];i&&i.forEach((function(t){e.video[t]||delete e.video[t]})),e.video.mimes&&!Array.isArray(e.video.mimes)&&(e.video.mimes=e.video.mimes.split(",").map((function(e){return e.trim()}))),e.video.api&&!Array.isArray(e.video.api)&&(e.video.api=e.video.api.split(",").map((function(e){return parseInt(e.trim())}))),e.video.protocols&&!Array.isArray(e.video.protocols)&&(e.video.protocols=e.video.protocols.split(",").map((function(e){return parseInt(e.trim())}))),e.video.playbackmethod&&!Array.isArray(e.video.playbackmethod)&&(e.video.playbackmethod=e.video.playbackmethod.split(",").map((function(e){return parseInt(e.trim())}))),n.params.video=r({},t.mediaOptions,e.video),e.video.size&&(n.params.video.w=e.video.size[0],n.params.video.h=e.video.size[1],n.params.video.playerSize=e.video.size)}}function te(e,t){if(!e||!t)return[];var n=[];function i(e){e&&e.length&&[].push.apply(n,e)}return Object.keys(t).forEach((function(o){var a,s=e.bidderParams[o],c=t[o];switch(o){case"sovrn":i(function(e,t,n){if(!e.tagid)return[];var r=e.tagid.split(",");return n&&n.server&&(e.bidfloor=parseFloat(e.bidfloor)),r.map((function(t){return{bidder:"sovrn",params:{tagid:t,bidfloor:e.bidfloor}}}))}(s,0,c));break;case"ix":i(function(e,t,n){if(!e.siteId||!e.size)return[];var r=e.siteId.split(","),i=e.size.split(",");return r.length!==i.length?[]:(i=i.filter((function(e,n){var i=t.sizes.find((function(t){return e===t.join("x")}));return i||r.splice(n,1),!!i})),r.length&&i.length&&i.length===r.length?r.map((function(n,r){var o,a=i[r].split("x");a&&2==a.length&&(o=[parseInt(a[0]),parseInt(a[1])]);var s={bidder:"ix",params:{siteId:n,size:o}};return e.bidFloor&&(s.params.bidFloor=e.bidFloor,s.params.bidFloorCur=e.bidFloorCur||"USD"),ee(e,t,s),s})):[])}(s,e));break;case"rubicon":i(function(e,t,n){if(!e.accountId||!e.siteId||!e.zoneId)return[];if(null!=e.sizes){var r=[];e.sizes.toString().split(",").forEach((function(e){var t=parseInt(e);isNaN(t)||r.push(t)})),delete e.sizes,e.sizes=r}return e.video&&e.video.size&&(e.playerWidth=e.video.size[0],e.playerHeight=e.video.size[1]),[{bidder:"rubicon",params:e}]}(s));break;case"pubmatic":i(function(e,t,n){if(!e.adSlot||!e.publisherId)return[];var r=e.adSlot.split(",");return(r=r.filter((function(e){var n=e.trim().split("@"),r=n[n.length-1];return!!t.sizes.find((function(e){return r===e.join("x")}))}))).map((function(n){var r={bidder:"pubmatic",params:{adSlot:n,publisherId:e.publisherId,kadfloor:e.kadfloor}};return ee(e,t,r),r}))}(s,e));break;case"appnexus":i(function(e,t,n){return e.placementId?e.placementId.split(",").map((function(n){var i={bidder:"appnexus",params:{placementId:n,reserve:e.reserve,usePaymentRule:!0}};if("video"===t.type){var o=e.video?Object.keys(e.video):[];o&&o.forEach((function(t){e.video[t]||delete e.video[t]})),e.video.mimes&&!Array.isArray(e.video.mimes)&&(e.video.mimes=e.video.mimes.split(",").map((function(e){return e.trim()}))),e.video.playback_method&&!Array.isArray(e.video.playback_method)&&(e.video.playback_method=e.video.playback_method.split(",").map((function(e){return e.trim()}))),i.params.video=r({},t.mediaOptions,e.video),e.video.size&&(i.params.video.w=e.video.size[0],i.params.video.h=e.video.size[1]),e.video.size&&(i.params.video.playerSize=e.video.size),i.params.video.frameworks=i.params.video.api}return i})):[]}(s,e));break;case"consumable":i(function(e,t,n){if(!(e.networkId&&e.siteId&&e.unitId&&e.unitName))return[];var r=e.unitId.split(","),i=e.unitName.split(","),o=e.zoneIds.split(",");return r.length!==i.length||r.length!==o.length?[]:r.map((function(t,n){return{bidder:"consumable",params:{networkId:e.networkId?parseInt(e.networkId):void 0,siteId:e.networkId?parseInt(e.siteId):void 0,unitId:r[n]?parseInt(r[n]):void 0,unitName:i[n],zoneIds:[o[n]]}}}))}(s));break;case"brightcom":i((a=s).publisherId?[{bidder:"brightcom",params:a}]:[]);break;case"rhythmone":i(function(e,t,n){return e.placementId?[{bidder:"rhythmone",params:e}]:[]}(s));break;case"conversant":i(function(e,t,n){var i={bidder:"conversant",params:e};if("video"===t.type){var o=e.video?Object.keys(e.video):[];o&&o.forEach((function(t){e.video[t]||delete e.video[t],e.video.mimes&&!Array.isArray(e.video.mimes)&&(e.video.mimes=e.video.mimes.split(",").map((function(e){return e.trim()}))),e.video.api&&!Array.isArray(e.video.api)&&(e.video.api=e.video.api.split(",").map((function(e){return parseInt(e.trim())}))),e.video.protocols&&!Array.isArray(e.video.protocols)&&(e.video.protocols=e.video.protocols.split(",").map((function(e){return parseInt(e.trim())})))})),i.params=r(i.params,t.mediaOptions,e.video),i.params.video&&delete i.params.video}return[i]}(s,e));break;default:n.push({bidder:o,params:r({},s)})}})),n}function ne(){return window.__definedSlots=window.__definedSlots||{}}var re=function(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(e){return}}();function ie(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(i){if("TypeError"!==i.name)throw i;for(var n=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),r=0;r<e.length;r+=1)n.append(e[r]);return n.getBlob(t.type)}}"undefined"==typeof Promise&&require("lie/polyfill");var oe=Promise;function ae(e,t){t&&e.then((function(e){t(null,e)}),(function(e){t(e)}))}function se(e,t,n){"function"==typeof t&&e.then(t),"function"==typeof n&&e.catch(n)}function ce(e){return"string"!=typeof e&&(e=String(e)),e}function ue(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var de,le="local-forage-detect-blob-support",fe={},pe=Object.prototype.toString,me="readonly",ve="readwrite";function ge(e){return"boolean"==typeof de?oe.resolve(de):function(e){return new oe((function(t){var n=e.transaction(le,ve),r=ie([""]);n.objectStore(le).put(r,"key"),n.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)},n.oncomplete=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);t(n||!e||parseInt(e[1],10)>=43)}})).catch((function(){return!1}))}(e).then((function(e){return de=e}))}function he(e){var t=fe[e.name],n={};n.promise=new oe((function(e,t){n.resolve=e,n.reject=t})),t.deferredOperations.push(n),t.dbReady?t.dbReady=t.dbReady.then((function(){return n.promise})):t.dbReady=n.promise}function be(e){var t=fe[e.name].deferredOperations.pop();if(t)return t.resolve(),t.promise}function ye(e,t){var n=fe[e.name].deferredOperations.pop();if(n)return n.reject(t),n.promise}function we(e,t){return new oe((function(n,r){if(fe[e.name]=fe[e.name]||{forages:[],db:null,dbReady:null,deferredOperations:[]},e.db){if(!t)return n(e.db);he(e),e.db.close()}var i=[e.name];t&&i.push(e.version);var o=re.open.apply(re,i);t&&(o.onupgradeneeded=function(t){var n=o.result;try{n.createObjectStore(e.storeName),t.oldVersion<=1&&n.createObjectStore(le)}catch(e){if("ConstraintError"!==e.name)throw e}}),o.onerror=function(e){e.preventDefault(),r(o.error)},o.onsuccess=function(){var t=o.result;t.onversionchange=function(e){e.target.close()},n(t),be(e)}}))}function Ie(e){return we(e,!1)}function _e(e){return we(e,!0)}function Ce(e,t){if(!e.db)return!0;var n=!e.db.objectStoreNames.contains(e.storeName),r=e.version<e.db.version,i=e.version>e.db.version;if(r&&(e.version,e.version=e.db.version),i||n){if(n){var o=e.db.version+1;o>e.version&&(e.version=o)}return!0}return!1}function Se(e){var t=function(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),i=0;i<t;i++)r[i]=e.charCodeAt(i);return n}(atob(e.data));return ie([t],{type:e.type})}function xe(e){return e&&e.__local_forage_encoded_blob}function Ae(e){var t=this,n=t._initReady().then((function(){var e=fe[t._dbInfo.name];if(e&&e.dbReady)return e.dbReady}));return se(n,e,e),n}function Ee(e,t,n,r){void 0===r&&(r=1);try{var i=e.db.transaction(e.storeName,t);n(null,i)}catch(i){if(r>0&&(!e.db||"InvalidStateError"===i.name||"NotFoundError"===i.name))return oe.resolve().then((function(){if(!e.db||"NotFoundError"===i.name&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),_e(e)})).then((function(){return function(e){he(e);for(var t=fe[e.name],n=t.forages,r=0;r<n.length;r++){var i=n[r];i._dbInfo.db&&(i._dbInfo.db.close(),i._dbInfo.db=null)}return e.db=null,Ie(e).then((function(t){return e.db=t,Ce(e)?_e(e):t})).then((function(r){e.db=t.db=r;for(var i=0;i<n.length;i++)n[i]._dbInfo.db=r})).catch((function(t){throw ye(e,t),t}))}(e).then((function(){Ee(e,t,n,r-1)}))})).catch(n);n(i)}}var Te={_driver:"asyncStorage",_initStorage:function(e){var t=this,n={db:null};if(e)for(var r in e)n[r]=e[r];var i=fe[n.name];i||(i={forages:[],db:null,dbReady:null,deferredOperations:[]},fe[n.name]=i),i.forages.push(t),t._initReady||(t._initReady=t.ready,t.ready=Ae);var o=[];function a(){return oe.resolve()}for(var s=0;s<i.forages.length;s++){var c=i.forages[s];c!==t&&o.push(c._initReady().catch(a))}var u=i.forages.slice(0);return oe.all(o).then((function(){return n.db=i.db,Ie(n)})).then((function(e){return n.db=e,Ce(n,t._defaultConfig.version)?_e(n):e})).then((function(e){n.db=i.db=e,t._dbInfo=n;for(var r=0;r<u.length;r++){var o=u[r];o!==t&&(o._dbInfo.db=n.db,o._dbInfo.version=n.version)}}))},_support:function(){try{if(!re||!re.open)return!1;var e="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),t="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!e||t)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(e){return!1}}(),iterate:function(e,t){var n=this,r=new oe((function(t,r){n.ready().then((function(){Ee(n._dbInfo,me,(function(i,o){if(i)return r(i);try{var a=o.objectStore(n._dbInfo.storeName).openCursor(),s=1;a.onsuccess=function(){var n=a.result;if(n){var r=n.value;xe(r)&&(r=Se(r));var i=e(r,n.key,s++);void 0!==i?t(i):n.continue()}else t()},a.onerror=function(){r(a.error)}}catch(e){r(e)}}))})).catch(r)}));return ae(r,t),r},getItem:function(e,t){var n=this;e=ce(e);var r=new oe((function(t,r){n.ready().then((function(){Ee(n._dbInfo,me,(function(i,o){if(i)return r(i);try{var a=o.objectStore(n._dbInfo.storeName).get(e);a.onsuccess=function(){var e=a.result;void 0===e&&(e=null),xe(e)&&(e=Se(e)),t(e)},a.onerror=function(){r(a.error)}}catch(e){r(e)}}))})).catch(r)}));return ae(r,t),r},setItem:function(e,t,n){var r=this;e=ce(e);var i=new oe((function(n,i){var o;r.ready().then((function(){return o=r._dbInfo,"[object Blob]"===pe.call(t)?ge(o.db).then((function(e){return e?t:(n=t,new oe((function(e,t){var r=new FileReader;r.onerror=t,r.onloadend=function(t){var r=btoa(t.target.result||"");e({__local_forage_encoded_blob:!0,data:r,type:n.type})},r.readAsBinaryString(n)})));var n})):t})).then((function(t){Ee(r._dbInfo,ve,(function(o,a){if(o)return i(o);try{var s=a.objectStore(r._dbInfo.storeName);null===t&&(t=void 0);var c=s.put(t,e);a.oncomplete=function(){void 0===t&&(t=null),n(t)},a.onabort=a.onerror=function(){var e=c.error?c.error:c.transaction.error;i(e)}}catch(e){i(e)}}))})).catch(i)}));return ae(i,n),i},removeItem:function(e,t){var n=this;e=ce(e);var r=new oe((function(t,r){n.ready().then((function(){Ee(n._dbInfo,ve,(function(i,o){if(i)return r(i);try{var a=o.objectStore(n._dbInfo.storeName).delete(e);o.oncomplete=function(){t()},o.onerror=function(){r(a.error)},o.onabort=function(){var e=a.error?a.error:a.transaction.error;r(e)}}catch(e){r(e)}}))})).catch(r)}));return ae(r,t),r},clear:function(e){var t=this,n=new oe((function(e,n){t.ready().then((function(){Ee(t._dbInfo,ve,(function(r,i){if(r)return n(r);try{var o=i.objectStore(t._dbInfo.storeName).clear();i.oncomplete=function(){e()},i.onabort=i.onerror=function(){var e=o.error?o.error:o.transaction.error;n(e)}}catch(e){n(e)}}))})).catch(n)}));return ae(n,e),n},length:function(e){var t=this,n=new oe((function(e,n){t.ready().then((function(){Ee(t._dbInfo,me,(function(r,i){if(r)return n(r);try{var o=i.objectStore(t._dbInfo.storeName).count();o.onsuccess=function(){e(o.result)},o.onerror=function(){n(o.error)}}catch(e){n(e)}}))})).catch(n)}));return ae(n,e),n},key:function(e,t){var n=this,r=new oe((function(t,r){e<0?t(null):n.ready().then((function(){Ee(n._dbInfo,me,(function(i,o){if(i)return r(i);try{var a=o.objectStore(n._dbInfo.storeName),s=!1,c=a.openKeyCursor();c.onsuccess=function(){var n=c.result;n?0===e||s?t(n.key):(s=!0,n.advance(e)):t(null)},c.onerror=function(){r(c.error)}}catch(e){r(e)}}))})).catch(r)}));return ae(r,t),r},keys:function(e){var t=this,n=new oe((function(e,n){t.ready().then((function(){Ee(t._dbInfo,me,(function(r,i){if(r)return n(r);try{var o=i.objectStore(t._dbInfo.storeName).openKeyCursor(),a=[];o.onsuccess=function(){var t=o.result;t?(a.push(t.key),t.continue()):e(a)},o.onerror=function(){n(o.error)}}catch(e){n(e)}}))})).catch(n)}));return ae(n,e),n},dropInstance:function(e,t){t=ue.apply(this,arguments);var n=this.config();(e="function"!=typeof e&&e||{}).name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName);var r,i=this;if(e.name){var o=e.name===n.name&&i._dbInfo.db,a=o?oe.resolve(i._dbInfo.db):Ie(e).then((function(t){var n=fe[e.name],r=n.forages;n.db=t;for(var i=0;i<r.length;i++)r[i]._dbInfo.db=t;return t}));r=e.storeName?a.then((function(t){if(t.objectStoreNames.contains(e.storeName)){var n=t.version+1;he(e);var r=fe[e.name],i=r.forages;t.close();for(var o=0;o<i.length;o++){var a=i[o];a._dbInfo.db=null,a._dbInfo.version=n}var s=new oe((function(t,r){var i=re.open(e.name,n);i.onerror=function(e){i.result.close(),r(e)},i.onupgradeneeded=function(){i.result.deleteObjectStore(e.storeName)},i.onsuccess=function(){var e=i.result;e.close(),t(e)}}));return s.then((function(e){r.db=e;for(var t=0;t<i.length;t++){var n=i[t];n._dbInfo.db=e,be(n._dbInfo)}})).catch((function(t){throw(ye(e,t)||oe.resolve()).catch((function(){})),t}))}})):a.then((function(t){he(e);var n=fe[e.name],r=n.forages;t.close();for(var i=0;i<r.length;i++)r[i]._dbInfo.db=null;var o=new oe((function(t,n){var r=re.deleteDatabase(e.name);r.onerror=function(){var e=r.result;e&&e.close(),n(r.error)},r.onblocked=function(){},r.onsuccess=function(){var e=r.result;e&&e.close(),t(e)}}));return o.then((function(e){n.db=e;for(var t=0;t<r.length;t++)be(r[t]._dbInfo)})).catch((function(t){throw(ye(e,t)||oe.resolve()).catch((function(){})),t}))}))}else r=oe.reject("Invalid arguments");return ae(r,t),r}},Oe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ke=/^~~local_forage_type~([^~]+)~/,je="__lfsc__:",Re=je.length,ze="arbf",Pe="blob",Be="si08",De="ui08",Ue="uic8",Ne="si16",Fe="si32",Me="ur16",qe="ui32",Le="fl32",We="fl64",He=Re+ze.length,Ve=Object.prototype.toString;function Ge(e){var t,n,r,i,o,a=.75*e.length,s=e.length,c=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var u=new ArrayBuffer(a),d=new Uint8Array(u);for(t=0;t<s;t+=4)n=Oe.indexOf(e[t]),r=Oe.indexOf(e[t+1]),i=Oe.indexOf(e[t+2]),o=Oe.indexOf(e[t+3]),d[c++]=n<<2|r>>4,d[c++]=(15&r)<<4|i>>2,d[c++]=(3&i)<<6|63&o;return u}function $e(e){var t,n=new Uint8Array(e),r="";for(t=0;t<n.length;t+=3)r+=Oe[n[t]>>2],r+=Oe[(3&n[t])<<4|n[t+1]>>4],r+=Oe[(15&n[t+1])<<2|n[t+2]>>6],r+=Oe[63&n[t+2]];return n.length%3==2?r=r.substring(0,r.length-1)+"=":n.length%3==1&&(r=r.substring(0,r.length-2)+"=="),r}var Je={serialize:function(e,t){var n="";if(e&&(n=Ve.call(e)),e&&("[object ArrayBuffer]"===n||e.buffer&&"[object ArrayBuffer]"===Ve.call(e.buffer))){var r,i=je;e instanceof ArrayBuffer?(r=e,i+=ze):(r=e.buffer,"[object Int8Array]"===n?i+=Be:"[object Uint8Array]"===n?i+=De:"[object Uint8ClampedArray]"===n?i+=Ue:"[object Int16Array]"===n?i+=Ne:"[object Uint16Array]"===n?i+=Me:"[object Int32Array]"===n?i+=Fe:"[object Uint32Array]"===n?i+=qe:"[object Float32Array]"===n?i+=Le:"[object Float64Array]"===n?i+=We:t(new Error("Failed to get type for BinaryArray"))),t(i+$e(r))}else if("[object Blob]"===n){var o=new FileReader;o.onload=function(){var n="~~local_forage_type~"+e.type+"~"+$e(this.result);t("__lfsc__:blob"+n)},o.readAsArrayBuffer(e)}else try{t(JSON.stringify(e))}catch(n){console.error("Couldn't convert value into a JSON string: ",e),t(null,n)}},deserialize:function(e){if(e.substring(0,Re)!==je)return JSON.parse(e);var t,n=e.substring(He),r=e.substring(Re,He);if(r===Pe&&ke.test(n)){var i=n.match(ke);t=i[1],n=n.substring(i[0].length)}var o=Ge(n);switch(r){case ze:return o;case Pe:return ie([o],{type:t});case Be:return new Int8Array(o);case De:return new Uint8Array(o);case Ue:return new Uint8ClampedArray(o);case Ne:return new Int16Array(o);case Me:return new Uint16Array(o);case Fe:return new Int32Array(o);case qe:return new Uint32Array(o);case Le:return new Float32Array(o);case We:return new Float64Array(o);default:throw new Error("Unkown type: "+r)}},stringToBuffer:Ge,bufferToString:$e};function Xe(e,t,n,r){e.executeSql("CREATE TABLE IF NOT EXISTS ".concat(t.storeName," ")+"(id INTEGER PRIMARY KEY, key unique, value)",[],n,r)}function Qe(e,t,n,r,i,o){e.executeSql(n,r,i,(function(e,a){a.code===a.SYNTAX_ERR?e.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[t.storeName],(function(e,s){s.rows.length?o(e,a):Xe(e,t,(function(){e.executeSql(n,r,i,o)}),o)}),o):o(e,a)}),o)}function Ke(e,t,n,r){var i=this;e=ce(e);var o=new oe((function(o,a){i.ready().then((function(){void 0===t&&(t=null);var s=t,c=i._dbInfo;c.serializer.serialize(t,(function(t,u){u?a(u):c.db.transaction((function(n){Qe(n,c,"INSERT OR REPLACE INTO ".concat(c.storeName," ")+"(key, value) VALUES (?, ?)",[e,t],(function(){o(s)}),(function(e,t){a(t)}))}),(function(t){if(t.code===t.QUOTA_ERR){if(r>0)return void o(Ke.apply(i,[e,s,n,r-1]));a(t)}}))}))})).catch(a)}));return ae(o,n),o}function Ye(e){return new oe((function(t,n){e.transaction((function(r){r.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],(function(n,r){for(var i=[],o=0;o<r.rows.length;o++)i.push(r.rows.item(o).name);t({db:e,storeNames:i})}),(function(e,t){n(t)}))}),(function(e){n(e)}))}))}var Ze={_driver:"webSQLStorage",_initStorage:function(e){var t=this,n={db:null};if(e)for(var r in e)n[r]="string"!=typeof e[r]?e[r].toString():e[r];var i=new oe((function(e,r){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(e){return r(e)}n.db.transaction((function(i){Xe(i,n,(function(){t._dbInfo=n,e()}),(function(e,t){r(t)}))}),r)}));return n.serializer=Je,i},_support:"function"==typeof openDatabase,iterate:function(e,t){var n=this,r=new oe((function(t,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){Qe(n,i,"SELECT * FROM ".concat(i.storeName),[],(function(n,r){for(var o=r.rows,a=o.length,s=0;s<a;s++){var c=o.item(s),u=c.value;if(u&&(u=i.serializer.deserialize(u)),void 0!==(u=e(u,c.key,s+1)))return void t(u)}t()}),(function(e,t){r(t)}))}))})).catch(r)}));return ae(r,t),r},getItem:function(e,t){var n=this;e=ce(e);var r=new oe((function(t,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){Qe(n,i,"SELECT * FROM ".concat(i.storeName," WHERE key = ? LIMIT 1"),[e],(function(e,n){var r=n.rows.length?n.rows.item(0).value:null;r&&(r=i.serializer.deserialize(r)),t(r)}),(function(e,t){r(t)}))}))})).catch(r)}));return ae(r,t),r},setItem:function(e,t,n){return Ke.apply(this,[e,t,n,1])},removeItem:function(e,t){var n=this;e=ce(e);var r=new oe((function(t,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){Qe(n,i,"DELETE FROM ".concat(i.storeName," WHERE key = ?"),[e],(function(){t()}),(function(e,t){r(t)}))}))})).catch(r)}));return ae(r,t),r},clear:function(e){var t=this,n=new oe((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){Qe(t,r,"DELETE FROM ".concat(r.storeName),[],(function(){e()}),(function(e,t){n(t)}))}))})).catch(n)}));return ae(n,e),n},length:function(e){var t=this,n=new oe((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){Qe(t,r,"SELECT COUNT(key) as c FROM ".concat(r.storeName),[],(function(t,n){var r=n.rows.item(0).c;e(r)}),(function(e,t){n(t)}))}))})).catch(n)}));return ae(n,e),n},key:function(e,t){var n=this,r=new oe((function(t,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){Qe(n,i,"SELECT key FROM ".concat(i.storeName," WHERE id = ? LIMIT 1"),[e+1],(function(e,n){var r=n.rows.length?n.rows.item(0).key:null;t(r)}),(function(e,t){r(t)}))}))})).catch(r)}));return ae(r,t),r},keys:function(e){var t=this,n=new oe((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){Qe(t,r,"SELECT key FROM ".concat(r.storeName),[],(function(t,n){for(var r=[],i=0;i<n.rows.length;i++)r.push(n.rows.item(i).key);e(r)}),(function(e,t){n(t)}))}))})).catch(n)}));return ae(n,e),n},dropInstance:function(e,t){t=ue.apply(this,arguments);var n=this.config();(e="function"!=typeof e&&e||{}).name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName);var r,i=this;return ae(r=e.name?new oe((function(t){var r;r=e.name===n.name?i._dbInfo.db:openDatabase(e.name,"","",0),e.storeName?t({db:r,storeNames:[e.storeName]}):t(Ye(r))})).then((function(e){return new oe((function(t,n){e.db.transaction((function(r){function i(e){return new oe((function(t,n){r.executeSql("DROP TABLE IF EXISTS ".concat(e),[],(function(){t()}),(function(e,t){n(t)}))}))}for(var o=[],a=0,s=e.storeNames.length;a<s;a++)o.push(i(e.storeNames[a]));oe.all(o).then((function(){t()})).catch((function(e){n(e)}))}),(function(e){n(e)}))}))})):oe.reject("Invalid arguments"),t),r}};function et(e,t){var n=e.name+"/";return e.storeName!==t.storeName&&(n+=e.storeName+"/"),n}function tt(){return!function(){var e="_localforage_support_test";try{return localStorage.setItem(e,!0),localStorage.removeItem(e),!1}catch(e){return!0}}()||localStorage.length>0}var nt={_driver:"localStorageWrapper",_initStorage:function(e){var t={};if(e)for(var n in e)t[n]=e[n];return t.keyPrefix=et(e,this._defaultConfig),tt()?(this._dbInfo=t,t.serializer=Je,oe.resolve()):oe.reject()},_support:function(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(e){return!1}}(),iterate:function(e,t){var n=this,r=n.ready().then((function(){for(var t=n._dbInfo,r=t.keyPrefix,i=r.length,o=localStorage.length,a=1,s=0;s<o;s++){var c=localStorage.key(s);if(0===c.indexOf(r)){var u=localStorage.getItem(c);if(u&&(u=t.serializer.deserialize(u)),void 0!==(u=e(u,c.substring(i),a++)))return u}}}));return ae(r,t),r},getItem:function(e,t){var n=this;e=ce(e);var r=n.ready().then((function(){var t=n._dbInfo,r=localStorage.getItem(t.keyPrefix+e);return r&&(r=t.serializer.deserialize(r)),r}));return ae(r,t),r},setItem:function(e,t,n){var r=this;e=ce(e);var i=r.ready().then((function(){void 0===t&&(t=null);var n=t;return new oe((function(i,o){var a=r._dbInfo;a.serializer.serialize(t,(function(t,r){if(r)o(r);else try{localStorage.setItem(a.keyPrefix+e,t),i(n)}catch(e){"QuotaExceededError"!==e.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==e.name||o(e),o(e)}}))}))}));return ae(i,n),i},removeItem:function(e,t){var n=this;e=ce(e);var r=n.ready().then((function(){var t=n._dbInfo;localStorage.removeItem(t.keyPrefix+e)}));return ae(r,t),r},clear:function(e){var t=this,n=t.ready().then((function(){for(var e=t._dbInfo.keyPrefix,n=localStorage.length-1;n>=0;n--){var r=localStorage.key(n);0===r.indexOf(e)&&localStorage.removeItem(r)}}));return ae(n,e),n},length:function(e){var t=this.keys().then((function(e){return e.length}));return ae(t,e),t},key:function(e,t){var n=this,r=n.ready().then((function(){var t,r=n._dbInfo;try{t=localStorage.key(e)}catch(e){t=null}return t&&(t=t.substring(r.keyPrefix.length)),t}));return ae(r,t),r},keys:function(e){var t=this,n=t.ready().then((function(){for(var e=t._dbInfo,n=localStorage.length,r=[],i=0;i<n;i++){var o=localStorage.key(i);0===o.indexOf(e.keyPrefix)&&r.push(o.substring(e.keyPrefix.length))}return r}));return ae(n,e),n},dropInstance:function(e,t){if(t=ue.apply(this,arguments),!(e="function"!=typeof e&&e||{}).name){var n=this.config();e.name=e.name||n.name,e.storeName=e.storeName||n.storeName}var r,i=this;return r=e.name?new oe((function(t){e.storeName?t(et(e,i._defaultConfig)):t("".concat(e.name,"/"))})).then((function(e){for(var t=localStorage.length-1;t>=0;t--){var n=localStorage.key(t);0===n.indexOf(e)&&localStorage.removeItem(n)}})):oe.reject("Invalid arguments"),ae(r,t),r}},rt=function(e,t){for(var n,r,i=e.length,o=0;o<i;){if((n=e[o])===(r=t)||"number"==typeof n&&"number"==typeof r&&isNaN(n)&&isNaN(r))return!0;o++}return!1},it=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},ot={},at={},st={INDEXEDDB:Te,WEBSQL:Ze,LOCALSTORAGE:nt},ct=[st.INDEXEDDB._driver,st.WEBSQL._driver,st.LOCALSTORAGE._driver],ut=["dropInstance"],dt=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(ut),lt={description:"",driver:ct.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function ft(e,t){e[t]=function(){var n=arguments;return e.ready().then((function(){return e[t].apply(e,n)}))}}function pt(){for(var e=1;e<arguments.length;e++){var t=arguments[e];if(t)for(var n in t)t.hasOwnProperty(n)&&(it(t[n])?arguments[0][n]=t[n].slice():arguments[0][n]=t[n])}return arguments[0]}class mt{constructor(e){for(var t in st)if(st.hasOwnProperty(t)){var n=st[t],r=n._driver;this[t]=r,ot[r]||this.defineDriver(n)}this._defaultConfig=pt({},lt),this._config=pt({},this._defaultConfig,e),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch((function(){}))}config(e){if("object"==typeof e){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var t in e){if("storeName"===t&&(e[t]=e[t].replace(/\W/g,"_")),"version"===t&&"number"!=typeof e[t])return new Error("Database version must be a number.");this._config[t]=e[t]}return!("driver"in e)||!e.driver||this.setDriver(this._config.driver)}return"string"==typeof e?this._config[e]:this._config}defineDriver(e,t,n){var r=new oe((function(t,n){try{var r=e._driver,i=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!e._driver)return void n(i);for(var o=dt.concat("_initStorage"),a=0,s=o.length;a<s;a++){var c=o[a];if((!rt(ut,c)||e[c])&&"function"!=typeof e[c])return void n(i)}!function(){for(var t=function(e){return function(){var t=new Error("Method ".concat(e," is not implemented by the current driver")),n=oe.reject(t);return ae(n,arguments[arguments.length-1]),n}},n=0,r=ut.length;n<r;n++){var i=ut[n];e[i]||(e[i]=t(i))}}();var u=function(n){ot[r]&&console.info("Redefining LocalForage driver: ".concat(r)),ot[r]=e,at[r]=n,t()};"_support"in e?e._support&&"function"==typeof e._support?e._support().then(u,n):u(!!e._support):u(!0)}catch(e){n(e)}}));return se(r,t,n),r}driver(){return this._driver||null}getDriver(e,t,n){var r=ot[e]?oe.resolve(ot[e]):oe.reject(new Error("Driver not found."));return se(r,t,n),r}getSerializer(e){var t=oe.resolve(Je);return se(t,e),t}ready(e){var t=this,n=t._driverSet.then((function(){return null===t._ready&&(t._ready=t._initDriver()),t._ready}));return se(n,e,e),n}setDriver(e,t,n){var r=this;it(e)||(e=[e]);var i=this._getSupportedDrivers(e);function o(){r._config.driver=r.driver()}function a(e){return r._extend(e),o(),r._ready=r._initStorage(r._config),r._ready}var s=null!==this._driverSet?this._driverSet.catch((function(){return oe.resolve()})):oe.resolve();return this._driverSet=s.then((function(){var e=i[0];return r._dbInfo=null,r._ready=null,r.getDriver(e).then((function(e){r._driver=e._driver,o(),r._wrapLibraryMethodsWithReady(),r._initDriver=function(e){return function(){var t=0;return function n(){for(;t<e.length;){var i=e[t];return t++,r._dbInfo=null,r._ready=null,r.getDriver(i).then(a).catch(n)}o();var s=new Error("No available storage method found.");return r._driverSet=oe.reject(s),r._driverSet}()}}(i)}))})).catch((function(){o();var e=new Error("No available storage method found.");return r._driverSet=oe.reject(e),r._driverSet})),se(this._driverSet,t,n),this._driverSet}supports(e){return!!at[e]}_extend(e){pt(this,e)}_getSupportedDrivers(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];this.supports(i)&&t.push(i)}return t}_wrapLibraryMethodsWithReady(){for(var e=0,t=dt.length;e<t;e++)ft(this,dt[e])}createInstance(e){return new mt(e)}}var vt=new mt,gt={exports:{}};!function(e,t){var n="__lodash_hash_undefined__",r=9007199254740991,i="[object Arguments]",o="[object Boolean]",a="[object Date]",s="[object Function]",c="[object GeneratorFunction]",u="[object Map]",d="[object Number]",l="[object Object]",f="[object Promise]",p="[object RegExp]",m="[object Set]",v="[object String]",g="[object Symbol]",h="[object WeakMap]",b="[object ArrayBuffer]",y="[object DataView]",w="[object Float32Array]",I="[object Float64Array]",_="[object Int8Array]",C="[object Int16Array]",S="[object Int32Array]",x="[object Uint8Array]",A="[object Uint8ClampedArray]",E="[object Uint16Array]",T="[object Uint32Array]",O=/\w*$/,k=/^\[object .+?Constructor\]$/,j=/^(?:0|[1-9]\d*)$/,z={};z[i]=z["[object Array]"]=z[b]=z[y]=z[o]=z[a]=z[w]=z[I]=z[_]=z[C]=z[S]=z[u]=z[d]=z[l]=z[p]=z[m]=z[v]=z[g]=z[x]=z[A]=z[E]=z[T]=!0,z["[object Error]"]=z[s]=z[h]=!1;var P="object"==typeof R&&R&&R.Object===Object&&R,B="object"==typeof self&&self&&self.Object===Object&&self,D=P||B||Function("return this")(),U=t&&!t.nodeType&&t,N=U&&e&&!e.nodeType&&e,F=N&&N.exports===U;function M(e,t){return e.set(t[0],t[1]),e}function q(e,t){return e.add(t),e}function L(e,t,n,r){var i=-1,o=e?e.length:0;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function W(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function H(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function V(e,t){return function(n){return e(t(n))}}function G(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var $,J=Array.prototype,X=Function.prototype,Q=Object.prototype,K=D["__core-js_shared__"],Y=($=/[^.]+$/.exec(K&&K.keys&&K.keys.IE_PROTO||""))?"Symbol(src)_1."+$:"",Z=X.toString,ee=Q.hasOwnProperty,te=Q.toString,ne=RegExp("^"+Z.call(ee).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),re=F?D.Buffer:void 0,ie=D.Symbol,oe=D.Uint8Array,ae=V(Object.getPrototypeOf,Object),se=Object.create,ce=Q.propertyIsEnumerable,ue=J.splice,de=Object.getOwnPropertySymbols,le=re?re.isBuffer:void 0,fe=V(Object.keys,Object),pe=Ne(D,"DataView"),me=Ne(D,"Map"),ve=Ne(D,"Promise"),ge=Ne(D,"Set"),he=Ne(D,"WeakMap"),be=Ne(Object,"create"),ye=We(pe),we=We(me),Ie=We(ve),_e=We(ge),Ce=We(he),Se=ie?ie.prototype:void 0,xe=Se?Se.valueOf:void 0;function Ae(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ee(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Te(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Oe(e){this.__data__=new Ee(e)}function ke(e,t){var n=Ve(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&Ge(e)}(e)&&ee.call(e,"callee")&&(!ce.call(e,"callee")||te.call(e)==i)}(e)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],r=n.length,o=!!r;for(var a in e)!t&&!ee.call(e,a)||o&&("length"==a||qe(a,r))||n.push(a);return n}function je(e,t,n){var r=e[t];ee.call(e,t)&&He(r,n)&&(void 0!==n||t in e)||(e[t]=n)}function Re(e,t){for(var n=e.length;n--;)if(He(e[n][0],t))return n;return-1}function ze(e,t,n,r,f,h,k){var j;if(r&&(j=h?r(e,f,h,k):r(e)),void 0!==j)return j;if(!Xe(e))return e;var R=Ve(e);if(R){if(j=function(e){var t=e.length,n=e.constructor(t);return t&&"string"==typeof e[0]&&ee.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!t)return function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}(e,j)}else{var P=Me(e),B=P==s||P==c;if($e(e))return function(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}(e,t);if(P==l||P==i||B&&!h){if(W(e))return h?e:{};if(j=function(e){return"function"!=typeof e.constructor||Le(e)?{}:Xe(t=ae(e))?se(t):{};var t}(B?{}:e),!t)return function(e,t){return De(e,Fe(e),t)}(e,function(e,t){return e&&De(t,Qe(t),e)}(j,e))}else{if(!z[P])return h?e:{};j=function(e,t,n,r){var i,s=e.constructor;switch(t){case b:return Be(e);case o:case a:return new s(+e);case y:return function(e,t){var n=t?Be(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,r);case w:case I:case _:case C:case S:case x:case A:case E:case T:return function(e,t){var n=t?Be(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}(e,r);case u:return function(e,t,n){return L(t?n(H(e),!0):H(e),M,new e.constructor)}(e,r,n);case d:case v:return new s(e);case p:return function(e){var t=new e.constructor(e.source,O.exec(e));return t.lastIndex=e.lastIndex,t}(e);case m:return function(e,t,n){return L(t?n(G(e),!0):G(e),q,new e.constructor)}(e,r,n);case g:return i=e,xe?Object(xe.call(i)):{}}}(e,P,ze,t)}}k||(k=new Oe);var D=k.get(e);if(D)return D;if(k.set(e,j),!R)var U=n?function(e){return function(e,t,n){var r=t(e);return Ve(e)?r:function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}(r,n(e))}(e,Qe,Fe)}(e):Qe(e);return function(e,t){for(var n=-1,r=e?e.length:0;++n<r&&!1!==t(e[n],n,e););}(U||e,(function(i,o){U&&(i=e[o=i]),je(j,o,ze(i,t,n,r,o,e,k))})),j}function Pe(e){return!(!Xe(e)||(t=e,Y&&Y in t))&&(Je(e)||W(e)?ne:k).test(We(e));var t}function Be(e){var t=new e.constructor(e.byteLength);return new oe(t).set(new oe(e)),t}function De(e,t,n,r){n||(n={});for(var i=-1,o=t.length;++i<o;){var a=t[i],s=r?r(n[a],e[a],a,n,e):void 0;je(n,a,void 0===s?e[a]:s)}return n}function Ue(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function Ne(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Pe(n)?n:void 0}Ae.prototype.clear=function(){this.__data__=be?be(null):{}},Ae.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},Ae.prototype.get=function(e){var t=this.__data__;if(be){var r=t[e];return r===n?void 0:r}return ee.call(t,e)?t[e]:void 0},Ae.prototype.has=function(e){var t=this.__data__;return be?void 0!==t[e]:ee.call(t,e)},Ae.prototype.set=function(e,t){return this.__data__[e]=be&&void 0===t?n:t,this},Ee.prototype.clear=function(){this.__data__=[]},Ee.prototype.delete=function(e){var t=this.__data__,n=Re(t,e);return!(n<0||(n==t.length-1?t.pop():ue.call(t,n,1),0))},Ee.prototype.get=function(e){var t=this.__data__,n=Re(t,e);return n<0?void 0:t[n][1]},Ee.prototype.has=function(e){return Re(this.__data__,e)>-1},Ee.prototype.set=function(e,t){var n=this.__data__,r=Re(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},Te.prototype.clear=function(){this.__data__={hash:new Ae,map:new(me||Ee),string:new Ae}},Te.prototype.delete=function(e){return Ue(this,e).delete(e)},Te.prototype.get=function(e){return Ue(this,e).get(e)},Te.prototype.has=function(e){return Ue(this,e).has(e)},Te.prototype.set=function(e,t){return Ue(this,e).set(e,t),this},Oe.prototype.clear=function(){this.__data__=new Ee},Oe.prototype.delete=function(e){return this.__data__.delete(e)},Oe.prototype.get=function(e){return this.__data__.get(e)},Oe.prototype.has=function(e){return this.__data__.has(e)},Oe.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Ee){var r=n.__data__;if(!me||r.length<199)return r.push([e,t]),this;n=this.__data__=new Te(r)}return n.set(e,t),this};var Fe=de?V(de,Object):function(){return[]},Me=function(e){return te.call(e)};function qe(e,t){return!!(t=null==t?r:t)&&("number"==typeof e||j.test(e))&&e>-1&&e%1==0&&e<t}function Le(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Q)}function We(e){if(null!=e){try{return Z.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function He(e,t){return e===t||e!=e&&t!=t}(pe&&Me(new pe(new ArrayBuffer(1)))!=y||me&&Me(new me)!=u||ve&&Me(ve.resolve())!=f||ge&&Me(new ge)!=m||he&&Me(new he)!=h)&&(Me=function(e){var t=te.call(e),n=t==l?e.constructor:void 0,r=n?We(n):void 0;if(r)switch(r){case ye:return y;case we:return u;case Ie:return f;case _e:return m;case Ce:return h}return t});var Ve=Array.isArray;function Ge(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}(e.length)&&!Je(e)}var $e=le||function(){return!1};function Je(e){var t=Xe(e)?te.call(e):"";return t==s||t==c}function Xe(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Qe(e){return Ge(e)?ke(e):function(e){if(!Le(e))return fe(e);var t=[];for(var n in Object(e))ee.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)}e.exports=function(e){return ze(e,!0,!0)}}(gt,gt.exports);var ht,bt=gt.exports,yt="bd_timeout",wt="json",It={globalBidUnits:[],cacheBidsByAdUnit:function(e){if(!e||!e.cpm)return!1;var t=function(e,t){var n=window.sessionStorage.getItem(e);return"json"===t?JSON.parse(n||"{}"):n}(yt,wt),r=!!t.lastAuction&&t.lastAuction[e.adUnitCode];if(r&&r.highestBid&&e.auctionId==r.highestBid.auctionId){(r.highestBid.cpm<e.cpm||r.highestBid.cpm===e.cpm&&r.highestBid.timeToRespond>e.timeToRespond)&&(t.lastAuction[e.adUnitCode].highestBid=e);var i=t.lastAuction[e.adUnitCode].bidderCpms;i&&i[e.bidder]?e.cpm>i[e.bidder]&&(i[e.bidder]=e.cpm):i[e.bidder]=e.cpm,t.lastAuction[e.adUnitCode].bidderCpms=i}else t.lastAuction=t.lastAuction||{},t.lastAuction[e.adUnitCode]={highestBid:e,bidderCpms:n({},e.bidder,e.cpm)};return function(e,t,n){var r;r="json"===n?JSON.stringify(t):t,window.sessionStorage.setItem(e,r)}(yt,t,wt),function(e,t,n){var r;r="json"===n?JSON.stringify(t):t,vt.setItem(e,r)}(yt,t,wt),!0},getAdUnitTimeout:function(e,t){var n=t.lastAuction[e]?t.lastAuction[e].highestBid:null,r=t.bidderTimeouts[e];return n&&(!r||r<n.timeToRespond)&&(r=n.timeToRespond),t.bidderTimeouts[e]=r||0,t.bidderTimeouts[e]},cacheBids:function(e){this.cacheBidsByAdUnit(e)},getBidderTimeout:function(e){return zamaf.config.options.prebid.prebidTimeout||3e3},clearBidCache:function(){!function(e){window.sessionStorage.removeItem(e)}(yt)},setGlobalBidUnits:function(e,t){var n=function(e){return e.code===t},r=bt(e.find(n)),i=this.globalBidUnits.findIndex(n);i<0?this.globalBidUnits.push(r):this.globalBidUnits[i]=r},updateGlobalBidWithUserIds:function(){this.globalBidUnits.forEach((function(e){e.bids.forEach((function(e){e.userId=PWT.getUserIds(),e.userIdAsEids=owpbjs.getUserIdsAsEids()}))}))},setBidderOrderAndGroups:async function(e){}},_t="__lodash_hash_undefined__",Ct="[object Function]",St="[object GeneratorFunction]",xt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,At=/^\w*$/,Et=/^\./,Tt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ot=/\\(\\)?/g,kt=/^\[object .+?Constructor\]$/,jt="object"==typeof R&&R&&R.Object===Object&&R,Rt="object"==typeof self&&self&&self.Object===Object&&self,zt=jt||Rt||Function("return this")(),Pt=Array.prototype,Bt=Function.prototype,Dt=Object.prototype,Ut=zt["__core-js_shared__"],Nt=(ht=/[^.]+$/.exec(Ut&&Ut.keys&&Ut.keys.IE_PROTO||""))?"Symbol(src)_1."+ht:"",Ft=Bt.toString,Mt=Dt.hasOwnProperty,qt=Dt.toString,Lt=RegExp("^"+Ft.call(Mt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Wt=zt.Symbol,Ht=Pt.splice,Vt=nn(zt,"Map"),Gt=nn(Object,"create"),$t=Wt?Wt.prototype:void 0,Jt=$t?$t.toString:void 0;function Xt(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Qt(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Kt(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Yt(e,t){for(var n,r,i=e.length;i--;)if((n=e[i][0])===(r=t)||n!=n&&r!=r)return i;return-1}function Zt(e,t){var n;t=function(e,t){if(sn(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!un(e))||(At.test(e)||!xt.test(e)||null!=t&&e in Object(t))}(t,e)?[t]:sn(n=t)?n:rn(n);for(var r=0,i=t.length;null!=e&&r<i;)e=e[on(t[r++])];return r&&r==i?e:void 0}function en(e){if(!cn(e)||(t=e,Nt&&Nt in t))return!1;var t,n=function(e){var t=cn(e)?qt.call(e):"";return t==Ct||t==St}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?Lt:kt;return n.test(function(e){if(null!=e){try{return Ft.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}function tn(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function nn(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return en(n)?n:void 0}Xt.prototype.clear=function(){this.__data__=Gt?Gt(null):{}},Xt.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},Xt.prototype.get=function(e){var t=this.__data__;if(Gt){var n=t[e];return n===_t?void 0:n}return Mt.call(t,e)?t[e]:void 0},Xt.prototype.has=function(e){var t=this.__data__;return Gt?void 0!==t[e]:Mt.call(t,e)},Xt.prototype.set=function(e,t){return this.__data__[e]=Gt&&void 0===t?_t:t,this},Qt.prototype.clear=function(){this.__data__=[]},Qt.prototype.delete=function(e){var t=this.__data__,n=Yt(t,e);return!(n<0||(n==t.length-1?t.pop():Ht.call(t,n,1),0))},Qt.prototype.get=function(e){var t=this.__data__,n=Yt(t,e);return n<0?void 0:t[n][1]},Qt.prototype.has=function(e){return Yt(this.__data__,e)>-1},Qt.prototype.set=function(e,t){var n=this.__data__,r=Yt(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},Kt.prototype.clear=function(){this.__data__={hash:new Xt,map:new(Vt||Qt),string:new Xt}},Kt.prototype.delete=function(e){return tn(this,e).delete(e)},Kt.prototype.get=function(e){return tn(this,e).get(e)},Kt.prototype.has=function(e){return tn(this,e).has(e)},Kt.prototype.set=function(e,t){return tn(this,e).set(e,t),this};var rn=an((function(e){var t;e=null==(t=e)?"":function(e){if("string"==typeof e)return e;if(un(e))return Jt?Jt.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(t);var n=[];return Et.test(e)&&n.push(""),e.replace(Tt,(function(e,t,r,i){n.push(r?i.replace(Ot,"$1"):t||e)})),n}));function on(e){if("string"==typeof e||un(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function an(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a),a};return n.cache=new(an.Cache||Kt),n}an.Cache=Kt;var sn=Array.isArray;function cn(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function un(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==qt.call(e)}var dn=function(e,t,n){var r=null==e?void 0:Zt(e,t);return void 0===r?n:r},ln=M("pbjs:adUnits");function fn(e){return!("video"!=(t=e).type&&"interscroller"!=t.type&&(!t.sizes||!t.sizes.length||1===t.sizes.length&&1==t.sizes[0][0])||!e.bidderParams);var t}function pn(e,t){var n=ne();return n[e]?(n[e]._hb=t,!0):(ln.warn("elementId not in global",e),!1)}function mn(e,t,n){n||(n=Array.isArray(t.bidders)?t.bidders:Object.keys(t.bidders),t.bidderGroups&&t.bidderGroups.length&&(n=t.bidderGroups[e.bidderGroupTracker]));var r={};n.forEach((function(e){r[e]=t.bidders[e]}));var i={code:e.elementId,mediaTypes:gn(e),bids:te(e,r)};if(e.elementId&&e.code){var o="".concat(e.code,"#").concat(e.elementId);i.ortb2Imp={ext:{gpid:o,data:{pbadslot:o}}}}return i}function vn(e){return e.excludeBidSizes?e.sizes.filter((function(t){return!e.excludeBidSizes.find((function(e){return e[0]==t[0]&&e[1]==t[1]}))})):e.sizes}function gn(e){var t={};if(Array.isArray(e.mediaTypes)&&e.mediaTypes.length){var n=e.mediaOptions||{};e.mediaTypes.includes("native")&&(t.native={image:{required:!0,sizes:dn(n,"native.sizes",[390,220]),sendId:!0},title:{required:!0,sendId:!0},body:{required:dn(n,"native.body",!1),sendId:!0},sponsoredBy:{required:!0,sendId:!0},clickUrl:{required:!0,sendId:!0}}),e.mediaTypes.includes("banner")&&(t.banner={sizes:vn(e),pos:e.pos||0}),e.mediaTypes.includes("video")&&(t.video={context:dn(n,"context","outstream"),mimes:dn(n,"mimes",["video/mp4"]),playerSize:dn(n,"playerSize",[400,600]),minduration:dn(n,"minduration"),maxduration:dn(n,"maxduration"),skippable:dn(n,"skippable"),startdelay:dn(n,"startdelay"),playbackmethod:dn(n,"playbackmethod"),api:dn(n,"api"),protocols:dn(n,"protocols"),linearity:dn(n,"linearity")})}else t.banner={sizes:vn(e),pos:e.pos||0};return t}function hn(e,t){var n,r=t.options&&t.options.prebid;return e.forEach((function(e){e.hasOwnProperty("bidderGroupTracker")||(e.bidderGroupTracker=0),r.bidderGroups&&r.bidderGroups.length&&!isNaN(e.bidderGroupTracker)&&(e.bidderGroupTracker=(e.bidderGroupTracker+1)%r.bidderGroups.length),n=function(e,t){return t.bidderGroups&&t.bidderGroups[e]?(ln.log("Biddergroup: Using bidder index for biddergroup",e,t.bidderGroups[e]),t.bidderGroups[e]):t.bidders?(ln.log("Biddergroup: No bidder group, using bidders",t.bidders),Object.keys(t.bidders)):(ln.log("No biddergroups or bidders returning empty array []"),[])}(e.bidderGroupTracker,r)})),pbjs.que.push(window.zamaf.wrap((async function(){ln.log("requestBids sent");var t=[],r=[];e.forEach((function(e){var n=e.slot;!function(e){var t=ne();return!!t[e]&&t[e]._hb}(n.getSlotElementId())?t.push(n):r.push(n)})),r.length>0&&(ln.log("number of hb slots:",r.length),await It.setBidderOrderAndGroups(n),bn(It.getBidderTimeout(e),r)),t.length>0&&(ln.log("number of non hb slots:",r.length),L(t)),t.length||r.length||ln.warn("unable to refresh slots")}))),n}function bn(e,t){var n=t.map((function(e){return e.getSlotElementId()}));ln.slots("requestHBAds",t),ln.log("prebidTimeout",e),pbjs.requestBids({adUnitCodes:n,bidsBackHandler:function(e){zamaf.pbjsBidsDone(t,e)},timeout:e}),zamaf.pbjsBidsRequest(t,e)}function yn(e){return function(t){return function(e,t){return e.getSlotElementId()===t}(e,t)}}function wn(e,t){!function(e){e&&Object.entries(e).forEach((function(e){var t=i(e,2),n=t[0],r=t[1],o=0;r.bids.forEach((function(e){e.cpm>o&&(o=e.cpm)})),o&&zamaf._getGlobals().globalSlots[n].slot.setTargeting("zaf_cpm",o)}))}(e),pbjs.setTargetingForGPTAsync(t,yn)}var In=M("pbjs:tracker");function _n(e){return{auctionId:e.auctionId,auctionStart:e.auctionStart,bidderCode:e.bidderCode,bidsCount:e.bids?e.bids.length:0,gdprConsentApiVersion:e.gdprConsent?e.gdprConsent.apiVersion:0,gdprConsentString:e.gdprConsent?e.gdprConsent.consentString:"NONE",gdprApplies:e.gdprConsent?e.gdprConsent.gdprApplies:"NONE",cmpId:e.gdprConsent?e.gdprConsent.vendorData.cmpId:0,cmpStatus:e.gdprConsent?e.gdprConsent.vendorData.cmpStatus:"NONE",cmpEventStatus:e.gdprConsent?e.gdprConsent.vendorData.eventStatus:"NONE",isGDPR:zamaf.user.isGDPR}}function Cn(e,t){var n={};n.auctionId=t.auctionId,n.auctionStart=t.timestamp,n.auctionEnd=t.auctionEnd;var i=function(e){var t={},n=e.bidsReceived||[];return o(new Set(n.map((function(e){return e.adUnitCode})))).forEach((function(e){var r={minBid:0,maxBid:0,bidderHighestBid:{},totalBid:0,winningBidder:"",elementId:e,bidFloor:0};n.filter((function(t){return t.adUnitCode==e})).forEach((function(e){var t=e.floorData&&e.floorData.cpmAfterAdjustments?e.floorData.cpmAfterAdjustments:e.originalCpm,n=r.bidderHighestBid[e.bidder]||0;r.bidderHighestBid[e.bidder]=n>t?n:t,r.bidFloor=e.floorData?e.floorData.floorValue:0,r.winningBidder=t>r.maxBid?e.bidder:r.winningBidder||e.bidder,r.maxBid=t>r.maxBid?t:r.maxBid})),t[e]=r})),t}(t),a=function(e,t){var n={};t.adUnits.forEach((function(e){n[e.code]=new Set(e.bids.map((function(e){return e.bidder})))}));var r=[];return Object.values(e).forEach((function(e){var t=Object.values(e.bidderHighestBid);if(t&&t.length){e.totalBid=t.reduce((function(e,t){return e+t}),0),e.meanBid=Math.round(e.totalBid/t.length*1e5)/1e5,e.bids=t.sort((function(e,t){return e-t})),e.minBid=e.bids[0];var i=Math.floor(t.length/2);e.medianBid=Math.round(1e5*(t.length%2!=0?t[i]:(t[i-1]+t[i])/2))/1e5}e.biddersConfiguredCount=n[e.elementId].size;var a=Object.keys(e.bidderHighestBid||{});e.biddersParticipated=a.join(","),e.biddersConfigured=o(n[e.elementId]).join(","),e.biddersReceivedCount=a.length,r.push(e)})),r}(i,t);a.forEach((function(t){r(t,n),delete t.bids,delete t.bidderHighestBid,delete t.totalBid,e._eventEmitter.emit("zaf:auctionEndMetrics",e.config,t)}))}function Sn(){In.log("Setup pbjs tracking events"),pbjs.que.push(zamaf.wrap((function(){G.forEach((function(e){!function(e,t){var n=t.split(":");In.log("Setup tracking event: ".concat(t)),pbjs.onEvent(n[1],e.wrap((function(n){try{if(t===H&&(In.log("Tracking auction end metrics"),Cn(e,n)),!n)return In.warn("tracking: empty data pbjs tracking event data for event "+t),!1;var i={};i[$]=n[$]?n[$].join(","):"EMPTY",i[J]=n.bidderRequests?n.bidderRequests.map((function(e){return e.bidderCode})).join(","):"EMPTY",i[X]=n.length||0,i[K]=n[K]?n[K]:{},i[Q]=n.bids?n.bids.length:0,i[Y]=Object.keys(n).join(",")||"EMPTY",i[Z]=n||{},t===V&&(i=r(i,_n(n))),e._eventEmitter.emit(t,e.config,i)}catch(e){In.error("tracking: unable to process pbjs tracking event data for event "+t,e)}})))}(zamaf,e)}))})))}var xn=M("pbjs:events"),An=Object.prototype.toString,En=Array.isArray||function(e){return"[object Array]"===An.call(e)};function Tn(e){return"function"==typeof e}function On(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function kn(e,t){return null!=e&&"object"==typeof e&&t in e}var jn=RegExp.prototype.test,Rn=/\S/;function zn(e){return!function(e,t){return jn.call(e,t)}(Rn,e)}var Pn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},Bn=/\s*/,Dn=/\s+/,Un=/\s*=/,Nn=/\s*\}/,Fn=/#|\^|\/|>|\{|&|=|!/;function Mn(e){this.string=e,this.tail=e,this.pos=0}function qn(e,t){this.view=e,this.cache={".":this.view},this.parent=t}function Ln(){this.templateCache={_cache:{},set:function(e,t){this._cache[e]=t},get:function(e){return this._cache[e]},clear:function(){this._cache={}}}}Mn.prototype.eos=function(){return""===this.tail},Mn.prototype.scan=function(e){var t=this.tail.match(e);if(!t||0!==t.index)return"";var n=t[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n},Mn.prototype.scanUntil=function(e){var t,n=this.tail.search(e);switch(n){case-1:t=this.tail,this.tail="";break;case 0:t="";break;default:t=this.tail.substring(0,n),this.tail=this.tail.substring(n)}return this.pos+=t.length,t},qn.prototype.push=function(e){return new qn(e,this)},qn.prototype.lookup=function(e){var t,n,r,i=this.cache;if(i.hasOwnProperty(e))t=i[e];else{for(var o,a,s,c=this,u=!1;c;){if(e.indexOf(".")>0)for(o=c.view,a=e.split("."),s=0;null!=o&&s<a.length;)s===a.length-1&&(u=kn(o,a[s])||(n=o,r=a[s],null!=n&&"object"!=typeof n&&n.hasOwnProperty&&n.hasOwnProperty(r))),o=o[a[s++]];else o=c.view[e],u=kn(c.view,e);if(u){t=o;break}c=c.parent}i[e]=t}return Tn(t)&&(t=t.call(this.view)),t},Ln.prototype.clearCache=function(){void 0!==this.templateCache&&this.templateCache.clear()},Ln.prototype.parse=function(e,t){var n=this.templateCache,r=e+":"+(t||Wn.tags).join(":"),i=void 0!==n,o=i?n.get(r):void 0;return null==o&&(o=function(e,t){if(!e)return[];var n,r,i,o=!1,a=[],s=[],c=[],u=!1,d=!1,l="",f=0;function p(){if(u&&!d)for(;c.length;)delete s[c.pop()];else c=[];u=!1,d=!1}function m(e){if("string"==typeof e&&(e=e.split(Dn,2)),!En(e)||2!==e.length)throw new Error("Invalid tags: "+e);n=new RegExp(On(e[0])+"\\s*"),r=new RegExp("\\s*"+On(e[1])),i=new RegExp("\\s*"+On("}"+e[1]))}m(t||Wn.tags);for(var v,g,h,b,y,w,I=new Mn(e);!I.eos();){if(v=I.pos,h=I.scanUntil(n))for(var _=0,C=h.length;_<C;++_)zn(b=h.charAt(_))?(c.push(s.length),l+=b):(d=!0,o=!0,l+=" "),s.push(["text",b,v,v+1]),v+=1,"\n"===b&&(p(),l="",f=0,o=!1);if(!I.scan(n))break;if(u=!0,g=I.scan(Fn)||"name",I.scan(Bn),"="===g?(h=I.scanUntil(Un),I.scan(Un),I.scanUntil(r)):"{"===g?(h=I.scanUntil(i),I.scan(Nn),I.scanUntil(r),g="&"):h=I.scanUntil(r),!I.scan(r))throw new Error("Unclosed tag at "+I.pos);if(y=">"==g?[g,h,v,I.pos,l,f,o]:[g,h,v,I.pos],f++,s.push(y),"#"===g||"^"===g)a.push(y);else if("/"===g){if(!(w=a.pop()))throw new Error('Unopened section "'+h+'" at '+v);if(w[1]!==h)throw new Error('Unclosed section "'+w[1]+'" at '+v)}else"name"===g||"{"===g||"&"===g?d=!0:"="===g&&m(h)}if(p(),w=a.pop())throw new Error('Unclosed section "'+w[1]+'" at '+I.pos);return function(e){for(var t,n=[],r=n,i=[],o=0,a=e.length;o<a;++o)switch((t=e[o])[0]){case"#":case"^":r.push(t),i.push(t),r=t[4]=[];break;case"/":i.pop()[5]=t[2],r=i.length>0?i[i.length-1][4]:n;break;default:r.push(t)}return n}(function(e){for(var t,n,r=[],i=0,o=e.length;i<o;++i)(t=e[i])&&("text"===t[0]&&n&&"text"===n[0]?(n[1]+=t[1],n[3]=t[3]):(r.push(t),n=t));return r}(s))}(e,t),i&&n.set(r,o)),o},Ln.prototype.render=function(e,t,n,r){var i=this.getConfigTags(r),o=this.parse(e,i),a=t instanceof qn?t:new qn(t,void 0);return this.renderTokens(o,a,n,e,r)},Ln.prototype.renderTokens=function(e,t,n,r,i){for(var o,a,s,c="",u=0,d=e.length;u<d;++u)s=void 0,"#"===(a=(o=e[u])[0])?s=this.renderSection(o,t,n,r,i):"^"===a?s=this.renderInverted(o,t,n,r,i):">"===a?s=this.renderPartial(o,t,n,i):"&"===a?s=this.unescapedValue(o,t):"name"===a?s=this.escapedValue(o,t,i):"text"===a&&(s=this.rawValue(o)),void 0!==s&&(c+=s);return c},Ln.prototype.renderSection=function(e,t,n,r,i){var o=this,a="",s=t.lookup(e[1]);if(s){if(En(s))for(var c=0,u=s.length;c<u;++c)a+=this.renderTokens(e[4],t.push(s[c]),n,r,i);else if("object"==typeof s||"string"==typeof s||"number"==typeof s)a+=this.renderTokens(e[4],t.push(s),n,r,i);else if(Tn(s)){if("string"!=typeof r)throw new Error("Cannot use higher-order sections without the original template");null!=(s=s.call(t.view,r.slice(e[3],e[5]),(function(e){return o.render(e,t,n,i)})))&&(a+=s)}else a+=this.renderTokens(e[4],t,n,r,i);return a}},Ln.prototype.renderInverted=function(e,t,n,r,i){var o=t.lookup(e[1]);if(!o||En(o)&&0===o.length)return this.renderTokens(e[4],t,n,r,i)},Ln.prototype.indentPartial=function(e,t,n){for(var r=t.replace(/[^ \t]/g,""),i=e.split("\n"),o=0;o<i.length;o++)i[o].length&&(o>0||!n)&&(i[o]=r+i[o]);return i.join("\n")},Ln.prototype.renderPartial=function(e,t,n,r){if(n){var i=this.getConfigTags(r),o=Tn(n)?n(e[1]):n[e[1]];if(null!=o){var a=e[6],s=e[5],c=e[4],u=o;0==s&&c&&(u=this.indentPartial(o,c,a));var d=this.parse(u,i);return this.renderTokens(d,t,n,u,r)}}},Ln.prototype.unescapedValue=function(e,t){var n=t.lookup(e[1]);if(null!=n)return n},Ln.prototype.escapedValue=function(e,t,n){var r=this.getConfigEscape(n)||Wn.escape,i=t.lookup(e[1]);if(null!=i)return"number"==typeof i&&r===Wn.escape?String(i):r(i)},Ln.prototype.rawValue=function(e){return e[1]},Ln.prototype.getConfigTags=function(e){return En(e)?e:e&&"object"==typeof e?e.tags:void 0},Ln.prototype.getConfigEscape=function(e){return e&&"object"==typeof e&&!En(e)?e.escape:void 0};var Wn={name:"mustache.js",version:"4.2.0",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(e){Hn.templateCache=e},get templateCache(){return Hn.templateCache}},Hn=new Ln;Wn.clearCache=function(){return Hn.clearCache()},Wn.parse=function(e,t){return Hn.parse(e,t)},Wn.render=function(e,t,n,r){if("string"!=typeof e)throw new TypeError('Invalid template! Template should be a "string" but "'+(En(i=e)?"array":typeof i)+'" was given as the first argument for mustache#render(template, view, partials)');var i;return Hn.render(e,t,n,r)},Wn.escape=function(e){return String(e).replace(/[&<>"'`=\/]/g,(function(e){return Pn[e]}))},Wn.Scanner=Mn,Wn.Context=qn,Wn.Writer=Ln;var Vn="sharedIdSystem",Gn="id5IdSystem",$n="publinkIdSystem",Jn="userId",Xn="gptPreAuction",Qn=M("pbjs:init");zamaf.cmd.push({event:"zaf:slots:done",once:!0,handler:function(e){return function(e){var t=e.options,n=void 0===t?{}:t,i=e.enableCMP,o=void 0!==i&&i,a=e.enableCCPA,s=void 0!==a&&a,c=n.noDisplay,u=void 0!==c&&c,d=n.prebid,l=d.initMaxRetries,f=void 0===l?50:l,p=d.initPollMs,m=void 0===p?50:p,v=d.consentTimeout,g=d.allowAuctionWithoutConsent,h=d.server,b=d.bidders,y=d.useBidCache,w=void 0!==y&&y,I=d.overrideGPT,_=void 0!==I&&I,C=d.modules,S=void 0===C?[]:C,x=d.bidderGroups,A=void 0===x?[]:x,E=d.realTimeData,T=void 0===E?{}:E,O=d.floor,k=d.floorMin,j=d.floorUrl,R=d.auctionDelay,z=d.ID5,P=void 0===z?{enabled:!1}:z,B=d.enablePublink,D=d.sellers,U=void 0===D?{version:"1.0",sellers:[]}:D;Zn(),Qn.log("running prebid-init");var N=Array.isArray(b)?b:Object.keys(b);!A.length&&N&&N.length?A[0]=N:A.length||(A[0]=[]);var F,M=It.getBidderTimeout(),H=f,V=function(e){var t=e.options,n=!(!t.uam||!t.uam.pubID);return q.log("isUamEnabled",n),n}({options:n});pbjs.retries=0,_&&(F=M,pbjs.que.push(window.zamaf.wrap((function(){googletag.cmd.push(window.zamaf.wrap((function(){googletag.pubads().refreshOrig=googletag.pubads().refresh,googletag.pubads().refresh=function(e){ln.slots("overrideGPTFn refresh",e);for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];bn.apply(void 0,[F,e].concat(n))}})))})))),pbjs.que.push(window.zamaf.wrap((function(){-1!==pbjs.installedModules.indexOf(Xn)&&pbjs.setConfig({gptPreAuction:{enabled:!0,useDefaultPreAuction:!0,mcmEnabled:!1}})}))),o&&window.zamaf.user&&window.zamaf.user.isGDPR&&pbjs.que.push(window.zamaf.wrap((function(){pbjs.setConfig({consentManagement:{gdpr:{cmpApi:"iab",timeout:v||8e3,allowAuctionWithoutConsent:g||!1,defaultGdprScope:!0}}})}))),s&&window.zamaf.user&&window.zamaf.user.isCCPA&&pbjs.que.push(window.zamaf.wrap((function(){pbjs.setConfig({consentManagement:{usp:{cmpApi:"iab",timeout:v||8e3,allowAuctionWithoutConsent:g||!1}}})}))),P.enabled&&pbjs.que.push(window.zamaf.wrap((function(){S.indexOf(Gn)>-1&&(-1==S.indexOf(Jn)&&S.push(Jn),pbjs.setConfig({userSync:{userIds:[{name:"id5Id",params:{partner:P.partner},storage:{type:"html5",name:"id5id",expires:90,refreshInSeconds:28800}}]}}))}))),-1!==S.indexOf(Vn)&&(-1==S.indexOf(Jn)&&S.push(Jn),er()),B&&pbjs.que.push(window.zamaf.wrap((function(){-1==S.indexOf($n)&&S.push($n),-1==S.indexOf(Jn)&&S.push(Jn),-1==S.indexOf(Vn)&&(S.push(Vn),er()),pbjs.setConfig({userSync:{userIds:[{name:"publinkId",storage:{type:"cookie",name:"pbjs_publink",expires:30}}],syncDelay:3e3}})}))),U&&U.sellers.length&&pbjs.que.push(window.zamaf.wrap((function(){var e=U.sellers.map((function(e){var t=e.seller_id;return{asi:e.domain,sid:t,hp:1}}));pbjs.setConfig({schain:{validation:"strict",config:{ver:U.version,complete:1,nodes:e}}})}))),T&&T.dataProviders&&pbjs.que.push(window.zamaf.wrap((function(){pbjs.setConfig({realTimeData:T})})));var G=[],$={};if(!Array.isArray(b))for(var J in b)if(b[J].server){G.push(J);var X=b[J].serverPercentage||0;100!=X&&($[J]={bidSource:{server:X,client:100-X},includeSourceKvp:!0})}function Q(e){if(!pbjs.initAdserverSet){if(!googletag.pubadsReady&&pbjs.retries<=H)return Qn.log("retrying",pbjs.retries),setTimeout(window.zamaf.wrap(Q),m),void pbjs.retries++;pbjs.initAdserverSet=!0,Qn.log("pbjs.initAdserverSet is true"),u?Qn.log("not requesting ads, either noDisplay is true or uam is enabled"):googletag.cmd.push(window.zamaf.wrap((function(){wn(e),V?Qn.log("uam is enabled; not refreshing"):L()})))}}G&&G.length&&pbjs.que.push(window.zamaf.wrap((function(){pbjs.setConfig({s2sConfig:{accountId:h.accountId||"1",enabled:!0,testing:!0,bidders:G,timeout:M,adapter:"prebidServer",endpoint:"".concat(h.host,"/openrtb2/auction"),syncEndpoint:"".concat(h.host,"/cookie_sync"),bidderControl:$,extPrebid:{bidadjustmentfactors:{}}}})}))),zamaf.cmd.push({event:W,prepend:!0,handler:function(e,t,n){"pbjs"===e&&(pbjs.initAdserverSet?googletag.cmd.push(zamaf.wrap((function(){wn(n),V?Qn.log("uam is enabled; not refreshing"):L(t)}))):Q(n))}}),pbjs.que.push(window.zamaf.wrap((async function(){var e=10;zamaf.user.isDesktop||(e=5);var t=n.targetingPrefix||"hb_";pbjs.bidderSettings={sendStandardTargeting:!0,suppressEmptyKeys:!0,standard:{suppressEmptyKeys:!0,adserverTargeting:[{key:t+"bidder",val:function(e){return e.bidderCode||"null"}},{key:t+"adid",val:function(e){return e.adId||"null"}},{key:t+"pb",val:function(e){return e.pbCg||"null"}},{key:t+"size",val:function(e){return e.size||"null"}},{key:t+"source",val:function(e){return e.source||"null"}},{key:t+"format",val:function(e){return e.mediaType||"null"}}]}},N.filter((function(e){return["pubmatic"].indexOf(e)>-1})).length;var i={data:{schema:{fields:["mediaType","size"]},values:{"*|*":O||.01},default:O||.01}};if(j){var o={site:zamaf.config&&zamaf.config.site||"all",device:zamaf.user&&zamaf.user.deviceType||"all",country:zamaf.user&&zamaf.user.countryCode||"all",region:zamaf.user&&zamaf.user.region||"all"};r(i,{auctionDelay:R,floorMin:k,endpoint:{url:Wn.render(j,o)}})}if(pbjs.setConfig({disableAjaxTimeout:!0,useBidCache:w,enableSendAllBids:!1,bidderTimeout:M,bidderSequence:"fixed",timeoutBuffer:400,priceGranularity:Kn,userSync:{syncsPerBidder:e,syncEnabled:!0},floors:i,targetingControls:{allowTargetingKeys:["BIDDER","AD_ID","PRICE_BUCKET","SIZE","DEAL","SOURCE","FORMAT","UUID","CACHE_ID","CACHE_HOST","ADOMAIN"]}}),u)Qn.log("just initializing server"),Q();else{await It.setBidderOrderAndGroups(A[0]);var a=[];pbjs.requestBids({bidsBackHandler:function(e){zamaf.pbjsBidsDone(a,e)},timeout:M}),zamaf.pbjsBidsRequest(a,M)}}))),Qn.log("prebid-init finished")}(e),!0}}),pbjs.que.push((function(){pbjs.onEvent("auctionEnd",(function(e){zamaf.cmd.push(zamaf.wrap((function(){xn.log("auctionEnd",e),zamaf.auctionManager.cacheBids(e),pbjs.zamafAuctionEndTime=Date.now()})))}))})),pbjs.que.push((function(){pbjs.onEvent("bidResponse",(function(e){zamaf.cmd.push((function(){setTimeout(zamaf.wrap((function(){It.cacheBids(e)})),1e4)}))}))})),zamaf.cmd.push({event:"zaf:unit:refresh",handler:function(e,t){var n=t.elementId,r=t.configSlot;xn.log("pbjs unit refresh",n,r,e),r&&hn([r],e)}}),zamaf.cmd.push({event:"zaf:slots:refresh",handler:function(e,t){var n=t.configSlots;xn.log("pbjs slots refresh",n),n&&hn(n,e)}}),zamaf.cmd.push({event:"zaf:unit:define",prepend:!0,handler:function(e,n){var r=n.elementId,i=t(t({},n.configSlot),{},{elementId:r}),o=e.options.prebid.bidders,a=Array.isArray(o)?o:Object.keys(o);xn.log("adding PBUnit",r);var s=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=fn(e);if(pn(e.elementId,r),!r)return ln.log("invalid config passed",e,t),null;var i=mn(e,t,n);return pbjs.que.push(window.zamaf.wrap((function(){ln.log("bidder info passed",i),window.PWT&&"function"==typeof PWT.getUserIds&&i.bids.forEach((function(e){e.userId=PWT.getUserIds(),e.userIdAsEids=owpbjs.getUserIdsAsEids()})),pbjs.addAdUnits(i),"video"==e.type&&pbjs.setConfig({cache:{url:t.cacheUrl||"https://prebid.adnxs.com/pbc/v1/cache"}}),It.setGlobalBidUnits(pbjs.adUnits,e.elementId)}))),i}(i,e.options.prebid,a);s&&!e.options.noDisplay&&pbjs.initAdserverSet?(xn.log("pbjs.initAdserverSet is",!!pbjs.initAdserverSet),xn.log("refreshing ads on defined"),hn([i],e)):(xn.log("pbjs.initAdserverSet is",!!pbjs.initAdserverSet),xn.log("not refreshing ads on defined"))}}),zamaf.cmd.push({event:"zaf:unit:remove",handler:function(e,t){var n=t.elementId;"loading"!==document.readyState&&(xn.log("removing PBUnit",n),function(e){pbjs.que.push(window.zamaf.wrap((function(){pbjs.removeAdUnit(e)})))}(n))}}),zamaf.cmd.push((function(){Sn()}));var Kn={buckets:[{precision:2,min:0,max:30,increment:.01}]},Yn=0;function Zn(){++Yn,window.PWT&&"function"==typeof PWT.getUserIds?pbjs.adUnits.forEach((function(e){e.bids.forEach((function(e){e.userId=PWT.getUserIds(),e.userIdAsEids=owpbjs.getUserIdsAsEids()})),It.updateGlobalBidWithUserIds()})):Yn<40&&setTimeout(Zn,250)}function er(){pbjs.setConfig({userSync:{userIds:[{name:"sharedId",params:{pixelUrl:"/wp-json/pubcid/v1/extend/"},storage:{type:"cookie",name:"_sharedID",expires:365}}]}})}}(),function(){var e=function(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(e){return}}();function n(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(i){if("TypeError"!==i.name)throw i;for(var n=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),r=0;r<e.length;r+=1)n.append(e[r]);return n.getBlob(t.type)}}"undefined"==typeof Promise&&require("lie/polyfill");var r=Promise;function i(e,t){t&&e.then((function(e){t(null,e)}),(function(e){t(e)}))}function a(e,t,n){"function"==typeof t&&e.then(t),"function"==typeof n&&e.catch(n)}function s(e){return"string"!=typeof e&&(e=String(e)),e}function c(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var u,d="local-forage-detect-blob-support",l={},f=Object.prototype.toString,p="readonly",m="readwrite";function v(e){return"boolean"==typeof u?r.resolve(u):function(e){return new r((function(t){var r=e.transaction(d,m),i=n([""]);r.objectStore(d).put(i,"key"),r.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)},r.oncomplete=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);t(n||!e||parseInt(e[1],10)>=43)}})).catch((function(){return!1}))}(e).then((function(e){return u=e}))}function g(e){var t=l[e.name],n={};n.promise=new r((function(e,t){n.resolve=e,n.reject=t})),t.deferredOperations.push(n),t.dbReady?t.dbReady=t.dbReady.then((function(){return n.promise})):t.dbReady=n.promise}function h(e){var t=l[e.name].deferredOperations.pop();if(t)return t.resolve(),t.promise}function b(e,t){var n=l[e.name].deferredOperations.pop();if(n)return n.reject(t),n.promise}function y(t,n){return new r((function(r,i){if(l[t.name]=l[t.name]||{forages:[],db:null,dbReady:null,deferredOperations:[]},t.db){if(!n)return r(t.db);g(t),t.db.close()}var o=[t.name];n&&o.push(t.version);var a=e.open.apply(e,o);n&&(a.onupgradeneeded=function(e){var n=a.result;try{n.createObjectStore(t.storeName),e.oldVersion<=1&&n.createObjectStore(d)}catch(e){if("ConstraintError"!==e.name)throw e}}),a.onerror=function(e){e.preventDefault(),i(a.error)},a.onsuccess=function(){var e=a.result;e.onversionchange=function(e){e.target.close()},r(e),h(t)}}))}function w(e){return y(e,!1)}function I(e){return y(e,!0)}function _(e,t){if(!e.db)return!0;var n=!e.db.objectStoreNames.contains(e.storeName),r=e.version<e.db.version,i=e.version>e.db.version;if(r&&(e.version,e.version=e.db.version),i||n){if(n){var o=e.db.version+1;o>e.version&&(e.version=o)}return!0}return!1}function C(e){var t=function(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),i=0;i<t;i++)r[i]=e.charCodeAt(i);return n}(atob(e.data));return n([t],{type:e.type})}function S(e){return e&&e.__local_forage_encoded_blob}function x(e){var t=this,n=t._initReady().then((function(){var e=l[t._dbInfo.name];if(e&&e.dbReady)return e.dbReady}));return a(n,e,e),n}function A(e,t,n,i){void 0===i&&(i=1);try{var o=e.db.transaction(e.storeName,t);n(null,o)}catch(o){if(i>0&&(!e.db||"InvalidStateError"===o.name||"NotFoundError"===o.name))return r.resolve().then((function(){if(!e.db||"NotFoundError"===o.name&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),I(e)})).then((function(){return function(e){g(e);for(var t=l[e.name],n=t.forages,r=0;r<n.length;r++){var i=n[r];i._dbInfo.db&&(i._dbInfo.db.close(),i._dbInfo.db=null)}return e.db=null,w(e).then((function(t){return e.db=t,_(e)?I(e):t})).then((function(r){e.db=t.db=r;for(var i=0;i<n.length;i++)n[i]._dbInfo.db=r})).catch((function(t){throw b(e,t),t}))}(e).then((function(){A(e,t,n,i-1)}))})).catch(n);n(o)}}var E={_driver:"asyncStorage",_initStorage:function(e){var t=this,n={db:null};if(e)for(var i in e)n[i]=e[i];var o=l[n.name];o||(o={forages:[],db:null,dbReady:null,deferredOperations:[]},l[n.name]=o),o.forages.push(t),t._initReady||(t._initReady=t.ready,t.ready=x);var a=[];function s(){return r.resolve()}for(var c=0;c<o.forages.length;c++){var u=o.forages[c];u!==t&&a.push(u._initReady().catch(s))}var d=o.forages.slice(0);return r.all(a).then((function(){return n.db=o.db,w(n)})).then((function(e){return n.db=e,_(n,t._defaultConfig.version)?I(n):e})).then((function(e){n.db=o.db=e,t._dbInfo=n;for(var r=0;r<d.length;r++){var i=d[r];i!==t&&(i._dbInfo.db=n.db,i._dbInfo.version=n.version)}}))},_support:function(){try{if(!e||!e.open)return!1;var t="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),n="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!t||n)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(e){return!1}}(),iterate:function(e,t){var n=this,o=new r((function(t,r){n.ready().then((function(){A(n._dbInfo,p,(function(i,o){if(i)return r(i);try{var a=o.objectStore(n._dbInfo.storeName).openCursor(),s=1;a.onsuccess=function(){var n=a.result;if(n){var r=n.value;S(r)&&(r=C(r));var i=e(r,n.key,s++);void 0!==i?t(i):n.continue()}else t()},a.onerror=function(){r(a.error)}}catch(e){r(e)}}))})).catch(r)}));return i(o,t),o},getItem:function(e,t){var n=this;e=s(e);var o=new r((function(t,r){n.ready().then((function(){A(n._dbInfo,p,(function(i,o){if(i)return r(i);try{var a=o.objectStore(n._dbInfo.storeName).get(e);a.onsuccess=function(){var e=a.result;void 0===e&&(e=null),S(e)&&(e=C(e)),t(e)},a.onerror=function(){r(a.error)}}catch(e){r(e)}}))})).catch(r)}));return i(o,t),o},setItem:function(e,t,n){var o=this;e=s(e);var a=new r((function(n,i){var a;o.ready().then((function(){return a=o._dbInfo,"[object Blob]"===f.call(t)?v(a.db).then((function(e){return e?t:(n=t,new r((function(e,t){var r=new FileReader;r.onerror=t,r.onloadend=function(t){var r=btoa(t.target.result||"");e({__local_forage_encoded_blob:!0,data:r,type:n.type})},r.readAsBinaryString(n)})));var n})):t})).then((function(t){A(o._dbInfo,m,(function(r,a){if(r)return i(r);try{var s=a.objectStore(o._dbInfo.storeName);null===t&&(t=void 0);var c=s.put(t,e);a.oncomplete=function(){void 0===t&&(t=null),n(t)},a.onabort=a.onerror=function(){var e=c.error?c.error:c.transaction.error;i(e)}}catch(e){i(e)}}))})).catch(i)}));return i(a,n),a},removeItem:function(e,t){var n=this;e=s(e);var o=new r((function(t,r){n.ready().then((function(){A(n._dbInfo,m,(function(i,o){if(i)return r(i);try{var a=o.objectStore(n._dbInfo.storeName).delete(e);o.oncomplete=function(){t()},o.onerror=function(){r(a.error)},o.onabort=function(){var e=a.error?a.error:a.transaction.error;r(e)}}catch(e){r(e)}}))})).catch(r)}));return i(o,t),o},clear:function(e){var t=this,n=new r((function(e,n){t.ready().then((function(){A(t._dbInfo,m,(function(r,i){if(r)return n(r);try{var o=i.objectStore(t._dbInfo.storeName).clear();i.oncomplete=function(){e()},i.onabort=i.onerror=function(){var e=o.error?o.error:o.transaction.error;n(e)}}catch(e){n(e)}}))})).catch(n)}));return i(n,e),n},length:function(e){var t=this,n=new r((function(e,n){t.ready().then((function(){A(t._dbInfo,p,(function(r,i){if(r)return n(r);try{var o=i.objectStore(t._dbInfo.storeName).count();o.onsuccess=function(){e(o.result)},o.onerror=function(){n(o.error)}}catch(e){n(e)}}))})).catch(n)}));return i(n,e),n},key:function(e,t){var n=this,o=new r((function(t,r){e<0?t(null):n.ready().then((function(){A(n._dbInfo,p,(function(i,o){if(i)return r(i);try{var a=o.objectStore(n._dbInfo.storeName),s=!1,c=a.openKeyCursor();c.onsuccess=function(){var n=c.result;n?0===e||s?t(n.key):(s=!0,n.advance(e)):t(null)},c.onerror=function(){r(c.error)}}catch(e){r(e)}}))})).catch(r)}));return i(o,t),o},keys:function(e){var t=this,n=new r((function(e,n){t.ready().then((function(){A(t._dbInfo,p,(function(r,i){if(r)return n(r);try{var o=i.objectStore(t._dbInfo.storeName).openKeyCursor(),a=[];o.onsuccess=function(){var t=o.result;t?(a.push(t.key),t.continue()):e(a)},o.onerror=function(){n(o.error)}}catch(e){n(e)}}))})).catch(n)}));return i(n,e),n},dropInstance:function(t,n){n=c.apply(this,arguments);var o=this.config();(t="function"!=typeof t&&t||{}).name||(t.name=t.name||o.name,t.storeName=t.storeName||o.storeName);var a,s=this;if(t.name){var u=t.name===o.name&&s._dbInfo.db,d=u?r.resolve(s._dbInfo.db):w(t).then((function(e){var n=l[t.name],r=n.forages;n.db=e;for(var i=0;i<r.length;i++)r[i]._dbInfo.db=e;return e}));a=t.storeName?d.then((function(n){if(n.objectStoreNames.contains(t.storeName)){var i=n.version+1;g(t);var o=l[t.name],a=o.forages;n.close();for(var s=0;s<a.length;s++){var c=a[s];c._dbInfo.db=null,c._dbInfo.version=i}var u=new r((function(n,r){var o=e.open(t.name,i);o.onerror=function(e){o.result.close(),r(e)},o.onupgradeneeded=function(){o.result.deleteObjectStore(t.storeName)},o.onsuccess=function(){var e=o.result;e.close(),n(e)}}));return u.then((function(e){o.db=e;for(var t=0;t<a.length;t++){var n=a[t];n._dbInfo.db=e,h(n._dbInfo)}})).catch((function(e){throw(b(t,e)||r.resolve()).catch((function(){})),e}))}})):d.then((function(n){g(t);var i=l[t.name],o=i.forages;n.close();for(var a=0;a<o.length;a++)o[a]._dbInfo.db=null;var s=new r((function(n,r){var i=e.deleteDatabase(t.name);i.onerror=function(){var e=i.result;e&&e.close(),r(i.error)},i.onblocked=function(){},i.onsuccess=function(){var e=i.result;e&&e.close(),n(e)}}));return s.then((function(e){i.db=e;for(var t=0;t<o.length;t++)h(o[t]._dbInfo)})).catch((function(e){throw(b(t,e)||r.resolve()).catch((function(){})),e}))}))}else a=r.reject("Invalid arguments");return i(a,n),a}},T="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",O=/^~~local_forage_type~([^~]+)~/,k="__lfsc__:",j=k.length,R="arbf",z="blob",P="si08",B="ui08",D="uic8",U="si16",N="si32",F="ur16",M="ui32",q="fl32",L="fl64",W=j+R.length,H=Object.prototype.toString;function V(e){var t,n,r,i,o,a=.75*e.length,s=e.length,c=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var u=new ArrayBuffer(a),d=new Uint8Array(u);for(t=0;t<s;t+=4)n=T.indexOf(e[t]),r=T.indexOf(e[t+1]),i=T.indexOf(e[t+2]),o=T.indexOf(e[t+3]),d[c++]=n<<2|r>>4,d[c++]=(15&r)<<4|i>>2,d[c++]=(3&i)<<6|63&o;return u}function G(e){var t,n=new Uint8Array(e),r="";for(t=0;t<n.length;t+=3)r+=T[n[t]>>2],r+=T[(3&n[t])<<4|n[t+1]>>4],r+=T[(15&n[t+1])<<2|n[t+2]>>6],r+=T[63&n[t+2]];return n.length%3==2?r=r.substring(0,r.length-1)+"=":n.length%3==1&&(r=r.substring(0,r.length-2)+"=="),r}var $={serialize:function(e,t){var n="";if(e&&(n=H.call(e)),e&&("[object ArrayBuffer]"===n||e.buffer&&"[object ArrayBuffer]"===H.call(e.buffer))){var r,i=k;e instanceof ArrayBuffer?(r=e,i+=R):(r=e.buffer,"[object Int8Array]"===n?i+=P:"[object Uint8Array]"===n?i+=B:"[object Uint8ClampedArray]"===n?i+=D:"[object Int16Array]"===n?i+=U:"[object Uint16Array]"===n?i+=F:"[object Int32Array]"===n?i+=N:"[object Uint32Array]"===n?i+=M:"[object Float32Array]"===n?i+=q:"[object Float64Array]"===n?i+=L:t(new Error("Failed to get type for BinaryArray"))),t(i+G(r))}else if("[object Blob]"===n){var o=new FileReader;o.onload=function(){var n="~~local_forage_type~"+e.type+"~"+G(this.result);t("__lfsc__:blob"+n)},o.readAsArrayBuffer(e)}else try{t(JSON.stringify(e))}catch(n){console.error("Couldn't convert value into a JSON string: ",e),t(null,n)}},deserialize:function(e){if(e.substring(0,j)!==k)return JSON.parse(e);var t,r=e.substring(W),i=e.substring(j,W);if(i===z&&O.test(r)){var o=r.match(O);t=o[1],r=r.substring(o[0].length)}var a=V(r);switch(i){case R:return a;case z:return n([a],{type:t});case P:return new Int8Array(a);case B:return new Uint8Array(a);case D:return new Uint8ClampedArray(a);case U:return new Int16Array(a);case F:return new Uint16Array(a);case N:return new Int32Array(a);case M:return new Uint32Array(a);case q:return new Float32Array(a);case L:return new Float64Array(a);default:throw new Error("Unkown type: "+i)}},stringToBuffer:V,bufferToString:G};function J(e,t,n,r){e.executeSql("CREATE TABLE IF NOT EXISTS ".concat(t.storeName," ")+"(id INTEGER PRIMARY KEY, key unique, value)",[],n,r)}function X(e,t,n,r,i,o){e.executeSql(n,r,i,(function(e,a){a.code===a.SYNTAX_ERR?e.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[t.storeName],(function(e,s){s.rows.length?o(e,a):J(e,t,(function(){e.executeSql(n,r,i,o)}),o)}),o):o(e,a)}),o)}function Q(e,t,n,o){var a=this;e=s(e);var c=new r((function(r,i){a.ready().then((function(){void 0===t&&(t=null);var s=t,c=a._dbInfo;c.serializer.serialize(t,(function(t,u){u?i(u):c.db.transaction((function(n){X(n,c,"INSERT OR REPLACE INTO ".concat(c.storeName," ")+"(key, value) VALUES (?, ?)",[e,t],(function(){r(s)}),(function(e,t){i(t)}))}),(function(t){if(t.code===t.QUOTA_ERR){if(o>0)return void r(Q.apply(a,[e,s,n,o-1]));i(t)}}))}))})).catch(i)}));return i(c,n),c}function K(e){return new r((function(t,n){e.transaction((function(r){r.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],(function(n,r){for(var i=[],o=0;o<r.rows.length;o++)i.push(r.rows.item(o).name);t({db:e,storeNames:i})}),(function(e,t){n(t)}))}),(function(e){n(e)}))}))}var Y={_driver:"webSQLStorage",_initStorage:function(e){var t=this,n={db:null};if(e)for(var i in e)n[i]="string"!=typeof e[i]?e[i].toString():e[i];var o=new r((function(e,r){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(e){return r(e)}n.db.transaction((function(i){J(i,n,(function(){t._dbInfo=n,e()}),(function(e,t){r(t)}))}),r)}));return n.serializer=$,o},_support:"function"==typeof openDatabase,iterate:function(e,t){var n=this,o=new r((function(t,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){X(n,i,"SELECT * FROM ".concat(i.storeName),[],(function(n,r){for(var o=r.rows,a=o.length,s=0;s<a;s++){var c=o.item(s),u=c.value;if(u&&(u=i.serializer.deserialize(u)),void 0!==(u=e(u,c.key,s+1)))return void t(u)}t()}),(function(e,t){r(t)}))}))})).catch(r)}));return i(o,t),o},getItem:function(e,t){var n=this;e=s(e);var o=new r((function(t,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){X(n,i,"SELECT * FROM ".concat(i.storeName," WHERE key = ? LIMIT 1"),[e],(function(e,n){var r=n.rows.length?n.rows.item(0).value:null;r&&(r=i.serializer.deserialize(r)),t(r)}),(function(e,t){r(t)}))}))})).catch(r)}));return i(o,t),o},setItem:function(e,t,n){return Q.apply(this,[e,t,n,1])},removeItem:function(e,t){var n=this;e=s(e);var o=new r((function(t,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){X(n,i,"DELETE FROM ".concat(i.storeName," WHERE key = ?"),[e],(function(){t()}),(function(e,t){r(t)}))}))})).catch(r)}));return i(o,t),o},clear:function(e){var t=this,n=new r((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){X(t,r,"DELETE FROM ".concat(r.storeName),[],(function(){e()}),(function(e,t){n(t)}))}))})).catch(n)}));return i(n,e),n},length:function(e){var t=this,n=new r((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){X(t,r,"SELECT COUNT(key) as c FROM ".concat(r.storeName),[],(function(t,n){var r=n.rows.item(0).c;e(r)}),(function(e,t){n(t)}))}))})).catch(n)}));return i(n,e),n},key:function(e,t){var n=this,o=new r((function(t,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){X(n,i,"SELECT key FROM ".concat(i.storeName," WHERE id = ? LIMIT 1"),[e+1],(function(e,n){var r=n.rows.length?n.rows.item(0).key:null;t(r)}),(function(e,t){r(t)}))}))})).catch(r)}));return i(o,t),o},keys:function(e){var t=this,n=new r((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){X(t,r,"SELECT key FROM ".concat(r.storeName),[],(function(t,n){for(var r=[],i=0;i<n.rows.length;i++)r.push(n.rows.item(i).key);e(r)}),(function(e,t){n(t)}))}))})).catch(n)}));return i(n,e),n},dropInstance:function(e,t){t=c.apply(this,arguments);var n=this.config();(e="function"!=typeof e&&e||{}).name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName);var o,a=this;return i(o=e.name?new r((function(t){var r;r=e.name===n.name?a._dbInfo.db:openDatabase(e.name,"","",0),e.storeName?t({db:r,storeNames:[e.storeName]}):t(K(r))})).then((function(e){return new r((function(t,n){e.db.transaction((function(i){function o(e){return new r((function(t,n){i.executeSql("DROP TABLE IF EXISTS ".concat(e),[],(function(){t()}),(function(e,t){n(t)}))}))}for(var a=[],s=0,c=e.storeNames.length;s<c;s++)a.push(o(e.storeNames[s]));r.all(a).then((function(){t()})).catch((function(e){n(e)}))}),(function(e){n(e)}))}))})):r.reject("Invalid arguments"),t),o}};function Z(e,t){var n=e.name+"/";return e.storeName!==t.storeName&&(n+=e.storeName+"/"),n}function ee(){return!function(){var e="_localforage_support_test";try{return localStorage.setItem(e,!0),localStorage.removeItem(e),!1}catch(e){return!0}}()||localStorage.length>0}var te={_driver:"localStorageWrapper",_initStorage:function(e){var t={};if(e)for(var n in e)t[n]=e[n];return t.keyPrefix=Z(e,this._defaultConfig),ee()?(this._dbInfo=t,t.serializer=$,r.resolve()):r.reject()},_support:function(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(e){return!1}}(),iterate:function(e,t){var n=this,r=n.ready().then((function(){for(var t=n._dbInfo,r=t.keyPrefix,i=r.length,o=localStorage.length,a=1,s=0;s<o;s++){var c=localStorage.key(s);if(0===c.indexOf(r)){var u=localStorage.getItem(c);if(u&&(u=t.serializer.deserialize(u)),void 0!==(u=e(u,c.substring(i),a++)))return u}}}));return i(r,t),r},getItem:function(e,t){var n=this;e=s(e);var r=n.ready().then((function(){var t=n._dbInfo,r=localStorage.getItem(t.keyPrefix+e);return r&&(r=t.serializer.deserialize(r)),r}));return i(r,t),r},setItem:function(e,t,n){var o=this;e=s(e);var a=o.ready().then((function(){void 0===t&&(t=null);var n=t;return new r((function(r,i){var a=o._dbInfo;a.serializer.serialize(t,(function(t,o){if(o)i(o);else try{localStorage.setItem(a.keyPrefix+e,t),r(n)}catch(e){"QuotaExceededError"!==e.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==e.name||i(e),i(e)}}))}))}));return i(a,n),a},removeItem:function(e,t){var n=this;e=s(e);var r=n.ready().then((function(){var t=n._dbInfo;localStorage.removeItem(t.keyPrefix+e)}));return i(r,t),r},clear:function(e){var t=this,n=t.ready().then((function(){for(var e=t._dbInfo.keyPrefix,n=localStorage.length-1;n>=0;n--){var r=localStorage.key(n);0===r.indexOf(e)&&localStorage.removeItem(r)}}));return i(n,e),n},length:function(e){var t=this.keys().then((function(e){return e.length}));return i(t,e),t},key:function(e,t){var n=this,r=n.ready().then((function(){var t,r=n._dbInfo;try{t=localStorage.key(e)}catch(e){t=null}return t&&(t=t.substring(r.keyPrefix.length)),t}));return i(r,t),r},keys:function(e){var t=this,n=t.ready().then((function(){for(var e=t._dbInfo,n=localStorage.length,r=[],i=0;i<n;i++){var o=localStorage.key(i);0===o.indexOf(e.keyPrefix)&&r.push(o.substring(e.keyPrefix.length))}return r}));return i(n,e),n},dropInstance:function(e,t){if(t=c.apply(this,arguments),!(e="function"!=typeof e&&e||{}).name){var n=this.config();e.name=e.name||n.name,e.storeName=e.storeName||n.storeName}var o,a=this;return o=e.name?new r((function(t){e.storeName?t(Z(e,a._defaultConfig)):t("".concat(e.name,"/"))})).then((function(e){for(var t=localStorage.length-1;t>=0;t--){var n=localStorage.key(t);0===n.indexOf(e)&&localStorage.removeItem(n)}})):r.reject("Invalid arguments"),i(o,t),o}},ne=function(e,t){for(var n,r,i=e.length,o=0;o<i;){if((n=e[o])===(r=t)||"number"==typeof n&&"number"==typeof r&&isNaN(n)&&isNaN(r))return!0;o++}return!1},re=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},ie={},oe={},ae={INDEXEDDB:E,WEBSQL:Y,LOCALSTORAGE:te},se=[ae.INDEXEDDB._driver,ae.WEBSQL._driver,ae.LOCALSTORAGE._driver],ce=["dropInstance"],ue=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(ce),de={description:"",driver:se.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function le(e,t){e[t]=function(){var n=arguments;return e.ready().then((function(){return e[t].apply(e,n)}))}}function fe(){for(var e=1;e<arguments.length;e++){var t=arguments[e];if(t)for(var n in t)t.hasOwnProperty(n)&&(re(t[n])?arguments[0][n]=t[n].slice():arguments[0][n]=t[n])}return arguments[0]}class pe{constructor(e){for(var t in ae)if(ae.hasOwnProperty(t)){var n=ae[t],r=n._driver;this[t]=r,ie[r]||this.defineDriver(n)}this._defaultConfig=fe({},de),this._config=fe({},this._defaultConfig,e),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch((function(){}))}config(e){if("object"==typeof e){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var t in e){if("storeName"===t&&(e[t]=e[t].replace(/\W/g,"_")),"version"===t&&"number"!=typeof e[t])return new Error("Database version must be a number.");this._config[t]=e[t]}return!("driver"in e)||!e.driver||this.setDriver(this._config.driver)}return"string"==typeof e?this._config[e]:this._config}defineDriver(e,t,n){var o=new r((function(t,n){try{var o=e._driver,a=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!e._driver)return void n(a);for(var s=ue.concat("_initStorage"),c=0,u=s.length;c<u;c++){var d=s[c];if((!ne(ce,d)||e[d])&&"function"!=typeof e[d])return void n(a)}!function(){for(var t=function(e){return function(){var t=new Error("Method ".concat(e," is not implemented by the current driver")),n=r.reject(t);return i(n,arguments[arguments.length-1]),n}},n=0,o=ce.length;n<o;n++){var a=ce[n];e[a]||(e[a]=t(a))}}();var l=function(n){ie[o]&&console.info("Redefining LocalForage driver: ".concat(o)),ie[o]=e,oe[o]=n,t()};"_support"in e?e._support&&"function"==typeof e._support?e._support().then(l,n):l(!!e._support):l(!0)}catch(e){n(e)}}));return a(o,t,n),o}driver(){return this._driver||null}getDriver(e,t,n){var i=ie[e]?r.resolve(ie[e]):r.reject(new Error("Driver not found."));return a(i,t,n),i}getSerializer(e){var t=r.resolve($);return a(t,e),t}ready(e){var t=this,n=t._driverSet.then((function(){return null===t._ready&&(t._ready=t._initDriver()),t._ready}));return a(n,e,e),n}setDriver(e,t,n){var i=this;re(e)||(e=[e]);var o=this._getSupportedDrivers(e);function s(){i._config.driver=i.driver()}function c(e){return i._extend(e),s(),i._ready=i._initStorage(i._config),i._ready}var u=null!==this._driverSet?this._driverSet.catch((function(){return r.resolve()})):r.resolve();return this._driverSet=u.then((function(){var e=o[0];return i._dbInfo=null,i._ready=null,i.getDriver(e).then((function(e){i._driver=e._driver,s(),i._wrapLibraryMethodsWithReady(),i._initDriver=function(e){return function(){var t=0;return function n(){for(;t<e.length;){var o=e[t];return t++,i._dbInfo=null,i._ready=null,i.getDriver(o).then(c).catch(n)}s();var a=new Error("No available storage method found.");return i._driverSet=r.reject(a),i._driverSet}()}}(o)}))})).catch((function(){s();var e=new Error("No available storage method found.");return i._driverSet=r.reject(e),i._driverSet})),a(this._driverSet,t,n),this._driverSet}supports(e){return!!oe[e]}_extend(e){fe(this,e)}_getSupportedDrivers(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];this.supports(i)&&t.push(i)}return t}_wrapLibraryMethodsWithReady(){for(var e=0,t=ue.length;e<t;e++)le(this,ue[e])}createInstance(e){return new pe(e)}}function me(e){var t=e+"=",n=decodeURIComponent(document.cookie).split(";").map((function(e){return e.trim()})).find((function(e){return 0==e.indexOf(t)}));return n?n.substring(t.length):""}new pe;var ve="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ge={exports:{}};!function(e,t){var n="__lodash_hash_undefined__",r=9007199254740991,i="[object Arguments]",o="[object Boolean]",a="[object Date]",s="[object Function]",c="[object GeneratorFunction]",u="[object Map]",d="[object Number]",l="[object Object]",f="[object Promise]",p="[object RegExp]",m="[object Set]",v="[object String]",g="[object Symbol]",h="[object WeakMap]",b="[object ArrayBuffer]",y="[object DataView]",w="[object Float32Array]",I="[object Float64Array]",_="[object Int8Array]",C="[object Int16Array]",S="[object Int32Array]",x="[object Uint8Array]",A="[object Uint8ClampedArray]",E="[object Uint16Array]",T="[object Uint32Array]",O=/\w*$/,k=/^\[object .+?Constructor\]$/,j=/^(?:0|[1-9]\d*)$/,R={};R[i]=R["[object Array]"]=R[b]=R[y]=R[o]=R[a]=R[w]=R[I]=R[_]=R[C]=R[S]=R[u]=R[d]=R[l]=R[p]=R[m]=R[v]=R[g]=R[x]=R[A]=R[E]=R[T]=!0,R["[object Error]"]=R[s]=R[h]=!1;var z="object"==typeof ve&&ve&&ve.Object===Object&&ve,P="object"==typeof self&&self&&self.Object===Object&&self,B=z||P||Function("return this")(),D=t&&!t.nodeType&&t,U=D&&e&&!e.nodeType&&e,N=U&&U.exports===D;function F(e,t){return e.set(t[0],t[1]),e}function M(e,t){return e.add(t),e}function q(e,t,n,r){var i=-1,o=e?e.length:0;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function L(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function W(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function H(e,t){return function(n){return e(t(n))}}function V(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var G,$=Array.prototype,J=Function.prototype,X=Object.prototype,Q=B["__core-js_shared__"],K=(G=/[^.]+$/.exec(Q&&Q.keys&&Q.keys.IE_PROTO||""))?"Symbol(src)_1."+G:"",Y=J.toString,Z=X.hasOwnProperty,ee=X.toString,te=RegExp("^"+Y.call(Z).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ne=N?B.Buffer:void 0,re=B.Symbol,ie=B.Uint8Array,oe=H(Object.getPrototypeOf,Object),ae=Object.create,se=X.propertyIsEnumerable,ce=$.splice,ue=Object.getOwnPropertySymbols,de=ne?ne.isBuffer:void 0,le=H(Object.keys,Object),fe=Ne(B,"DataView"),pe=Ne(B,"Map"),me=Ne(B,"Promise"),ge=Ne(B,"Set"),he=Ne(B,"WeakMap"),be=Ne(Object,"create"),ye=We(fe),we=We(pe),Ie=We(me),_e=We(ge),Ce=We(he),Se=re?re.prototype:void 0,xe=Se?Se.valueOf:void 0;function Ae(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ee(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Te(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Oe(e){this.__data__=new Ee(e)}function ke(e,t){var n=Ve(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&Ge(e)}(e)&&Z.call(e,"callee")&&(!se.call(e,"callee")||ee.call(e)==i)}(e)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],r=n.length,o=!!r;for(var a in e)!t&&!Z.call(e,a)||o&&("length"==a||qe(a,r))||n.push(a);return n}function je(e,t,n){var r=e[t];Z.call(e,t)&&He(r,n)&&(void 0!==n||t in e)||(e[t]=n)}function Re(e,t){for(var n=e.length;n--;)if(He(e[n][0],t))return n;return-1}function ze(e,t,n,r,f,h,k){var j;if(r&&(j=h?r(e,f,h,k):r(e)),void 0!==j)return j;if(!Xe(e))return e;var z=Ve(e);if(z){if(j=function(e){var t=e.length,n=e.constructor(t);return t&&"string"==typeof e[0]&&Z.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!t)return function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}(e,j)}else{var P=Me(e),B=P==s||P==c;if($e(e))return function(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}(e,t);if(P==l||P==i||B&&!h){if(L(e))return h?e:{};if(j=function(e){return"function"!=typeof e.constructor||Le(e)?{}:Xe(t=oe(e))?ae(t):{};var t}(B?{}:e),!t)return function(e,t){return De(e,Fe(e),t)}(e,function(e,t){return e&&De(t,Qe(t),e)}(j,e))}else{if(!R[P])return h?e:{};j=function(e,t,n,r){var i,s=e.constructor;switch(t){case b:return Be(e);case o:case a:return new s(+e);case y:return function(e,t){var n=t?Be(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,r);case w:case I:case _:case C:case S:case x:case A:case E:case T:return function(e,t){var n=t?Be(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}(e,r);case u:return function(e,t,n){return q(t?n(W(e),!0):W(e),F,new e.constructor)}(e,r,n);case d:case v:return new s(e);case p:return function(e){var t=new e.constructor(e.source,O.exec(e));return t.lastIndex=e.lastIndex,t}(e);case m:return function(e,t,n){return q(t?n(V(e),!0):V(e),M,new e.constructor)}(e,r,n);case g:return i=e,xe?Object(xe.call(i)):{}}}(e,P,ze,t)}}k||(k=new Oe);var D=k.get(e);if(D)return D;if(k.set(e,j),!z)var U=n?function(e){return function(e,t,n){var r=t(e);return Ve(e)?r:function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}(r,n(e))}(e,Qe,Fe)}(e):Qe(e);return function(e,t){for(var n=-1,r=e?e.length:0;++n<r&&!1!==t(e[n],n,e););}(U||e,(function(i,o){U&&(i=e[o=i]),je(j,o,ze(i,t,n,r,o,e,k))})),j}function Pe(e){return!(!Xe(e)||(t=e,K&&K in t))&&(Je(e)||L(e)?te:k).test(We(e));var t}function Be(e){var t=new e.constructor(e.byteLength);return new ie(t).set(new ie(e)),t}function De(e,t,n,r){n||(n={});for(var i=-1,o=t.length;++i<o;){var a=t[i],s=r?r(n[a],e[a],a,n,e):void 0;je(n,a,void 0===s?e[a]:s)}return n}function Ue(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function Ne(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Pe(n)?n:void 0}Ae.prototype.clear=function(){this.__data__=be?be(null):{}},Ae.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},Ae.prototype.get=function(e){var t=this.__data__;if(be){var r=t[e];return r===n?void 0:r}return Z.call(t,e)?t[e]:void 0},Ae.prototype.has=function(e){var t=this.__data__;return be?void 0!==t[e]:Z.call(t,e)},Ae.prototype.set=function(e,t){return this.__data__[e]=be&&void 0===t?n:t,this},Ee.prototype.clear=function(){this.__data__=[]},Ee.prototype.delete=function(e){var t=this.__data__,n=Re(t,e);return!(n<0||(n==t.length-1?t.pop():ce.call(t,n,1),0))},Ee.prototype.get=function(e){var t=this.__data__,n=Re(t,e);return n<0?void 0:t[n][1]},Ee.prototype.has=function(e){return Re(this.__data__,e)>-1},Ee.prototype.set=function(e,t){var n=this.__data__,r=Re(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},Te.prototype.clear=function(){this.__data__={hash:new Ae,map:new(pe||Ee),string:new Ae}},Te.prototype.delete=function(e){return Ue(this,e).delete(e)},Te.prototype.get=function(e){return Ue(this,e).get(e)},Te.prototype.has=function(e){return Ue(this,e).has(e)},Te.prototype.set=function(e,t){return Ue(this,e).set(e,t),this},Oe.prototype.clear=function(){this.__data__=new Ee},Oe.prototype.delete=function(e){return this.__data__.delete(e)},Oe.prototype.get=function(e){return this.__data__.get(e)},Oe.prototype.has=function(e){return this.__data__.has(e)},Oe.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Ee){var r=n.__data__;if(!pe||r.length<199)return r.push([e,t]),this;n=this.__data__=new Te(r)}return n.set(e,t),this};var Fe=ue?H(ue,Object):function(){return[]},Me=function(e){return ee.call(e)};function qe(e,t){return!!(t=null==t?r:t)&&("number"==typeof e||j.test(e))&&e>-1&&e%1==0&&e<t}function Le(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||X)}function We(e){if(null!=e){try{return Y.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function He(e,t){return e===t||e!=e&&t!=t}(fe&&Me(new fe(new ArrayBuffer(1)))!=y||pe&&Me(new pe)!=u||me&&Me(me.resolve())!=f||ge&&Me(new ge)!=m||he&&Me(new he)!=h)&&(Me=function(e){var t=ee.call(e),n=t==l?e.constructor:void 0,r=n?We(n):void 0;if(r)switch(r){case ye:return y;case we:return u;case Ie:return f;case _e:return m;case Ce:return h}return t});var Ve=Array.isArray;function Ge(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}(e.length)&&!Je(e)}var $e=de||function(){return!1};function Je(e){var t=Xe(e)?ee.call(e):"";return t==s||t==c}function Xe(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Qe(e){return Ge(e)?ke(e):function(e){if(!Le(e))return le(e);var t=[];for(var n in Object(e))Z.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)}e.exports=function(e){return ze(e,!0,!0)}}(ge,ge.exports);var he=function(e){return zamaf.config.options.prebid.prebidTimeout||3e3},be="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};function ye(){throw new Error("setTimeout has not been defined")}function we(){throw new Error("clearTimeout has not been defined")}var Ie=ye,_e=we;function Ce(e){if(Ie===setTimeout)return setTimeout(e,0);if((Ie===ye||!Ie)&&setTimeout)return Ie=setTimeout,setTimeout(e,0);try{return Ie(e,0)}catch(t){try{return Ie.call(null,e,0)}catch(t){return Ie.call(this,e,0)}}}"function"==typeof be.setTimeout&&(Ie=setTimeout),"function"==typeof be.clearTimeout&&(_e=clearTimeout);var Se,xe=[],Ae=!1,Ee=-1;function Te(){Ae&&Se&&(Ae=!1,Se.length?xe=Se.concat(xe):Ee=-1,xe.length&&Oe())}function Oe(){if(!Ae){var e=Ce(Te);Ae=!0;for(var t=xe.length;t;){for(Se=xe,xe=[];++Ee<t;)Se&&Se[Ee].run();Ee=-1,t=xe.length}Se=null,Ae=!1,function(e){if(_e===clearTimeout)return clearTimeout(e);if((_e===we||!_e)&&clearTimeout)return _e=clearTimeout,clearTimeout(e);try{_e(e)}catch(t){try{return _e.call(null,e)}catch(t){return _e.call(this,e)}}}(e)}}function ke(e,t){this.fun=e,this.array=t}function je(){}ke.prototype.run=function(){this.fun.apply(null,this.array)};var Re,ze,Pe=je,Be=je,De=je,Ue=je,Ne=je,Fe=je,Me=je,qe=be.performance||{},Le=qe.now||qe.mozNow||qe.msNow||qe.oNow||qe.webkitNow||function(){return(new Date).getTime()},We=new Date,He={nextTick:function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];xe.push(new ke(e,t)),1!==xe.length||Ae||Ce(Oe)},title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:Pe,addListener:Be,once:De,off:Ue,removeListener:Ne,removeAllListeners:Fe,emit:Me,binding:function(e){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(e){throw new Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(e){var t=.001*Le.call(qe),n=Math.floor(t),r=Math.floor(t%1*1e9);return e&&(n-=e[0],(r-=e[1])<0&&(n--,r+=1e9)),[n,r]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-We)/1e3}},Ve={exports:{}};function Ge(){if(ze)return Re;ze=1;var e=1e3,t=60*e,n=60*t,r=24*n,i=7*r,o=365.25*r;function a(e,t,n,r){var i=t>=1.5*n;return Math.round(e/n)+" "+r+(i?"s":"")}return Re=function(s,c){c=c||{};var u=typeof s;if("string"===u&&s.length>0)return function(a){if(!((a=String(a)).length>100)){var s=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(a);if(s){var c=parseFloat(s[1]);switch((s[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return c*o;case"weeks":case"week":case"w":return c*i;case"days":case"day":case"d":return c*r;case"hours":case"hour":case"hrs":case"hr":case"h":return c*n;case"minutes":case"minute":case"mins":case"min":case"m":return c*t;case"seconds":case"second":case"secs":case"sec":case"s":return c*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return c;default:return}}}}(s);if("number"===u&&isFinite(s))return c.long?function(i){var o=Math.abs(i);return o>=r?a(i,o,r,"day"):o>=n?a(i,o,n,"hour"):o>=t?a(i,o,t,"minute"):o>=e?a(i,o,e,"second"):i+" ms"}(s):function(i){var o=Math.abs(i);return o>=r?Math.round(i/r)+"d":o>=n?Math.round(i/n)+"h":o>=t?Math.round(i/t)+"m":o>=e?Math.round(i/e)+"s":i+"ms"}(s);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(s))}}var $e,Je,Xe=function(e){function t(e){var r,i,o,a=null;function s(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];if(s.enabled){var o=s,a=Number(new Date),c=a-(r||a);o.diff=c,o.prev=r,o.curr=a,r=a,n[0]=t.coerce(n[0]),"string"!=typeof n[0]&&n.unshift("%O");var u=0;n[0]=n[0].replace(/%([a-zA-Z%])/g,(function(e,r){if("%%"===e)return"%";u++;var i=t.formatters[r];if("function"==typeof i){var a=n[u];e=i.call(o,a),n.splice(u,1),u--}return e})),t.formatArgs.call(o,n);var d=o.log||t.log;d.apply(o,n)}}return s.namespace=e,s.useColors=t.useColors(),s.color=t.selectColor(e),s.extend=n,s.destroy=t.destroy,Object.defineProperty(s,"enabled",{enumerable:!0,configurable:!1,get:function(){return null!==a?a:(i!==t.namespaces&&(i=t.namespaces,o=t.enabled(e)),o)},set:function(e){a=e}}),"function"==typeof t.init&&t.init(s),s}function n(e,n){var r=t(this.namespace+(void 0===n?":":n)+e);return r.log=this.log,r}function r(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){var e=[].concat(o(t.names.map(r)),o(t.skips.map(r).map((function(e){return"-"+e})))).join(",");return t.enable(""),e},t.enable=function(e){var n;t.save(e),t.namespaces=e,t.names=[],t.skips=[];var r=("string"==typeof e?e:"").split(/[\s,]+/),i=r.length;for(n=0;n<i;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.slice(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=Ge(),t.destroy=function(){},Object.keys(e).forEach((function(n){t[n]=e[n]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){for(var n=0,r=0;r<e.length;r++)n=(n<<5)-n+e.charCodeAt(r),n|=0;return t.colors[Math.abs(n)%t.colors.length]},t.enable(t.load()),t};function Qe(e){var t=this;if(!e.getAdUnitPath)return"unknown slot";var n,r={};return(e&&e.getTargetingKeys&&e.getTargetingKeys()||[]).forEach((function(n){r[n]=e.getTargeting(n),0===r[n].length&&t.error(e.getSlotElementId(),"key",n,"is empty!")})),{targeting:r,adUnitPath:e.getAdUnitPath(),slotElementId:e.getSlotElementId(),slotId:e.getSlotId().toString(),sizes:(n=e.getSizes(),"fluid"===n[0]?n[0]:n.filter((function(e){return"fluid"!=e})).map((function(e){return e.getWidth?[e.getWidth(),e.getHeight()]:[0,0]}))),_slot:e}}$e=Ve,(Je=Ve.exports).formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+$e.exports.humanize(this.diff),this.useColors){var t="color: "+this.color;e.splice(1,0,t,"color: inherit");var n=0,r=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(n++,"%c"===e&&(r=n))})),e.splice(r,0,t)}},Je.save=function(e){try{e?Je.storage.setItem("debug",e):Je.storage.removeItem("debug")}catch(e){}},Je.load=function(){var e;try{e=Je.storage.getItem("debug")}catch(e){}return!e&&void 0!==He&&"env"in He&&(e=He.env.DEBUG),e},Je.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},Je.storage=function(){try{return localStorage}catch(e){}}(),Je.destroy=function(){},Je.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],Je.log=console.debug||console.log||function(){},$e.exports=Xe(Je),$e.exports.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}};class Ke{constructor(e){this.namespace=e}log(){}error(){}warn(){}_slots(){}slots(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"slots",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=t;void 0!==t&&(n=[]),n=Array.isArray(t)?t:[t],this._slots(e,n.filter((function(e){return!!e})).map(Qe.bind(this)))}}function Ye(e){return new Ke(e)}var Ze=Ye("utils");function et(e){var t=e.options,n=!(!t.uam||!t.uam.pubID);return Ze.log("isUamEnabled",n),n}function tt(){var e,t;Ze.slots("googletag.pubads refresh",arguments.length<=0?void 0:arguments[0]),googletag.pubads().refreshOrig?(e=googletag.pubads()).refreshOrig.apply(e,arguments):(t=googletag.pubads()).refresh.apply(t,arguments)}var nt=Ye("uam:adUnits"),rt={};function it(){return Object.values(rt)}function ot(e,t){var n=[];e.forEach((function(e){if(e&&e.slot){var t,r=(t=e.slot.getSlotElementId(),rt[t]);n&&r&&n.push(r)}})),st(n,!1,t)}function at(e){var t=[];return e.forEach((function(e){var n=zamaf.getSlotConfigByElementId(e.slotID);t.push(n.slot)})),t}function st(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0,r=n.options.uam.bidTimeout,i=void 0===r?0:r;i=i||he();var o=t?[]:at(e);if(!e.length)return zamaf.uamBidsRequest([],i),void zamaf.uamBidsDone([],[]);var a=!1;setTimeout(zamaf.wrap((function(){a||(nt.log("uam bids cancelled"),a=!0,zamaf.uamBidsDone(o,[]))})),i+500),apstag.fetchBids({slots:e,timeout:i},zamaf.wrap((function(e){a||(a=!0,zamaf.uamBidsDone(o,e))}))),zamaf.uamBidsRequest(o,i)}var ct=Ye("uam:events"),ut=Ye("uam:init");window.zamaf=window.zamaf||{},zamaf.cmd=window.zamaf.cmd||[],zamaf.cmd.push({event:"zaf:slots:done",once:!0,handler:function(e){return!!et(e)&&(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options.uam,n=t.pubID,r=void 0===n?"xxxx":n,i=t.adServer,o=void 0===i?"googletag":i,a=e.options.uam.bidTimeout||he(),s=e.options.prebid.sellers,c={};if(s&&s.sellers){var u=s.sellers.map((function(e){var t=e.seller_id;return{asi:e.domain,sid:t,hp:1}}));c={ver:s.version,complete:1,nodes:u}}var d={pubID:r,adServer:o,bidTimeout:a,schain:c};if(e.enableCCPA&&zamaf&&zamaf.user&&zamaf.user.isCCPA&&(d.params={us_privacy:me("usconsent")||"1YNY"}),window.apstag){apstag.init(d);var l=it(),f=!0;zamaf.config.noDisplay||st(l,f,e)}else ut.error("apstag object not found")}(e),!0)}}),zamaf.cmd.push({event:"zaf:unit:define",prepend:!0,handler:function(e,n){var r=n.elementId,i=n.configSlot;if(et(e)){var o=t(t({},i),{},{elementId:r});ct.log("adding UAMUnit",r),function(e,t){var n=function(e){return"video"==e.type||"interscroller"==e.type||!(!e.sizes||!e.sizes.length)&&(1!==e.sizes.length||1!=e.sizes[0][0])}(e);if(!n)return nt.log("invalid config passed",e,t),!1;var r={slotID:e.elementId,slotName:e.code,sizes:e.sizes};return nt.log("bidder info passed",r),rt[e.elementId]=r,!0}(o,e.options.uam)&&!e.options.noDisplay&&pbjs.initAdserverSet&&ot([o],e)}}}),zamaf.cmd.push({event:"zaf:unit:remove",handler:function(e,t){var n=t.elementId;t.configSlot,"loading"!==document.readyState&&et(e)&&(ct.log("removing UAMUnit",n),delete rt.slotID)}}),zamaf.cmd.push({event:"zaf:bids:requested",handler:function(e,t,n,r){var i=zamaf.requestManager.createIdFromAdUnits(t);return zamaf.requestManager.resetBid(i,e),!0}}),zamaf.cmd.push({event:"zaf:bids:done",handler:function(e,t,n,r){ct.log("bidResponses",e,t,n);var i=zamaf.requestManager.createIdFromAdUnits(t);return zamaf.requestManager.setBid(i,e),zamaf.requestManager.allBidsBack(i)&&googletag.cmd.push(zamaf.wrap((function(){apstag.setDisplayBids(),t&&t.length?tt(t):tt()}))),!0}}),zamaf.cmd.push({event:"zaf:unit:refresh",handler:function(e,t){t.elementId;var n=t.configSlot;et(e)&&(ct.log("uam unit refresh",n),ot([n],e))}}),zamaf.cmd.push({event:"zaf:slots:refresh",handler:function(e,t){var n=t.configSlots;et(e)&&(ct.log("uam slots refresh",n),n&&ot(n,e))}})}(),function(){var e,a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},s="__lodash_hash_undefined__",c="[object Function]",u="[object GeneratorFunction]",d=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,l=/^\w*$/,f=/^\./,p=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,m=/\\(\\)?/g,v=/^\[object .+?Constructor\]$/,g="object"==typeof a&&a&&a.Object===Object&&a,h="object"==typeof self&&self&&self.Object===Object&&self,b=g||h||Function("return this")(),y=Array.prototype,w=Function.prototype,I=Object.prototype,_=b["__core-js_shared__"],C=(e=/[^.]+$/.exec(_&&_.keys&&_.keys.IE_PROTO||""))?"Symbol(src)_1."+e:"",S=w.toString,x=I.hasOwnProperty,A=I.toString,E=RegExp("^"+S.call(x).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),T=b.Symbol,O=y.splice,k=q(b,"Map"),j=q(Object,"create"),R=T?T.prototype:void 0,z=R?R.toString:void 0;function P(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function B(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function D(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function U(e,t){for(var n,r,i=e.length;i--;)if((n=e[i][0])===(r=t)||n!=n&&r!=r)return i;return-1}function N(e,t){var n;t=function(e,t){if(V(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!$(e))||(l.test(e)||!d.test(e)||null!=t&&e in Object(t))}(t,e)?[t]:V(n=t)?n:L(n);for(var r=0,i=t.length;null!=e&&r<i;)e=e[W(t[r++])];return r&&r==i?e:void 0}function F(e){if(!G(e)||(t=e,C&&C in t))return!1;var t,n=function(e){var t=G(e)?A.call(e):"";return t==c||t==u}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?E:v;return n.test(function(e){if(null!=e){try{return S.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}function M(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function q(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return F(n)?n:void 0}P.prototype.clear=function(){this.__data__=j?j(null):{}},P.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},P.prototype.get=function(e){var t=this.__data__;if(j){var n=t[e];return n===s?void 0:n}return x.call(t,e)?t[e]:void 0},P.prototype.has=function(e){var t=this.__data__;return j?void 0!==t[e]:x.call(t,e)},P.prototype.set=function(e,t){return this.__data__[e]=j&&void 0===t?s:t,this},B.prototype.clear=function(){this.__data__=[]},B.prototype.delete=function(e){var t=this.__data__,n=U(t,e);return!(n<0||(n==t.length-1?t.pop():O.call(t,n,1),0))},B.prototype.get=function(e){var t=this.__data__,n=U(t,e);return n<0?void 0:t[n][1]},B.prototype.has=function(e){return U(this.__data__,e)>-1},B.prototype.set=function(e,t){var n=this.__data__,r=U(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},D.prototype.clear=function(){this.__data__={hash:new P,map:new(k||B),string:new P}},D.prototype.delete=function(e){return M(this,e).delete(e)},D.prototype.get=function(e){return M(this,e).get(e)},D.prototype.has=function(e){return M(this,e).has(e)},D.prototype.set=function(e,t){return M(this,e).set(e,t),this};var L=H((function(e){var t;e=null==(t=e)?"":function(e){if("string"==typeof e)return e;if($(e))return z?z.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(t);var n=[];return f.test(e)&&n.push(""),e.replace(p,(function(e,t,r,i){n.push(r?i.replace(m,"$1"):t||e)})),n}));function W(e){if("string"==typeof e||$(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function H(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a),a};return n.cache=new(H.Cache||D),n}H.Cache=D;var V=Array.isArray;function G(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function $(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==A.call(e)}var J=function(e,t,n){var r=null==e?void 0:N(e,t);return void 0===r?n:r},X=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},Q=K;function K(e,t,n){e instanceof RegExp&&(e=Y(e,n)),t instanceof RegExp&&(t=Y(t,n));var r=Z(e,t,n);return r&&{start:r[0],end:r[1],pre:n.slice(0,r[0]),body:n.slice(r[0]+e.length,r[1]),post:n.slice(r[1]+t.length)}}function Y(e,t){var n=t.match(e);return n?n[0]:null}function Z(e,t,n){var r,i,o,a,s,c=n.indexOf(e),u=n.indexOf(t,c+1),d=c;if(c>=0&&u>0){if(e===t)return[c,u];for(r=[],o=n.length;d>=0&&!s;)d==c?(r.push(d),c=n.indexOf(e,d+1)):1==r.length?s=[r.pop(),u]:((i=r.pop())<o&&(o=i,a=u),u=n.indexOf(t,d+1)),d=c<u&&c>=0?c:u;r.length&&(s=[o,a])}return s}K.range=Z;var ee=function(e,t){for(var n=[],r=0;r<e.length;r++){var i=t(e[r],r);X(i)?n.push.apply(n,i):n.push(i)}return n},te=Q,ne=function(e){return e?("{}"===e.substr(0,2)&&(e="\\{\\}"+e.substr(2)),ve(function(e){return e.split("\\\\").join(re).split("\\{").join(ie).split("\\}").join(oe).split("\\,").join(ae).split("\\.").join(se)}(e),!0).map(ue)):[]},re="\0SLASH"+Math.random()+"\0",ie="\0OPEN"+Math.random()+"\0",oe="\0CLOSE"+Math.random()+"\0",ae="\0COMMA"+Math.random()+"\0",se="\0PERIOD"+Math.random()+"\0";function ce(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}function ue(e){return e.split(re).join("\\").split(ie).join("{").split(oe).join("}").split(ae).join(",").split(se).join(".")}function de(e){if(!e)return[""];var t=[],n=te("{","}",e);if(!n)return e.split(",");var r=n.pre,i=n.body,o=n.post,a=r.split(",");a[a.length-1]+="{"+i+"}";var s=de(o);return o.length&&(a[a.length-1]+=s.shift(),a.push.apply(a,s)),t.push.apply(t,a),t}function le(e){return"{"+e+"}"}function fe(e){return/^-?0\d/.test(e)}function pe(e,t){return e<=t}function me(e,t){return e>=t}function ve(e,t){var n=[],r=te("{","}",e);if(!r||/\$$/.test(r.pre))return[e];var i,o=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(r.body),a=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(r.body),s=o||a,c=r.body.indexOf(",")>=0;if(!s&&!c)return r.post.match(/,.*\}/)?ve(e=r.pre+"{"+r.body+oe+r.post):[e];if(s)i=r.body.split(/\.\./);else if(1===(i=de(r.body)).length&&1===(i=ve(i[0],!1).map(le)).length)return(l=r.post.length?ve(r.post,!1):[""]).map((function(e){return r.pre+i[0]+e}));var u,d=r.pre,l=r.post.length?ve(r.post,!1):[""];if(s){var f=ce(i[0]),p=ce(i[1]),m=Math.max(i[0].length,i[1].length),v=3==i.length?Math.abs(ce(i[2])):1,g=pe;p<f&&(v*=-1,g=me);var h=i.some(fe);u=[];for(var b=f;g(b,p);b+=v){var y;if(a)"\\"===(y=String.fromCharCode(b))&&(y="");else if(y=String(b),h){var w=m-y.length;if(w>0){var I=new Array(w+1).join("0");y=b<0?"-"+I+y.slice(1):I+y}}u.push(y)}}else u=ee(i,(function(e){return ve(e,!1)}));for(var _=0;_<u.length;_++)for(var C=0;C<l.length;C++){var S=d+u[_]+l[C];(!t||s||S)&&n.push(S)}return n}var ge=xe;xe.Minimatch=Ae;var he=xe.GLOBSTAR=Ae.GLOBSTAR={},be=ne,ye={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},we="[^/]",Ie="[^/]*?",_e="().*{}+?[]^$\\!".split("").reduce((function(e,t){return e[t]=!0,e}),{}),Ce=/\/+/;function Se(e,t){e=e||{},t=t||{};var n={};return Object.keys(t).forEach((function(e){n[e]=t[e]})),Object.keys(e).forEach((function(t){n[t]=e[t]})),n}function xe(e,t,n){if("string"!=typeof t)throw new TypeError("glob pattern string required");return n||(n={}),!(!n.nocomment&&"#"===t.charAt(0))&&(""===t.trim()?""===e:new Ae(t,n).match(e))}function Ae(e,t){if(!(this instanceof Ae))return new Ae(e,t);if("string"!=typeof e)throw new TypeError("glob pattern string required");t||(t={}),e=e.trim(),this.options=t,this.set=[],this.pattern=e,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}function Ee(e,t){if(t||(t=this instanceof Ae?this.options:{}),void 0===(e=void 0===e?this.pattern:e))throw new TypeError("undefined pattern");return t.nobrace||!e.match(/\{.*\}/)?[e]:be(e)}xe.filter=function(e,t){return t=t||{},function(n,r,i){return xe(n,e,t)}},xe.defaults=function(e){if(!e||!Object.keys(e).length)return xe;var t=xe,n=function(n,r,i){return t.minimatch(n,r,Se(e,i))};return n.Minimatch=function(n,r){return new t.Minimatch(n,Se(e,r))},n},Ae.defaults=function(e){return e&&Object.keys(e).length?xe.defaults(e).Minimatch:Ae},Ae.prototype.debug=function(){},Ae.prototype.make=function(){if(!this._made){var e=this.pattern,t=this.options;if(t.nocomment||"#"!==e.charAt(0))if(e){this.parseNegate();var n=this.globSet=this.braceExpand();t.debug&&(this.debug=console.error),this.debug(this.pattern,n),n=this.globParts=n.map((function(e){return e.split(Ce)})),this.debug(this.pattern,n),n=n.map((function(e,t,n){return e.map(this.parse,this)}),this),this.debug(this.pattern,n),n=n.filter((function(e){return-1===e.indexOf(!1)})),this.debug(this.pattern,n),this.set=n}else this.empty=!0;else this.comment=!0}},Ae.prototype.parseNegate=function(){var e=this.pattern,t=!1,n=this.options,r=0;if(!n.nonegate){for(var i=0,o=e.length;i<o&&"!"===e.charAt(i);i++)t=!t,r++;r&&(this.pattern=e.substr(r)),this.negate=t}},xe.braceExpand=function(e,t){return Ee(e,t)},Ae.prototype.braceExpand=Ee,Ae.prototype.parse=function(e,t){if(e.length>65536)throw new TypeError("pattern is too long");var n=this.options;if(!n.noglobstar&&"**"===e)return he;if(""===e)return"";var r,i="",o=!!n.nocase,a=!1,s=[],c=[],u=!1,d=-1,l=-1,f="."===e.charAt(0)?"":n.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",p=this;function m(){if(r){switch(r){case"*":i+=Ie,o=!0;break;case"?":i+=we,o=!0;break;default:i+="\\"+r}p.debug("clearStateChar %j %j",r,i),r=!1}}for(var v,g=0,h=e.length;g<h&&(v=e.charAt(g));g++)if(this.debug("%s\t%s %s %j",e,g,i,v),a&&_e[v])i+="\\"+v,a=!1;else switch(v){case"/":return!1;case"\\":m(),a=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",e,g,i,v),u){this.debug("  in class"),"!"===v&&g===l+1&&(v="^"),i+=v;continue}p.debug("call clearStateChar %j",r),m(),r=v,n.noext&&m();continue;case"(":if(u){i+="(";continue}if(!r){i+="\\(";continue}s.push({type:r,start:g-1,reStart:i.length,open:ye[r].open,close:ye[r].close}),i+="!"===r?"(?:(?!(?:":"(?:",this.debug("plType %j %j",r,i),r=!1;continue;case")":if(u||!s.length){i+="\\)";continue}m(),o=!0;var b=s.pop();i+=b.close,"!"===b.type&&c.push(b),b.reEnd=i.length;continue;case"|":if(u||!s.length||a){i+="\\|",a=!1;continue}m(),i+="|";continue;case"[":if(m(),u){i+="\\"+v;continue}u=!0,l=g,d=i.length,i+=v;continue;case"]":if(g===l+1||!u){i+="\\"+v,a=!1;continue}if(u){var y=e.substring(l+1,g);try{RegExp("["+y+"]")}catch(e){var w=this.parse(y,Te);i=i.substr(0,d)+"\\["+w[0]+"\\]",o=o||w[1],u=!1;continue}}o=!0,u=!1,i+=v;continue;default:m(),a?a=!1:!_e[v]||"^"===v&&u||(i+="\\"),i+=v}for(u&&(y=e.substr(l+1),w=this.parse(y,Te),i=i.substr(0,d)+"\\["+w[0],o=o||w[1]),b=s.pop();b;b=s.pop()){var I=i.slice(b.reStart+b.open.length);this.debug("setting tail",i,b),I=I.replace(/((?:\\{2}){0,64})(\\?)\|/g,(function(e,t,n){return n||(n="\\"),t+t+n+"|"})),this.debug("tail=%j\n   %s",I,I,b,i);var _="*"===b.type?Ie:"?"===b.type?we:"\\"+b.type;o=!0,i=i.slice(0,b.reStart)+_+"\\("+I}m(),a&&(i+="\\\\");var C=!1;switch(i.charAt(0)){case".":case"[":case"(":C=!0}for(var S=c.length-1;S>-1;S--){var x=c[S],A=i.slice(0,x.reStart),E=i.slice(x.reStart,x.reEnd-8),T=i.slice(x.reEnd-8,x.reEnd),O=i.slice(x.reEnd);T+=O;var k=A.split("(").length-1,j=O;for(g=0;g<k;g++)j=j.replace(/\)[+*?]?/,"");var R="";""===(O=j)&&t!==Te&&(R="$"),i=A+E+O+R+T}if(""!==i&&o&&(i="(?=.)"+i),C&&(i=f+i),t===Te)return[i,o];if(!o)return function(e){return e.replace(/\\(.)/g,"$1")}(e);var z=n.nocase?"i":"";try{var P=new RegExp("^"+i+"$",z)}catch(e){return new RegExp("$.")}return P._glob=e,P._src=i,P};var Te={};function Oe(e){var t=e.skin,n=e.options,r=void 0===n?{}:n,i=document.body,o=r.bodySkinClass||"body--skin";document.body.className.indexOf(o)<0&&(document.body.className+=" "+o),document.body.style.background="#000 url("+t.image+") center top no-repeat fixed",document.body.style["background-position"]="center top";var a=i.insertBefore(document.createElement("a"),i.firstChild);a.className="skin--link",a.target="_blank",a.href=t.clickMacro?"".concat(t.clickMacro).concat(t.link):t.link,a.style.width="100%",a.style.height="100%",a.style.position="fixed",this.addImpressionTracker(t)}xe.makeRe=function(e,t){return new Ae(e,t||{}).makeRe()},Ae.prototype.makeRe=function(){if(this.regexp||!1===this.regexp)return this.regexp;var e=this.set;if(!e.length)return this.regexp=!1,this.regexp;var t=this.options,n=t.noglobstar?Ie:t.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",r=t.nocase?"i":"",i=e.map((function(e){return e.map((function(e){return e===he?n:"string"==typeof e?function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(e):e._src})).join("\\/")})).join("|");i="^(?:"+i+")$",this.negate&&(i="^(?!"+i+").*$");try{this.regexp=new RegExp(i,r)}catch(e){this.regexp=!1}return this.regexp},xe.match=function(e,t,n){var r=new Ae(t,n=n||{});return e=e.filter((function(e){return r.match(e)})),r.options.nonull&&!e.length&&e.push(t),e},Ae.prototype.match=function(e,t){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return""===e;if("/"===e&&t)return!0;var n=this.options;e=e.split(Ce),this.debug(this.pattern,"split",e);var r,i,o=this.set;for(this.debug(this.pattern,"set",o),i=e.length-1;i>=0&&!(r=e[i]);i--);for(i=0;i<o.length;i++){var a=o[i],s=e;if(n.matchBase&&1===a.length&&(s=[r]),this.matchOne(s,a,t))return!!n.flipNegate||!this.negate}return!n.flipNegate&&this.negate},Ae.prototype.matchOne=function(e,t,n){var r=this.options;this.debug("matchOne",{this:this,file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var i=0,o=0,a=e.length,s=t.length;i<a&&o<s;i++,o++){this.debug("matchOne loop");var c,u=t[o],d=e[i];if(this.debug(t,u,d),!1===u)return!1;if(u===he){this.debug("GLOBSTAR",[t,u,d]);var l=i,f=o+1;if(f===s){for(this.debug("** at the end");i<a;i++)if("."===e[i]||".."===e[i]||!r.dot&&"."===e[i].charAt(0))return!1;return!0}for(;l<a;){var p=e[l];if(this.debug("\nglobstar while",e,l,t,f,p),this.matchOne(e.slice(l),t.slice(f),n))return this.debug("globstar found match!",l,a,p),!0;if("."===p||".."===p||!r.dot&&"."===p.charAt(0)){this.debug("dot detected!",e,l,t,f);break}this.debug("globstar swallow a segment, and continue"),l++}return!(!n||(this.debug("\n>>> no match, partial?",e,l,t,f),l!==a))}if("string"==typeof u?(c=r.nocase?d.toLowerCase()===u.toLowerCase():d===u,this.debug("string match",u,d,c)):(c=d.match(u),this.debug("pattern match",u,d,c)),!c)return!1}if(i===a&&o===s)return!0;if(i===a)return n;if(o===s)return i===a-1&&""===e[i];throw new Error("wtf?")};var ke="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};function je(){throw new Error("setTimeout has not been defined")}function Re(){throw new Error("clearTimeout has not been defined")}var ze=je,Pe=Re;function Be(e){if(ze===setTimeout)return setTimeout(e,0);if((ze===je||!ze)&&setTimeout)return ze=setTimeout,setTimeout(e,0);try{return ze(e,0)}catch(t){try{return ze.call(null,e,0)}catch(t){return ze.call(this,e,0)}}}"function"==typeof ke.setTimeout&&(ze=setTimeout),"function"==typeof ke.clearTimeout&&(Pe=clearTimeout);var De,Ue=[],Ne=!1,Fe=-1;function Me(){Ne&&De&&(Ne=!1,De.length?Ue=De.concat(Ue):Fe=-1,Ue.length&&qe())}function qe(){if(!Ne){var e=Be(Me);Ne=!0;for(var t=Ue.length;t;){for(De=Ue,Ue=[];++Fe<t;)De&&De[Fe].run();Fe=-1,t=Ue.length}De=null,Ne=!1,function(e){if(Pe===clearTimeout)return clearTimeout(e);if((Pe===Re||!Pe)&&clearTimeout)return Pe=clearTimeout,clearTimeout(e);try{Pe(e)}catch(t){try{return Pe.call(null,e)}catch(t){return Pe.call(this,e)}}}(e)}}function Le(e,t){this.fun=e,this.array=t}function We(){}Le.prototype.run=function(){this.fun.apply(null,this.array)};var He,Ve,Ge=We,$e=We,Je=We,Xe=We,Qe=We,Ke=We,Ye=We,Ze=ke.performance||{},et=Ze.now||Ze.mozNow||Ze.msNow||Ze.oNow||Ze.webkitNow||function(){return(new Date).getTime()},tt=new Date,nt={nextTick:function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];Ue.push(new Le(e,t)),1!==Ue.length||Ne||Be(qe)},title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:Ge,addListener:$e,once:Je,off:Xe,removeListener:Qe,removeAllListeners:Ke,emit:Ye,binding:function(e){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(e){throw new Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(e){var t=.001*et.call(Ze),n=Math.floor(t),r=Math.floor(t%1*1e9);return e&&(n-=e[0],(r-=e[1])<0&&(n--,r+=1e9)),[n,r]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-tt)/1e3}},rt={exports:{}};function it(){if(Ve)return He;Ve=1;var e=1e3,t=60*e,n=60*t,r=24*n,i=7*r,o=365.25*r;function a(e,t,n,r){var i=t>=1.5*n;return Math.round(e/n)+" "+r+(i?"s":"")}return He=function(s,c){c=c||{};var u=typeof s;if("string"===u&&s.length>0)return function(a){if(!((a=String(a)).length>100)){var s=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(a);if(s){var c=parseFloat(s[1]);switch((s[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return c*o;case"weeks":case"week":case"w":return c*i;case"days":case"day":case"d":return c*r;case"hours":case"hour":case"hrs":case"hr":case"h":return c*n;case"minutes":case"minute":case"mins":case"min":case"m":return c*t;case"seconds":case"second":case"secs":case"sec":case"s":return c*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return c;default:return}}}}(s);if("number"===u&&isFinite(s))return c.long?function(i){var o=Math.abs(i);return o>=r?a(i,o,r,"day"):o>=n?a(i,o,n,"hour"):o>=t?a(i,o,t,"minute"):o>=e?a(i,o,e,"second"):i+" ms"}(s):function(i){var o=Math.abs(i);return o>=r?Math.round(i/r)+"d":o>=n?Math.round(i/n)+"h":o>=t?Math.round(i/t)+"m":o>=e?Math.round(i/e)+"s":i+"ms"}(s);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(s))},He}var ot,at,st=function(e){function t(e){var r,i,o,a=null;function s(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];if(s.enabled){var o=s,a=Number(new Date),c=a-(r||a);o.diff=c,o.prev=r,o.curr=a,r=a,n[0]=t.coerce(n[0]),"string"!=typeof n[0]&&n.unshift("%O");var u=0;n[0]=n[0].replace(/%([a-zA-Z%])/g,(function(e,r){if("%%"===e)return"%";u++;var i=t.formatters[r];if("function"==typeof i){var a=n[u];e=i.call(o,a),n.splice(u,1),u--}return e})),t.formatArgs.call(o,n);var d=o.log||t.log;d.apply(o,n)}}return s.namespace=e,s.useColors=t.useColors(),s.color=t.selectColor(e),s.extend=n,s.destroy=t.destroy,Object.defineProperty(s,"enabled",{enumerable:!0,configurable:!1,get:function(){return null!==a?a:(i!==t.namespaces&&(i=t.namespaces,o=t.enabled(e)),o)},set:function(e){a=e}}),"function"==typeof t.init&&t.init(s),s}function n(e,n){var r=t(this.namespace+(void 0===n?":":n)+e);return r.log=this.log,r}function r(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){var e=[].concat(o(t.names.map(r)),o(t.skips.map(r).map((function(e){return"-"+e})))).join(",");return t.enable(""),e},t.enable=function(e){var n;t.save(e),t.namespaces=e,t.names=[],t.skips=[];var r=("string"==typeof e?e:"").split(/[\s,]+/),i=r.length;for(n=0;n<i;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.slice(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=it(),t.destroy=function(){},Object.keys(e).forEach((function(n){t[n]=e[n]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){for(var n=0,r=0;r<e.length;r++)n=(n<<5)-n+e.charCodeAt(r),n|=0;return t.colors[Math.abs(n)%t.colors.length]},t.enable(t.load()),t};function ct(e){var t=this;if(!e.getAdUnitPath)return"unknown slot";var n,r={};return(e&&e.getTargetingKeys&&e.getTargetingKeys()||[]).forEach((function(n){r[n]=e.getTargeting(n),0===r[n].length&&t.error(e.getSlotElementId(),"key",n,"is empty!")})),{targeting:r,adUnitPath:e.getAdUnitPath(),slotElementId:e.getSlotElementId(),slotId:e.getSlotId().toString(),sizes:(n=e.getSizes(),"fluid"===n[0]?n[0]:n.filter((function(e){return"fluid"!=e})).map((function(e){return e.getWidth?[e.getWidth(),e.getHeight()]:[0,0]}))),_slot:e}}ot=rt,(at=rt.exports).formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+ot.exports.humanize(this.diff),this.useColors){var t="color: "+this.color;e.splice(1,0,t,"color: inherit");var n=0,r=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(n++,"%c"===e&&(r=n))})),e.splice(r,0,t)}},at.save=function(e){try{e?at.storage.setItem("debug",e):at.storage.removeItem("debug")}catch(e){}},at.load=function(){var e;try{e=at.storage.getItem("debug")}catch(e){}return!e&&void 0!==nt&&"env"in nt&&(e=nt.env.DEBUG),e},at.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},at.storage=function(){try{return localStorage}catch(e){}}(),at.destroy=function(){},at.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],at.log=console.debug||console.log||function(){},ot.exports=st(at),ot.exports.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}};class ut{constructor(e){this.namespace=e}log(){}error(){}warn(){}_slots(){}slots(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"slots",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=t;void 0!==t&&(n=[]),n=Array.isArray(t)?t:[t],this._slots(e,n.filter((function(e){return!!e})).map(ct.bind(this)))}}function dt(e){return new ut(e)}var lt=dt("utils");function ft(e){return Array.prototype.slice.call(e)}function pt(e){return document.getElementById(e)}function mt(e){for(var t=0,n=0;e;)"BODY"==e.tagName?(t+=e.offsetLeft-0+e.clientLeft,n+=e.offsetTop-0+e.clientTop):(t+=e.offsetLeft-e.scrollLeft+e.clientLeft,n+=e.offsetTop-e.scrollTop+e.clientTop),e=e.offsetParent;return{left:t,top:n}}function vt(e){if("loading"===document.readyState){var t=!1;document.addEventListener("readystatechange",(function(){t||"complete"!==document.readyState&&"interactive"!==document.readyState||(t=!0,e())}))}else e()}function gt(){var e=50;return zamaf.user.isDesktop||(e+=100),e}function ht(e,t){var n=function(e,t){return t?e.filter((function(e){e.excludes=e.excludes||[];var n=e.excludes.indexOf(t.toLowerCase())<0;if(!n){var r='Slot was filtered out because it is configured to exclude "'.concat(t,'"');lt.log(r),zamaf.rejectedSlotEvent(e,{reason:r,code:1e3})}return n})):(lt.log("filterSlotsByDeviceType: no deviceType specified"),e)}(e,t);return function(e){return e.filter((function(e){return e.minWindowWidth&&window.innerWidth<e.minWindowWidth?(lt.log("Slot filtered due to minWindowWidth",e),!1):e.maxWindowWidth&&window.innerWidth>e.maxWindowWidth?(lt.log("Slot filtered due to maxWindowWidth",e),!1):e.minWindowHeight&&window.innerHeight<e.minWindowHeight?(lt.log("Slot filtered due to minWindowHeight",e),!1):!(e.maxWindowHeight&&window.innerHeight>e.maxWindowHeight&&(lt.log("Slot filtered due to maxWindowHeight",e),1))}))}(n)}function bt(e){return"video"==e.type||"interscroller"==e.type||!(!e.sizes||!e.sizes.length)&&(1!==e.sizes.length||1!=e.sizes[0][0])}function yt(e){return!!e&&""!==e.getSlotElementId()}var wt=dt("updateConfig");function It(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;"undefined"==typeof ga&&t<100?setTimeout((function(){It(e,t++)}),100):e()}function _t(e){ga("send","event","ab-test","AB-TEST "+e,{nonInteraction:!0})}var Ct={doesGaExistDefer:It,sendABConfigToAnalytics:_t,setupAnalytics:function(e){var t=e.options,n=[];return t.sendAnalytics&&e.name&&n.push(_t.bind(null,e.name)),n.length>0&&It((function(){n.forEach((function(e){return e()}))})),n}},St=dt("requestmanager"),xt={_bidManagement:{},_bidders:[],init:function(e){this._bidManagement={},this._bidders=[],function(e){var t=e.options,n=!(!t.uam||!t.uam.pubID);return lt.log("isUamEnabled",n),n}(e)&&this.pushBidder("a9"),function(e){var t=e.options;return lt.log("isPBJSEnabled",!!t.prebid&&0!==Object.keys(t.prebid).length),!!t.prebid&&0!==Object.keys(t.prebid).length}(e)&&this.pushBidder("pbjs")},createIdFromAdUnits:function(e){return e.map((function(e){return e.getSlotElementId&&e.getSlotElementId()})).join("")||"init"},pushBidder:function(e){this._bidders.indexOf(e)<0&&this._bidders.push(e)},getBids:function(e){return this._bidManagement[e]},initBid:function(e){var t=this;this._bidManagement[e]||(this._bidManagement[e]={},this._bidders.forEach((function(n){t._bidManagement[e][n]=!1}))),St.log("initBid",e,JSON.stringify(this._bidManagement))},setBid:function(e,t){this.initBid(e),this._bidManagement[e][t]=!0,St.log("setBid",e,t,JSON.stringify(this._bidManagement))},resetBid:function(e,t){return this.initBid(e),this._bidManagement[e][t]=!1,St.log("resetBid",e,t,JSON.stringify(this._bidManagement)),this._bidManagement[e]},resetBids:function(e){var t=this;return this.initBid(e),this._bidders.forEach((function(n){t._bidManagement[e][n]=!1})),this._bidManagement[e]},allBidsBack:function(e){var t=this,n=this._bidders.map((function(n){return t._bidManagement[e][n]})).filter(Boolean).length===this._bidders.length;return St.log("bidsback",e,this._bidders,JSON.stringify(this._bidManagement),n),n}},At=dt("auctionManager"),Et={bidStore:{},_addToStore:function(e,t,n){At.log("adding bid to store",n),this.bidStore[e][t]=n},_isInStore:function(e,t){return this.bidStore[e]&&this.bidStore[e][t]},_getFromStore:function(e,t){return!!this._isInStore(e,t)&&this.bidStore[e][t]},_cleanupStore:function(e){var t=this;At.log("cleaning up store",e),e.forEach((function(e){delete t.bidStore[e],t.bidStore[e]={}}))},cacheBids:function(e){var t=this;this._cleanupStore(e.adUnitCodes),e.bidsReceived.forEach((function(e){var n=e.adUnitCode,r=e.adId;t._addToStore(n,r,e)}))},getAdUnitBid:function(e,t){var n=this._getFromStore(e,t);return At.log("getting bid",e,t,n),n}},Tt=function(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(e){return}}();function Ot(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(i){if("TypeError"!==i.name)throw i;for(var n=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),r=0;r<e.length;r+=1)n.append(e[r]);return n.getBlob(t.type)}}"undefined"==typeof Promise&&require("lie/polyfill");var kt=Promise;function jt(e,t){t&&e.then((function(e){t(null,e)}),(function(e){t(e)}))}function Rt(e,t,n){"function"==typeof t&&e.then(t),"function"==typeof n&&e.catch(n)}function zt(e){return"string"!=typeof e&&(e=String(e)),e}function Pt(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var Bt,Dt="local-forage-detect-blob-support",Ut={},Nt=Object.prototype.toString,Ft="readonly",Mt="readwrite";function qt(e){return"boolean"==typeof Bt?kt.resolve(Bt):function(e){return new kt((function(t){var n=e.transaction(Dt,Mt),r=Ot([""]);n.objectStore(Dt).put(r,"key"),n.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)},n.oncomplete=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);t(n||!e||parseInt(e[1],10)>=43)}})).catch((function(){return!1}))}(e).then((function(e){return Bt=e}))}function Lt(e){var t=Ut[e.name],n={};n.promise=new kt((function(e,t){n.resolve=e,n.reject=t})),t.deferredOperations.push(n),t.dbReady?t.dbReady=t.dbReady.then((function(){return n.promise})):t.dbReady=n.promise}function Wt(e){var t=Ut[e.name].deferredOperations.pop();if(t)return t.resolve(),t.promise}function Ht(e,t){var n=Ut[e.name].deferredOperations.pop();if(n)return n.reject(t),n.promise}function Vt(e,t){return new kt((function(n,r){if(Ut[e.name]=Ut[e.name]||{forages:[],db:null,dbReady:null,deferredOperations:[]},e.db){if(!t)return n(e.db);Lt(e),e.db.close()}var i=[e.name];t&&i.push(e.version);var o=Tt.open.apply(Tt,i);t&&(o.onupgradeneeded=function(t){var n=o.result;try{n.createObjectStore(e.storeName),t.oldVersion<=1&&n.createObjectStore(Dt)}catch(e){if("ConstraintError"!==e.name)throw e}}),o.onerror=function(e){e.preventDefault(),r(o.error)},o.onsuccess=function(){var t=o.result;t.onversionchange=function(e){e.target.close()},n(t),Wt(e)}}))}function Gt(e){return Vt(e,!1)}function $t(e){return Vt(e,!0)}function Jt(e,t){if(!e.db)return!0;var n=!e.db.objectStoreNames.contains(e.storeName),r=e.version<e.db.version,i=e.version>e.db.version;if(r&&(e.version,e.version=e.db.version),i||n){if(n){var o=e.db.version+1;o>e.version&&(e.version=o)}return!0}return!1}function Xt(e){var t=function(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),i=0;i<t;i++)r[i]=e.charCodeAt(i);return n}(atob(e.data));return Ot([t],{type:e.type})}function Qt(e){return e&&e.__local_forage_encoded_blob}function Kt(e){var t=this,n=t._initReady().then((function(){var e=Ut[t._dbInfo.name];if(e&&e.dbReady)return e.dbReady}));return Rt(n,e,e),n}function Yt(e,t,n,r){void 0===r&&(r=1);try{var i=e.db.transaction(e.storeName,t);n(null,i)}catch(i){if(r>0&&(!e.db||"InvalidStateError"===i.name||"NotFoundError"===i.name))return kt.resolve().then((function(){if(!e.db||"NotFoundError"===i.name&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),$t(e)})).then((function(){return function(e){Lt(e);for(var t=Ut[e.name],n=t.forages,r=0;r<n.length;r++){var i=n[r];i._dbInfo.db&&(i._dbInfo.db.close(),i._dbInfo.db=null)}return e.db=null,Gt(e).then((function(t){return e.db=t,Jt(e)?$t(e):t})).then((function(r){e.db=t.db=r;for(var i=0;i<n.length;i++)n[i]._dbInfo.db=r})).catch((function(t){throw Ht(e,t),t}))}(e).then((function(){Yt(e,t,n,r-1)}))})).catch(n);n(i)}}var Zt={_driver:"asyncStorage",_initStorage:function(e){var t=this,n={db:null};if(e)for(var r in e)n[r]=e[r];var i=Ut[n.name];i||(i={forages:[],db:null,dbReady:null,deferredOperations:[]},Ut[n.name]=i),i.forages.push(t),t._initReady||(t._initReady=t.ready,t.ready=Kt);var o=[];function a(){return kt.resolve()}for(var s=0;s<i.forages.length;s++){var c=i.forages[s];c!==t&&o.push(c._initReady().catch(a))}var u=i.forages.slice(0);return kt.all(o).then((function(){return n.db=i.db,Gt(n)})).then((function(e){return n.db=e,Jt(n,t._defaultConfig.version)?$t(n):e})).then((function(e){n.db=i.db=e,t._dbInfo=n;for(var r=0;r<u.length;r++){var o=u[r];o!==t&&(o._dbInfo.db=n.db,o._dbInfo.version=n.version)}}))},_support:function(){try{if(!Tt||!Tt.open)return!1;var e="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),t="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!e||t)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(e){return!1}}(),iterate:function(e,t){var n=this,r=new kt((function(t,r){n.ready().then((function(){Yt(n._dbInfo,Ft,(function(i,o){if(i)return r(i);try{var a=o.objectStore(n._dbInfo.storeName).openCursor(),s=1;a.onsuccess=function(){var n=a.result;if(n){var r=n.value;Qt(r)&&(r=Xt(r));var i=e(r,n.key,s++);void 0!==i?t(i):n.continue()}else t()},a.onerror=function(){r(a.error)}}catch(e){r(e)}}))})).catch(r)}));return jt(r,t),r},getItem:function(e,t){var n=this;e=zt(e);var r=new kt((function(t,r){n.ready().then((function(){Yt(n._dbInfo,Ft,(function(i,o){if(i)return r(i);try{var a=o.objectStore(n._dbInfo.storeName).get(e);a.onsuccess=function(){var e=a.result;void 0===e&&(e=null),Qt(e)&&(e=Xt(e)),t(e)},a.onerror=function(){r(a.error)}}catch(e){r(e)}}))})).catch(r)}));return jt(r,t),r},setItem:function(e,t,n){var r=this;e=zt(e);var i=new kt((function(n,i){var o;r.ready().then((function(){return o=r._dbInfo,"[object Blob]"===Nt.call(t)?qt(o.db).then((function(e){return e?t:(n=t,new kt((function(e,t){var r=new FileReader;r.onerror=t,r.onloadend=function(t){var r=btoa(t.target.result||"");e({__local_forage_encoded_blob:!0,data:r,type:n.type})},r.readAsBinaryString(n)})));var n})):t})).then((function(t){Yt(r._dbInfo,Mt,(function(o,a){if(o)return i(o);try{var s=a.objectStore(r._dbInfo.storeName);null===t&&(t=void 0);var c=s.put(t,e);a.oncomplete=function(){void 0===t&&(t=null),n(t)},a.onabort=a.onerror=function(){var e=c.error?c.error:c.transaction.error;i(e)}}catch(e){i(e)}}))})).catch(i)}));return jt(i,n),i},removeItem:function(e,t){var n=this;e=zt(e);var r=new kt((function(t,r){n.ready().then((function(){Yt(n._dbInfo,Mt,(function(i,o){if(i)return r(i);try{var a=o.objectStore(n._dbInfo.storeName).delete(e);o.oncomplete=function(){t()},o.onerror=function(){r(a.error)},o.onabort=function(){var e=a.error?a.error:a.transaction.error;r(e)}}catch(e){r(e)}}))})).catch(r)}));return jt(r,t),r},clear:function(e){var t=this,n=new kt((function(e,n){t.ready().then((function(){Yt(t._dbInfo,Mt,(function(r,i){if(r)return n(r);try{var o=i.objectStore(t._dbInfo.storeName).clear();i.oncomplete=function(){e()},i.onabort=i.onerror=function(){var e=o.error?o.error:o.transaction.error;n(e)}}catch(e){n(e)}}))})).catch(n)}));return jt(n,e),n},length:function(e){var t=this,n=new kt((function(e,n){t.ready().then((function(){Yt(t._dbInfo,Ft,(function(r,i){if(r)return n(r);try{var o=i.objectStore(t._dbInfo.storeName).count();o.onsuccess=function(){e(o.result)},o.onerror=function(){n(o.error)}}catch(e){n(e)}}))})).catch(n)}));return jt(n,e),n},key:function(e,t){var n=this,r=new kt((function(t,r){e<0?t(null):n.ready().then((function(){Yt(n._dbInfo,Ft,(function(i,o){if(i)return r(i);try{var a=o.objectStore(n._dbInfo.storeName),s=!1,c=a.openKeyCursor();c.onsuccess=function(){var n=c.result;n?0===e||s?t(n.key):(s=!0,n.advance(e)):t(null)},c.onerror=function(){r(c.error)}}catch(e){r(e)}}))})).catch(r)}));return jt(r,t),r},keys:function(e){var t=this,n=new kt((function(e,n){t.ready().then((function(){Yt(t._dbInfo,Ft,(function(r,i){if(r)return n(r);try{var o=i.objectStore(t._dbInfo.storeName).openKeyCursor(),a=[];o.onsuccess=function(){var t=o.result;t?(a.push(t.key),t.continue()):e(a)},o.onerror=function(){n(o.error)}}catch(e){n(e)}}))})).catch(n)}));return jt(n,e),n},dropInstance:function(e,t){t=Pt.apply(this,arguments);var n=this.config();(e="function"!=typeof e&&e||{}).name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName);var r,i=this;if(e.name){var o=e.name===n.name&&i._dbInfo.db,a=o?kt.resolve(i._dbInfo.db):Gt(e).then((function(t){var n=Ut[e.name],r=n.forages;n.db=t;for(var i=0;i<r.length;i++)r[i]._dbInfo.db=t;return t}));r=e.storeName?a.then((function(t){if(t.objectStoreNames.contains(e.storeName)){var n=t.version+1;Lt(e);var r=Ut[e.name],i=r.forages;t.close();for(var o=0;o<i.length;o++){var a=i[o];a._dbInfo.db=null,a._dbInfo.version=n}var s=new kt((function(t,r){var i=Tt.open(e.name,n);i.onerror=function(e){i.result.close(),r(e)},i.onupgradeneeded=function(){i.result.deleteObjectStore(e.storeName)},i.onsuccess=function(){var e=i.result;e.close(),t(e)}}));return s.then((function(e){r.db=e;for(var t=0;t<i.length;t++){var n=i[t];n._dbInfo.db=e,Wt(n._dbInfo)}})).catch((function(t){throw(Ht(e,t)||kt.resolve()).catch((function(){})),t}))}})):a.then((function(t){Lt(e);var n=Ut[e.name],r=n.forages;t.close();for(var i=0;i<r.length;i++)r[i]._dbInfo.db=null;var o=new kt((function(t,n){var r=Tt.deleteDatabase(e.name);r.onerror=function(){var e=r.result;e&&e.close(),n(r.error)},r.onblocked=function(){},r.onsuccess=function(){var e=r.result;e&&e.close(),t(e)}}));return o.then((function(e){n.db=e;for(var t=0;t<r.length;t++)Wt(r[t]._dbInfo)})).catch((function(t){throw(Ht(e,t)||kt.resolve()).catch((function(){})),t}))}))}else r=kt.reject("Invalid arguments");return jt(r,t),r}},en="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",tn=/^~~local_forage_type~([^~]+)~/,nn="__lfsc__:",rn=nn.length,on="arbf",an="blob",sn="si08",cn="ui08",un="uic8",dn="si16",ln="si32",fn="ur16",pn="ui32",mn="fl32",vn="fl64",gn=rn+on.length,hn=Object.prototype.toString;function bn(e){var t,n,r,i,o,a=.75*e.length,s=e.length,c=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var u=new ArrayBuffer(a),d=new Uint8Array(u);for(t=0;t<s;t+=4)n=en.indexOf(e[t]),r=en.indexOf(e[t+1]),i=en.indexOf(e[t+2]),o=en.indexOf(e[t+3]),d[c++]=n<<2|r>>4,d[c++]=(15&r)<<4|i>>2,d[c++]=(3&i)<<6|63&o;return u}function yn(e){var t,n=new Uint8Array(e),r="";for(t=0;t<n.length;t+=3)r+=en[n[t]>>2],r+=en[(3&n[t])<<4|n[t+1]>>4],r+=en[(15&n[t+1])<<2|n[t+2]>>6],r+=en[63&n[t+2]];return n.length%3==2?r=r.substring(0,r.length-1)+"=":n.length%3==1&&(r=r.substring(0,r.length-2)+"=="),r}var wn={serialize:function(e,t){var n="";if(e&&(n=hn.call(e)),e&&("[object ArrayBuffer]"===n||e.buffer&&"[object ArrayBuffer]"===hn.call(e.buffer))){var r,i=nn;e instanceof ArrayBuffer?(r=e,i+=on):(r=e.buffer,"[object Int8Array]"===n?i+=sn:"[object Uint8Array]"===n?i+=cn:"[object Uint8ClampedArray]"===n?i+=un:"[object Int16Array]"===n?i+=dn:"[object Uint16Array]"===n?i+=fn:"[object Int32Array]"===n?i+=ln:"[object Uint32Array]"===n?i+=pn:"[object Float32Array]"===n?i+=mn:"[object Float64Array]"===n?i+=vn:t(new Error("Failed to get type for BinaryArray"))),t(i+yn(r))}else if("[object Blob]"===n){var o=new FileReader;o.onload=function(){var n="~~local_forage_type~"+e.type+"~"+yn(this.result);t("__lfsc__:blob"+n)},o.readAsArrayBuffer(e)}else try{t(JSON.stringify(e))}catch(n){console.error("Couldn't convert value into a JSON string: ",e),t(null,n)}},deserialize:function(e){if(e.substring(0,rn)!==nn)return JSON.parse(e);var t,n=e.substring(gn),r=e.substring(rn,gn);if(r===an&&tn.test(n)){var i=n.match(tn);t=i[1],n=n.substring(i[0].length)}var o=bn(n);switch(r){case on:return o;case an:return Ot([o],{type:t});case sn:return new Int8Array(o);case cn:return new Uint8Array(o);case un:return new Uint8ClampedArray(o);case dn:return new Int16Array(o);case fn:return new Uint16Array(o);case ln:return new Int32Array(o);case pn:return new Uint32Array(o);case mn:return new Float32Array(o);case vn:return new Float64Array(o);default:throw new Error("Unkown type: "+r)}},stringToBuffer:bn,bufferToString:yn};function In(e,t,n,r){e.executeSql("CREATE TABLE IF NOT EXISTS ".concat(t.storeName," ")+"(id INTEGER PRIMARY KEY, key unique, value)",[],n,r)}function _n(e,t,n,r,i,o){e.executeSql(n,r,i,(function(e,a){a.code===a.SYNTAX_ERR?e.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[t.storeName],(function(e,s){s.rows.length?o(e,a):In(e,t,(function(){e.executeSql(n,r,i,o)}),o)}),o):o(e,a)}),o)}function Cn(e,t,n,r){var i=this;e=zt(e);var o=new kt((function(o,a){i.ready().then((function(){void 0===t&&(t=null);var s=t,c=i._dbInfo;c.serializer.serialize(t,(function(t,u){u?a(u):c.db.transaction((function(n){_n(n,c,"INSERT OR REPLACE INTO ".concat(c.storeName," ")+"(key, value) VALUES (?, ?)",[e,t],(function(){o(s)}),(function(e,t){a(t)}))}),(function(t){if(t.code===t.QUOTA_ERR){if(r>0)return void o(Cn.apply(i,[e,s,n,r-1]));a(t)}}))}))})).catch(a)}));return jt(o,n),o}function Sn(e){return new kt((function(t,n){e.transaction((function(r){r.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],(function(n,r){for(var i=[],o=0;o<r.rows.length;o++)i.push(r.rows.item(o).name);t({db:e,storeNames:i})}),(function(e,t){n(t)}))}),(function(e){n(e)}))}))}var xn={_driver:"webSQLStorage",_initStorage:function(e){var t=this,n={db:null};if(e)for(var r in e)n[r]="string"!=typeof e[r]?e[r].toString():e[r];var i=new kt((function(e,r){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(e){return r(e)}n.db.transaction((function(i){In(i,n,(function(){t._dbInfo=n,e()}),(function(e,t){r(t)}))}),r)}));return n.serializer=wn,i},_support:"function"==typeof openDatabase,iterate:function(e,t){var n=this,r=new kt((function(t,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){_n(n,i,"SELECT * FROM ".concat(i.storeName),[],(function(n,r){for(var o=r.rows,a=o.length,s=0;s<a;s++){var c=o.item(s),u=c.value;if(u&&(u=i.serializer.deserialize(u)),void 0!==(u=e(u,c.key,s+1)))return void t(u)}t()}),(function(e,t){r(t)}))}))})).catch(r)}));return jt(r,t),r},getItem:function(e,t){var n=this;e=zt(e);var r=new kt((function(t,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){_n(n,i,"SELECT * FROM ".concat(i.storeName," WHERE key = ? LIMIT 1"),[e],(function(e,n){var r=n.rows.length?n.rows.item(0).value:null;r&&(r=i.serializer.deserialize(r)),t(r)}),(function(e,t){r(t)}))}))})).catch(r)}));return jt(r,t),r},setItem:function(e,t,n){return Cn.apply(this,[e,t,n,1])},removeItem:function(e,t){var n=this;e=zt(e);var r=new kt((function(t,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){_n(n,i,"DELETE FROM ".concat(i.storeName," WHERE key = ?"),[e],(function(){t()}),(function(e,t){r(t)}))}))})).catch(r)}));return jt(r,t),r},clear:function(e){var t=this,n=new kt((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){_n(t,r,"DELETE FROM ".concat(r.storeName),[],(function(){e()}),(function(e,t){n(t)}))}))})).catch(n)}));return jt(n,e),n},length:function(e){var t=this,n=new kt((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){_n(t,r,"SELECT COUNT(key) as c FROM ".concat(r.storeName),[],(function(t,n){var r=n.rows.item(0).c;e(r)}),(function(e,t){n(t)}))}))})).catch(n)}));return jt(n,e),n},key:function(e,t){var n=this,r=new kt((function(t,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){_n(n,i,"SELECT key FROM ".concat(i.storeName," WHERE id = ? LIMIT 1"),[e+1],(function(e,n){var r=n.rows.length?n.rows.item(0).key:null;t(r)}),(function(e,t){r(t)}))}))})).catch(r)}));return jt(r,t),r},keys:function(e){var t=this,n=new kt((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){_n(t,r,"SELECT key FROM ".concat(r.storeName),[],(function(t,n){for(var r=[],i=0;i<n.rows.length;i++)r.push(n.rows.item(i).key);e(r)}),(function(e,t){n(t)}))}))})).catch(n)}));return jt(n,e),n},dropInstance:function(e,t){t=Pt.apply(this,arguments);var n=this.config();(e="function"!=typeof e&&e||{}).name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName);var r,i=this;return jt(r=e.name?new kt((function(t){var r;r=e.name===n.name?i._dbInfo.db:openDatabase(e.name,"","",0),e.storeName?t({db:r,storeNames:[e.storeName]}):t(Sn(r))})).then((function(e){return new kt((function(t,n){e.db.transaction((function(r){function i(e){return new kt((function(t,n){r.executeSql("DROP TABLE IF EXISTS ".concat(e),[],(function(){t()}),(function(e,t){n(t)}))}))}for(var o=[],a=0,s=e.storeNames.length;a<s;a++)o.push(i(e.storeNames[a]));kt.all(o).then((function(){t()})).catch((function(e){n(e)}))}),(function(e){n(e)}))}))})):kt.reject("Invalid arguments"),t),r}};function An(e,t){var n=e.name+"/";return e.storeName!==t.storeName&&(n+=e.storeName+"/"),n}function En(){return!function(){var e="_localforage_support_test";try{return localStorage.setItem(e,!0),localStorage.removeItem(e),!1}catch(e){return!0}}()||localStorage.length>0}var Tn={_driver:"localStorageWrapper",_initStorage:function(e){var t={};if(e)for(var n in e)t[n]=e[n];return t.keyPrefix=An(e,this._defaultConfig),En()?(this._dbInfo=t,t.serializer=wn,kt.resolve()):kt.reject()},_support:function(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(e){return!1}}(),iterate:function(e,t){var n=this,r=n.ready().then((function(){for(var t=n._dbInfo,r=t.keyPrefix,i=r.length,o=localStorage.length,a=1,s=0;s<o;s++){var c=localStorage.key(s);if(0===c.indexOf(r)){var u=localStorage.getItem(c);if(u&&(u=t.serializer.deserialize(u)),void 0!==(u=e(u,c.substring(i),a++)))return u}}}));return jt(r,t),r},getItem:function(e,t){var n=this;e=zt(e);var r=n.ready().then((function(){var t=n._dbInfo,r=localStorage.getItem(t.keyPrefix+e);return r&&(r=t.serializer.deserialize(r)),r}));return jt(r,t),r},setItem:function(e,t,n){var r=this;e=zt(e);var i=r.ready().then((function(){void 0===t&&(t=null);var n=t;return new kt((function(i,o){var a=r._dbInfo;a.serializer.serialize(t,(function(t,r){if(r)o(r);else try{localStorage.setItem(a.keyPrefix+e,t),i(n)}catch(e){"QuotaExceededError"!==e.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==e.name||o(e),o(e)}}))}))}));return jt(i,n),i},removeItem:function(e,t){var n=this;e=zt(e);var r=n.ready().then((function(){var t=n._dbInfo;localStorage.removeItem(t.keyPrefix+e)}));return jt(r,t),r},clear:function(e){var t=this,n=t.ready().then((function(){for(var e=t._dbInfo.keyPrefix,n=localStorage.length-1;n>=0;n--){var r=localStorage.key(n);0===r.indexOf(e)&&localStorage.removeItem(r)}}));return jt(n,e),n},length:function(e){var t=this.keys().then((function(e){return e.length}));return jt(t,e),t},key:function(e,t){var n=this,r=n.ready().then((function(){var t,r=n._dbInfo;try{t=localStorage.key(e)}catch(e){t=null}return t&&(t=t.substring(r.keyPrefix.length)),t}));return jt(r,t),r},keys:function(e){var t=this,n=t.ready().then((function(){for(var e=t._dbInfo,n=localStorage.length,r=[],i=0;i<n;i++){var o=localStorage.key(i);0===o.indexOf(e.keyPrefix)&&r.push(o.substring(e.keyPrefix.length))}return r}));return jt(n,e),n},dropInstance:function(e,t){if(t=Pt.apply(this,arguments),!(e="function"!=typeof e&&e||{}).name){var n=this.config();e.name=e.name||n.name,e.storeName=e.storeName||n.storeName}var r,i=this;return r=e.name?new kt((function(t){e.storeName?t(An(e,i._defaultConfig)):t("".concat(e.name,"/"))})).then((function(e){for(var t=localStorage.length-1;t>=0;t--){var n=localStorage.key(t);0===n.indexOf(e)&&localStorage.removeItem(n)}})):kt.reject("Invalid arguments"),jt(r,t),r}},On=function(e,t){for(var n,r,i=e.length,o=0;o<i;){if((n=e[o])===(r=t)||"number"==typeof n&&"number"==typeof r&&isNaN(n)&&isNaN(r))return!0;o++}return!1},kn=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},jn={},Rn={},zn={INDEXEDDB:Zt,WEBSQL:xn,LOCALSTORAGE:Tn},Pn=[zn.INDEXEDDB._driver,zn.WEBSQL._driver,zn.LOCALSTORAGE._driver],Bn=["dropInstance"],Dn=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Bn),Un={description:"",driver:Pn.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Nn(e,t){e[t]=function(){var n=arguments;return e.ready().then((function(){return e[t].apply(e,n)}))}}function Fn(){for(var e=1;e<arguments.length;e++){var t=arguments[e];if(t)for(var n in t)t.hasOwnProperty(n)&&(kn(t[n])?arguments[0][n]=t[n].slice():arguments[0][n]=t[n])}return arguments[0]}class Mn{constructor(e){for(var t in zn)if(zn.hasOwnProperty(t)){var n=zn[t],r=n._driver;this[t]=r,jn[r]||this.defineDriver(n)}this._defaultConfig=Fn({},Un),this._config=Fn({},this._defaultConfig,e),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch((function(){}))}config(e){if("object"==typeof e){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var t in e){if("storeName"===t&&(e[t]=e[t].replace(/\W/g,"_")),"version"===t&&"number"!=typeof e[t])return new Error("Database version must be a number.");this._config[t]=e[t]}return!("driver"in e)||!e.driver||this.setDriver(this._config.driver)}return"string"==typeof e?this._config[e]:this._config}defineDriver(e,t,n){var r=new kt((function(t,n){try{var r=e._driver,i=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!e._driver)return void n(i);for(var o=Dn.concat("_initStorage"),a=0,s=o.length;a<s;a++){var c=o[a];if((!On(Bn,c)||e[c])&&"function"!=typeof e[c])return void n(i)}!function(){for(var t=function(e){return function(){var t=new Error("Method ".concat(e," is not implemented by the current driver")),n=kt.reject(t);return jt(n,arguments[arguments.length-1]),n}},n=0,r=Bn.length;n<r;n++){var i=Bn[n];e[i]||(e[i]=t(i))}}();var u=function(n){jn[r]&&console.info("Redefining LocalForage driver: ".concat(r)),jn[r]=e,Rn[r]=n,t()};"_support"in e?e._support&&"function"==typeof e._support?e._support().then(u,n):u(!!e._support):u(!0)}catch(e){n(e)}}));return Rt(r,t,n),r}driver(){return this._driver||null}getDriver(e,t,n){var r=jn[e]?kt.resolve(jn[e]):kt.reject(new Error("Driver not found."));return Rt(r,t,n),r}getSerializer(e){var t=kt.resolve(wn);return Rt(t,e),t}ready(e){var t=this,n=t._driverSet.then((function(){return null===t._ready&&(t._ready=t._initDriver()),t._ready}));return Rt(n,e,e),n}setDriver(e,t,n){var r=this;kn(e)||(e=[e]);var i=this._getSupportedDrivers(e);function o(){r._config.driver=r.driver()}function a(e){return r._extend(e),o(),r._ready=r._initStorage(r._config),r._ready}var s=null!==this._driverSet?this._driverSet.catch((function(){return kt.resolve()})):kt.resolve();return this._driverSet=s.then((function(){var e=i[0];return r._dbInfo=null,r._ready=null,r.getDriver(e).then((function(e){r._driver=e._driver,o(),r._wrapLibraryMethodsWithReady(),r._initDriver=function(e){return function(){var t=0;return function n(){for(;t<e.length;){var i=e[t];return t++,r._dbInfo=null,r._ready=null,r.getDriver(i).then(a).catch(n)}o();var s=new Error("No available storage method found.");return r._driverSet=kt.reject(s),r._driverSet}()}}(i)}))})).catch((function(){o();var e=new Error("No available storage method found.");return r._driverSet=kt.reject(e),r._driverSet})),Rt(this._driverSet,t,n),this._driverSet}supports(e){return!!Rn[e]}_extend(e){Fn(this,e)}_getSupportedDrivers(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];this.supports(i)&&t.push(i)}return t}_wrapLibraryMethodsWithReady(){for(var e=0,t=Dn.length;e<t;e++)Nn(this,Dn[e])}createInstance(e){return new Mn(e)}}function qn(e){var t=e+"=",n=decodeURIComponent(document.cookie).split(";").map((function(e){return e.trim()})).find((function(e){return 0==e.indexOf(t)}));return n?n.substring(t.length):""}new Mn;var Ln=dt("adTargeting");function Wn(e,t){var n=Vn(e);return new RegExp(t,"g").test(n)}function Hn(e){for(var t=!1,n=0;n<e.length;n++){var r=e[n];if(Wn(r.type,r.value)){t=!0;break}}return t}function Vn(e){switch(e){case"path":default:return window.location.pathname;case"domain":return window.location.origin.split("://")[1];case"url":return window.location.href}}function Gn(e){for(var t=document.getElementsByTagName("meta"),n=[],r=0;r<t.length;r++)t[r].getAttribute("property")===e&&n.push(t[r].getAttribute("content"));return n}var $n={getLocationAttribute:Vn,setupChannelTargeting:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.entries(e).forEach((function(e){var t=i(e,2),n=t[0],r=t[1];if("metaTag"!==n&&Array.isArray(r)){var o=r.find((function(e){return Wn(e.type,e.value)}));o&&googletag.pubads().setTargeting(n,o.name)}}))},checkDynamicSlotTargeting:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!e.length&&!t.length)return!0;var n=Hn(e);if(n)return!1;if(t.length){var r=Hn(t);return!!r}return!0},initializeTargeting:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="ab",n="afid",r="st",i="id",o="vr",a="gdpr",s="ccpa",c="uc";if(0==Object.keys(e).length)return Ln.error("Cannot initialize targeting: adConfig doesn't have targeting information"),!1;if(e.options&&e.options.targeting){if(e.options.targeting.metaTag){var u=Gn(e.options.targeting.metaTag);u.length>0&&googletag.pubads().setTargeting("pub_tag",u)}this.setupChannelTargeting(e.options.targeting)}if(e.adFormationId&&googletag.pubads().setTargeting(n,e.adFormationId),!isNaN(e.index)&&googletag.pubads().setTargeting(t,e.index.toString()),e.site&&googletag.pubads().setTargeting(r,e.site),e.id&&googletag.pubads().setTargeting(i,e.id.slice(-6)),e.version&&googletag.pubads().setTargeting(o,e.version),window.zamaf&&window.zamaf.user){googletag.pubads().setTargeting(a,window.zamaf.user.isGDPR?"1":"0"),googletag.pubads().setTargeting(s,window.zamaf.user.isCCPA?"1":"0");var d=qn("usconsent");d&&googletag.pubads().setTargeting(c,d)}return!0}},Jn="zaf:page:visibility",Xn="zaf:unit:define",Qn="zaf:unit:display",Kn="zaf:unit:loadinfo",Yn="zaf:unit:pbjsrender",Zn="zaf:unit:refresh",er="zaf:unit:remove",tr="zaf:consent:update",nr="zaf:slots:refresh",rr="zaf:slots:done",ir="zaf:services:enable",or="zaf:psr:rendered",ar="zaf:slot:rejected",sr="zaf:init:postInit",cr="zaf:bids:requested",ur="zaf:bids:done",dr="zaf:tcf:userready",lr="zaf:error",fr="code",pr="mobile",mr="insert",vr="slotElementId",gr="slotCode",hr="elementIds",br="codes",yr="slotCount",wr="url",Ir="slot";function _r(e){var t={};return Object.keys(e).forEach((function(n){switch(n){case pr:case mr:case fr:var r="EMPTY";e.configSlot&&void 0!==e.configSlot[n]?r=e.configSlot[n]:void 0!==e[n]&&(r=e[n]),t[n]=r;break;case vr:t[n]=e.configSlot&&e.configSlot.slot?e.configSlot.slot.getSlotElementId():"EMPTY";break;case gr:t[n]=e.configSlot&&e.configSlot.slot?e.configSlot.slot.getAdUnitPath():"EMPTY";break;case hr:t[n]=e.configSlots&&e.configSlots.length?e.configSlots.map((function(e){return e.elementId})).join(","):"EMPTY";break;case br:t[n]=e.configSlots&&e.configSlots.length?e.configSlots.map((function(e){return e.code})).join(","):"EMPTY";break;case yr:t[n]=e.configSlots?e.configSlots.length:0;break;case wr:t[n]=e.url;break;case Ir:var i=e[n];t[n]={elementId:i.getSlotElementId(),adUnitPath:i.getAdUnitPath()};break;default:t[n]=e[n]}})),t}function Cr(){}function Sr(){Sr.init.call(this)}function xr(e){return void 0===e._maxListeners?Sr.defaultMaxListeners:e._maxListeners}function Ar(e,t,n){if(t)e.call(n);else for(var r=e.length,i=Pr(e,r),o=0;o<r;++o)i[o].call(n)}function Er(e,t,n,r){if(t)e.call(n,r);else for(var i=e.length,o=Pr(e,i),a=0;a<i;++a)o[a].call(n,r)}function Tr(e,t,n,r,i){if(t)e.call(n,r,i);else for(var o=e.length,a=Pr(e,o),s=0;s<o;++s)a[s].call(n,r,i)}function Or(e,t,n,r,i,o){if(t)e.call(n,r,i,o);else for(var a=e.length,s=Pr(e,a),c=0;c<a;++c)s[c].call(n,r,i,o)}function kr(e,t,n,r){if(t)e.apply(n,r);else for(var i=e.length,o=Pr(e,i),a=0;a<i;++a)o[a].apply(n,r)}function jr(e,t,n,r){var i,o,a;if("function"!=typeof n)throw new TypeError('"listener" argument must be a function');if((o=e._events)?(o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),a=o[t]):(o=e._events=new Cr,e._eventsCount=0),a){if("function"==typeof a?a=o[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),!a.warned&&(i=xr(e))&&i>0&&a.length>i){a.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+t+" listeners added. Use emitter.setMaxListeners() to increase limit");s.name="MaxListenersExceededWarning",s.emitter=e,s.type=t,s.count=a.length}}else a=o[t]=n,++e._eventsCount;return e}function Rr(e,t,n){var r=!1;function i(){e.removeListener(t,i),r||(r=!0,n.apply(e,arguments))}return i.listener=n,i}function zr(e){var t=this._events;if(t){var n=t[e];if("function"==typeof n)return 1;if(n)return n.length}return 0}function Pr(e,t){for(var n=new Array(t);t--;)n[t]=e[t];return n}Cr.prototype=Object.create(null),Sr.EventEmitter=Sr,Sr.usingDomains=!1,Sr.prototype.domain=void 0,Sr.prototype._events=void 0,Sr.prototype._maxListeners=void 0,Sr.defaultMaxListeners=10,Sr.init=function(){this.domain=null,Sr.usingDomains&&(void 0).active,this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new Cr,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},Sr.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this},Sr.prototype.getMaxListeners=function(){return xr(this)},Sr.prototype.emit=function(e){var t,n,r,i,o,a,s,c="error"===e;if(a=this._events)c=c&&null==a.error;else if(!c)return!1;if(s=this.domain,c){if(t=arguments[1],!s){if(t instanceof Error)throw t;var u=new Error('Uncaught, unspecified "error" event. ('+t+")");throw u.context=t,u}return t||(t=new Error('Uncaught, unspecified "error" event')),t.domainEmitter=this,t.domain=s,t.domainThrown=!1,s.emit("error",t),!1}if(!(n=a[e]))return!1;var d="function"==typeof n;switch(r=arguments.length){case 1:Ar(n,d,this);break;case 2:Er(n,d,this,arguments[1]);break;case 3:Tr(n,d,this,arguments[1],arguments[2]);break;case 4:Or(n,d,this,arguments[1],arguments[2],arguments[3]);break;default:for(i=new Array(r-1),o=1;o<r;o++)i[o-1]=arguments[o];kr(n,d,this,i)}return!0},Sr.prototype.addListener=function(e,t){return jr(this,e,t,!1)},Sr.prototype.on=Sr.prototype.addListener,Sr.prototype.prependListener=function(e,t){return jr(this,e,t,!0)},Sr.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.on(e,Rr(this,e,t)),this},Sr.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.prependListener(e,Rr(this,e,t)),this},Sr.prototype.removeListener=function(e,t){var n,r,i,o,a;if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');if(!(r=this._events))return this;if(!(n=r[e]))return this;if(n===t||n.listener&&n.listener===t)0==--this._eventsCount?this._events=new Cr:(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length;o-- >0;)if(n[o]===t||n[o].listener&&n[o].listener===t){a=n[o].listener,i=o;break}if(i<0)return this;if(1===n.length){if(n[0]=void 0,0==--this._eventsCount)return this._events=new Cr,this;delete r[e]}else!function(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}(n,i);r.removeListener&&this.emit("removeListener",e,a||t)}return this},Sr.prototype.off=function(e,t){return this.removeListener(e,t)},Sr.prototype.removeAllListeners=function(e){var t,n;if(!(n=this._events))return this;if(!n.removeListener)return 0===arguments.length?(this._events=new Cr,this._eventsCount=0):n[e]&&(0==--this._eventsCount?this._events=new Cr:delete n[e]),this;if(0===arguments.length){for(var r,i=Object.keys(n),o=0;o<i.length;++o)"removeListener"!==(r=i[o])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=new Cr,this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(t)do{this.removeListener(e,t[t.length-1])}while(t[0]);return this},Sr.prototype.listeners=function(e){var t,n=this._events;return n&&(t=n[e])?"function"==typeof t?[t.listener||t]:function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(t):[]},Sr.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):zr.call(e,t)},Sr.prototype.listenerCount=zr,Sr.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};var Br="pbjs",Dr=dt("events"),Ur={__slotsEventDefined:!1,_eventEmitter:new Sr,_immediatelyInvokeEvents:{},on:function(e,t){this._immediatelyInvokeEvents[e]&&t.apply(void 0,o(this._immediatelyInvokeEvents[e])),this._eventEmitter.on(e,t)},once:function(e,t){this._immediatelyInvokeEvents[e]?t.apply(void 0,o(this._immediatelyInvokeEvents[e])):this._eventEmitter.once(e,t)},prependListener:function(e,t){this._eventEmitter.prependListener(e,t)},prependOnceListener:function(e,t){this._eventEmitter.prependOnceListener(e,t)},removeListener:function(e,t){this._eventEmitter.removeListener(e,t)},removeAllListeners:function(){this._eventEmitter.removeAllListeners()},pageChangeEvent:function(e){this._eventEmitter.emit("zaf:page:change",e)},pageVisibilityEvent:function(e){this._eventEmitter.emit(Jn,e)},unauthorizedDomainEvent:function(e){this._eventEmitter.emit("zaf:domain:unauthorized",this.config,{url:e})},defineUnitEvent:function(e,t){Dr.log("[".concat(Xn,"]"),e);var n={elementId:e,configSlot:t};return this._eventEmitter.emit(Xn,this.config,_r(n)),!0},displayUnitEvent:function(e,t){Dr.log("[".concat(Qn,"]"),e);var n={elementId:e,configSlot:t};return this._eventEmitter.emit(Qn,this.config,_r(n)),!0},renderUnitEvent:function(e,t,n){var r=mt(document.getElementById(e));n.position=r;var i={elementId:e,configSlot:t};return this._eventEmitter.emit("zaf:unit:render",this.config,_r(i)),!0},renderUnitInfoEvent:function(e,n){var r=t({elementId:e},n);return this._eventEmitter.emit("zaf:unit:renderinfo",this.config,_r(r)),!0},loadUnitInfoEvent:function(e,n){Dr.log("[".concat(Kn,"]"),e);var r=t({elementId:e},n);return this._eventEmitter.emit(Kn,this.config,_r(r)),!0},pbjsRenderEvent:function(e,n){Dr.log("[".concat(Yn,"]"),e);var r=t({elementId:e},n);return this._eventEmitter.emit(Yn,this.config,_r(r)),!0},refreshAdsEvent:function(e){Dr.log("[".concat(nr,"]"),e);var t={configSlots:e};return this._eventEmitter.emit(nr,this.config,_r(t)),!0},refreshUnitEvent:function(e,t){Dr.log("[".concat(Zn,"]"),e);var n={elementId:e,configSlot:t};return this._eventEmitter.emit(Zn,this.config,_r(n)),!0},rejectedSlotEvent:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.reason,i=void 0===r?"(Not specified)":r,o=n.code,a=void 0===o?-1:o,s="[".concat(ar,"] ").concat(e.elementId||"");a>=0&&(s+="\nRejection info ".concat(a,": ").concat(i)),Dr.log(s,[e]);var c=t({},e);return this._eventEmitter.emit(ar,_r(c),{reason:i,code:a},this.config),!0},removeUnitEvent:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Dr.log("[".concat(er,"]"),e),n&&(t=!0);var r={elementId:e,shouldDestroy:t,shouldDelete:n};return this._eventEmitter.emit(er,this.config,_r(r)),!0},updateConsentEvent:function(e){Dr.log("[".concat(tr,"]"),e);var t={eu:e.eu};return this._eventEmitter.emit(tr,this.config,_r(t)),!0},psrRenderedEvent:function(e){Dr.log("[".concat(or,"]"));var t=e?{elementId:e.elementId,configSlot:e}:{};return this._eventEmitter.emit(or,this.config,_r(t)),!0},enableServicesEvent:function(){return Dr.log("[".concat(ir,"]")),this._eventEmitter.emit(ir,this.config,null),!0},slotsDefinedEvent:function(){return this.__slotsEventDefined=!0,Dr.log("[".concat(rr,"]")),this._immediatelyInvokeEvents[rr]=[this.config],this._eventEmitter.emit(rr,this.config,null),!0},postInitEvent:function(){Dr.log("[".concat(sr,"]")),this._eventEmitter.emit(sr)},pbjsBidsRequest:function(e,t){this.bidsRequest(Br,e,t)},pbjsBidsDone:function(e,t){this.bidsDone(Br,e,t)},uamBidsRequest:function(e,t){this.bidsRequest("a9",e,t)},uamBidsDone:function(e,t){this.bidsDone("a9",e,t)},bidsRequest:function(e,t,n){return Dr.log("[".concat(cr,"]"),e,t,n),this._eventEmitter.emit(cr,e,t,n,this.config),!0},bidsDone:function(e,t,n){return Dr.log("[".concat(ur,"]"),e,t,n),this._eventEmitter.emit(ur,e,t,n,this.config),!0},tcfUserReady:function(e){Dr.log("[".concat(dr,"]"),e),this._immediatelyInvokeEvents[dr]=[e,this.config],this._eventEmitter.emit(dr,e,this.config)}};function Nr(){return window.__definedSlots=window.__definedSlots||{}}var Fr=dt("adUnit"),Mr="none",qr="fullsize",Lr="firstsize";function Wr(e,t){return(e[0].length?e:[e]).filter((function(e){return"string"!=typeof e})).length?e.filter((function(e){return e[0]<=t[0]&&e[1]<=t[1]})):[]}function Hr(e){return e.carveSize&&e.carveSize!=Mr}function Vr(e){var t=(e[0].length?e:[e]).filter((function(e){return"string"!=typeof e}));if(!t.length)return[];var n=0,r=0;return t.forEach((function(e){n=Math.max(parseInt(e[0]),n),r=Math.max(parseInt(e[1]),r)})),[n,r]}function Gr(e,t,n){t&&n?(e.style.display="flex",e.style["align-items"]="center",e.style["justify-content"]="center",e.style["flex-direction"]="column",e.style.margin="auto",e.style.width=t+"px",e.style.height=n+"px"):Fr.warn("[wrapAdUnitSlot::carveSize]",e.id,"could not carve size")}var $r=dt("adUnit");function Jr(e){return!(!Array.isArray(e)||e.length<2)&&1!=e[0]&&1!=e[1]}var Xr={initUnitEvents:function(){var e=this,t=this._getGlobals().globalSlots;this.config.options.enableMaxDimensions&&(this.config.options.disableCarveWrapper=!0,this.config.options.wrapAdUnits=!1),this.on(Qn,(function(n,r){var i=r.elementId,o=r.configSlot;if(e.config.options.enableMaxDimensions){var a=e.getSlotByElementId(i);a&&"prelude-skin"!=a.type&&(e.updateSlotSizes(a,null,!0,!1),e.watchSlotSizing(a))}e.wrapAdUnitSlot(i,o),e.setDisplayed(i),$r.log("[".concat(Qn,"]"),i,"displayed","viewable:",r.isViewable),e.setCustomTargeting(o),t[i]||(t[i]={}),t[i].domElement=document.getElementById(i),googletag.display(i),e.config.options.forceRefreshOnLoad&&googletag.pubadsReady&&googletag.pubads().isInitialLoadDisabled()?yt(t[i].slot)&&($r.log("[".concat(Qn,"]"),i,"refreshed"),googletag.pubads().refresh([t[i].slot])):$r.log("[".concat(Qn,"]"),i,"not refreshed")})),this.on(Zn,(function(n,r){var i=r.elementId,o=r.configSlot;if(o.carveSize==Lr&&1!=o.sizes.length){var a=document.getElementById(i),s=[a.dataset.unitWidth,a.dataset.unitHeight],c=s[0],u=s[1];isNaN(c)||isNaN(u)||(o.sizes=[[c,u]],e.recreateAdSlot(o.elementId))}e.setDisplayed(i),$r.log("[".concat(Zn,"]"),i,"displayed","viewable:",o.isViewable),o.bidderGroupTracker||(o.bidderGroupTracker=0),e.setCustomTargeting(o),!e.config.options.prebid&&yt(t[i].slot)?($r.log("[".concat(Zn,"]"),i,"refreshed"),googletag.pubads().refresh([t[i].slot])):$r.log("[".concat(Zn,"]"),i,"failed")})),this.on(er,this.removeAdSlot.bind(this)),this.once(rr,(function(){e.config.options.enableServicesFirst||e._enableServices()})),this.config.options.waitForPreludeSkin&&(this._preludeSkinRenderFail=window.setTimeout(this.wrap((function(){e.psrRenderedEvent(null)})),this.config.options.waitForPreludeSkin)),googletag.pubads().addEventListener("slotRenderEnded",this.slotRendered.bind(this)),this.config.options.adLightning&&googletag.pubads().addEventListener("slotRenderEnded",this.applyAdLightning.bind(this)),this.disposed.slotRenderCallback&&googletag.pubads().addEventListener("slotRenderEnded",this.disposed.slotRenderCallback)},recreateAdSlot:function(e){this.removeUnitEvent(e,!0),this._defineAndDisplaySlot(e)},wrapAdUnitSlot:function(e,t){if("prelude-skin"==t.type)return!1;if(this.config.options.wrapAdUnits||Hr(t)){var n=function(e){return e+"-container"}(e);if(!document.getElementById(n)){var r=document.createElement("div");r.id=n,r.className="zaf-unit-wrapper";var o=this.config.options,a=o.disableCarveWrapper,s=o.wrapperHeightMargin;if(t.carveSize==qr&&!a){var c=i(Vr(t.sizes),2),u=c[0],d=c[1];Gr(r,u,parseInt(d||0)+parseInt(s||0))}var l=document.getElementById(e);l.parentNode.insertBefore(r,l),l.parentNode.removeChild(l),r.appendChild(l)}}},getAuTargeting:function(e){var t=e.targeting&&e.targeting.au;t=t&&t.split(",")||[];var n=e.code.toLowerCase();n.includes("btf")&&t.push("btf"),n.includes("atf")&&t.push("atf");var r=e.sizes.reduce((function(e,t){return"object"==typeof t&&(e[0]+=t[0],e[1]+=t[1]),e}),[0,0]);return 1==r[0]&&1==r[1]?t.push("preludeskin"):0==r[0]&&0==r[1]?t.push("native"):r[0]>r[1]?t.push("horizontal"):r[0]<r[1]?t.push("vertical"):t.push("square"),e.isDynamic&&t.push("dynamic"),t=o(new Set(t))},setCustomTargeting:function(e){if(e&&e.slot){e.slot.setTargeting("viewable",e.isViewable?["1"]:["0"]),e.refreshCount=e.refreshCount?e.refreshCount++:0,e.slot.setTargeting("refresh","".concat(e.refreshCount)),e.minWindowWidth&&e.slot.setTargeting("gutterEnabled",window.innerWidth>=e.minWindowWidth?1:0);var t=this.getAuTargeting(e);e.slot.setTargeting("au",t);var n=mt(document.getElementById(e.elementId));e.slot.setTargeting("zaf_py",n.top.toString()),e.slot.setTargeting("zaf_url",window.location.pathname)}},appendUnit:function(e,t){var n=this,i=this.config.slots.find((function(t){return t.code===e}));if(!i)return!1;var o=function(){var e=r({},i,{elementId:t});return n.config.slots.push(e),n._defineAndDisplaySlot(t)};if(!this.user.isGDPR)return o();this.tcf.whenTCFLoaded(o)},defineNewAdUnit:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this._getGlobals(),r=n.globalSlots,i=t.elementId,o=i||e.elementId;if(r[o])return $r.warn("Slot already defined",o),!1;e.mediaTypes&&e.mediaTypes.includes("native")&&!e.sizes.includes("fluid")&&e.sizes.push("fluid"),this.config.options.enableMaxDimensions&&"prelude-skin"!=e.type&&this.updateSlotSizes(e);var a={};return a=(a="interstitial"===e.type?googletag.defineOutOfPageSlot(e.code,googletag.enums.OutOfPageFormat.INTERSTITIAL):googletag.defineSlot(e.code,e.sizes,o)).addService(googletag.pubads()),this.wrapAdUnitSlot(o,e),this.config.options.adLightning&&"prelude-skin"!==e.type&&this.addReportButton(o),e.slot=a,this._postDefineNewSlot(e,o,t),a},_postDefineNewSlot:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.addToGlobals(e,n)&&(e.cssRules&&this.addCssRule("#"+n,e.cssRules),this.setupRefresh(e),this.defineUnitEvent(n,t(t({},r),e))),e.slot&&e.targeting&&this._processSlotTargeting(e)},removeAdSlot:function(e,t){var n=t.elementId,r=t.shouldDestroy,i=void 0===r||r,o=t.shouldDelete,a=void 0!==o&&o,s=this._getGlobals().globalSlots,c=!1;if(s[n]&&(i&&s[n].slot&&(this.destroyObserverForAdUnit(n),$r.log("googletag resource destroyed",n),googletag.destroySlots([s[n].slot])),c=this.removeFromGlobals(n)),a){var u=this.config.slots.length;this.config.slots=this.config.slots.filter((function(e){return e.elementId!=n})),c=c||u!=this.config.slots.length}return c},setDisplayed:function(e){var t=this._getGlobals(),n=t.displayedAdSlots;t.globalSlots[e].displayed=!0,n[e]=!0},_callPsrHandler:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._preludeSkinRenderFail&&(window.clearTimeout(this._preludeSkinRenderFail),$r.log("prelude rendered",e.elementId),this.psrRenderedEvent(e))},displayAdSlot:function(e){var t=this._getGlobals(),n=t.displayedAdSlots,r=t.globalSlots,i=e;if(!(i="string"==typeof i?r[e]:r[e.elementId]))return $r.warn("Ad being displayed ".concat(e," is not defined in adConfig")),!1;if(!i.elementId)return $r.warn("Ad being displayed ".concat(i.code," does not have elementId")),!1;if(n[i.elementId])return $r.warn("Ad element ".concat(i.elementId," has already been displayed")),!1;var o=document.getElementById(i.elementId);return o?((i.suppressed||"prelude-skin"==i.type||"direct"==i.type)&&this.freezeSlot(i),o.dataset.isViewable=function(e){var t=function(e){var t={height:e.height,width:e.width,top:e.top,bottom:e.bottom,left:e.left,right:e.right};return t.height<30&&(t.height=30,t.bottom=t.top+t.height),t}(e.getBoundingClientRect()),n=window.innerHeight||document.documentElement.clientHeight,r=window.innerWidth||document.documentElement.clientWidth;if(t.bottom<0||t.right<0||t.top>n||t.left>r)return 0;var i=Math.max(0,t.left),o=Math.max(0,t.top),a=Math.min(r,t.right),s=Math.min(n,t.bottom);return(0==t.width?1:Math.max(0,a-i)/t.width)*(0==t.height?1:Math.max(0,s-o)/t.height)}(o)>=.5,i.isViewable="true"==o.dataset.isViewable,this.displayUnitEvent(i.elementId,i),!0):($r.error("Failed ad unit",i),this.removeUnitEvent(i.elementId,!0),!1)},freezeSlot:function(e){var t=this._getGlobals().globalSlots;e.frozen=!0,t[e.elementId].frozen=!0},slotRendered:function(e){var n=this;$r.slots("slotRenderedEvent",[e.slot]);var r=this._getGlobals().globalSlots,i=e.slot.getSlotElementId(),o=r[i];if(this.renderUnitEvent(i,o,e),e.isEmpty)$r.log("dfpEvent is empty for ".concat(i,":"),[e]);else{var a=this.config.options;if(!o)return $r.error("Ad being rendered ".concat(i," without definition in ad config")),!1;this.setDisplayed(i);var s,c=document.getElementById(o.elementId);if("prelude-skin"===o.type){s="skin",c.style.height="0";var u=new MutationObserver(function(e,t,n){return function(r,i){return n(r,i,e,t)}}(c,s,(function(t,r,s,c){t.forEach((function(t){var u=t.target;u&&u.offsetWidth>(a.preludeMinWidth||300)?(s.style.textAlign="center",s.style.margin="auto",s.style.height="auto",c="prelude",document.body.classList.add(a.bodyPreludeClass||"body--prelude"),r.disconnect()):u.offsetWidth<=1&&(c="skin",s.style.height="0"),$r.log("prelude-skin div set",document.body.classList);var d={elementId:i,event:e,type:c,slot:o};n._callPsrHandler(d)}))}))),d=c.getElementsByTagName("iframe")[0];u.observe(d,{attributes:!0});var l={elementId:i,event:e,type:s,slot:o};this._callPsrHandler(l)}this.setDataAttributes(c,e,t(t({},o),s?{type:s}:{})),r[i].frozen=o.frozen||this.checkForFrozenAd(e.advertiserId)}},setDataAttributes:function(e,t,n){function r(e,t){return"".concat(e,"x").concat(t)}var o,a,s,c=t.slot.getTargeting("hb_size");if("prelude-skin"===n.type)return e.dataset.unitType="prelude-skin",!0;if(Jr(t.size)){var u=i(t.size,2);s=r(o=u[0],a=u[1])}else if(c.length>0){s=c[0];var d=c[0].split("x").map((function(e){return parseInt(e)}));if(Jr(d)){var l=i(d,2);o=l[0],a=l[1]}}else if(e.getElementsByTagName("iframe").length>0&&e.getElementsByTagName("iframe")[0].offsetWidth>1){var f=e.getElementsByTagName("iframe")[0];s=r(o=f.offsetWidth,a=f.offsetHeight)}isNaN(o)||isNaN(a)||!s||(n.carveSize==Lr&&Gr(e,o,a),e.dataset.unitWidth=o,e.dataset.unitHeight=a,e.dataset.unitSize=s)},checkForFrozenAd:function(e){var t=this.config.options;return e&&t.directAdvertisers&&t.directAdvertisers.indexOf(e)>-1},getSlotConfigByElementId:function(e){var t=this._getGlobals().globalSlots;return t[e]?t[e]:this.config.slots.find((function(t){return t.elementId==e}))},addToGlobals:function(e,t){var n=this._getGlobals(),r=n.globalSlots,i=n.globalCodes,o=t||e.elementId;return r[o]?($r.log("already exists in global",o),!1):($r.log("add to globals",o),r[o]=e,r[o].elementId=o,i.push(o),!0)},removeFromGlobals:function(e){$r.log("remove from globals",e);var t=this._getGlobals(),n=t.globalSlots,r=t.globalCodes,i=t.displayedAdSlots;delete n[e],delete i[e];var o=r.indexOf(e),a=o>-1,s=this.config.slots.find((function(t){return t.elementId==e}));return s?s.slot=null:$r.error("config slots out of sync: ",e),a&&r.splice(o,1),a},_getGlobals:function(){return{globalSlots:Nr(),globalCodes:window.__codes=window.__codes||[],displayedAdSlots:window.displayedAdSlots=window.displayedAdSlots||{}}},_processSlotTargeting:function(e){if(e.targeting){for(var t of($r.log("attempting to add targeting to ".concat(e.slot.getSlotId(),":"),[e.targeting]),e.targeting)){var n=t.key,r=t.value;"string"==typeof r&&(r=r.split(",")),Array.isArray(r)&&r.length>0&&e.slot.setTargeting(n,r)}return!0}return!1}};function Qr(e,t,n){var r,i=n||{},o=i.noTrailing,a=void 0!==o&&o,s=i.noLeading,c=void 0!==s&&s,u=i.debounceMode,d=void 0===u?void 0:u,l=!1,f=0;function p(){r&&clearTimeout(r)}function m(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];var s=this,u=Date.now()-f;function m(){f=Date.now(),t.apply(s,i)}function v(){r=void 0}l||(c||!d||r||m(),p(),void 0===d&&u>e?c?(f=Date.now(),a||(r=setTimeout(d?v:m,e))):m():!0!==a&&(r=setTimeout(d?v:m,void 0===d?e-u:e)))}return m.cancel=function(e){var t=(e||{}).upcomingOnly,n=void 0!==t&&t;p(),l=!n},m}var Kr=dt("observer"),Yr={attributes:!0,attributeFilter:["style"],childList:!0,subtree:!0},Zr=new Map,ei=new Map,ti={stop:function(){this.observer&&(this.observer.disconnect(),delete this.observer,Kr.log("observer stopped"))},stopWithDisplayObserver:function(){this.resizeObserver&&(this.resizeObserver.disconnect(),delete this.resizeObserver,Kr.log("resize observer stopped")),this.cleanupMaps(),this.stop(),Kr.log("All observers stopped")},cleanupMaps:function(){ei.forEach((function(e){return clearTimeout(e)})),ei.clear(),Zr.clear(),Kr.log("Observer maps cleaned up")},cleanupElement:function(e){ei.has(e)&&(clearTimeout(ei.get(e)),ei.delete(e)),Zr.delete(e),Kr.log("Cleaned up observer data for element: ".concat(e))},unobserveElement:function(e){if(this.resizeObserver){var t=document.getElementById(e)||document.querySelector('[data-zaf-slot="'.concat(e,'"]'));t&&(this.resizeObserver.unobserve(t),Kr.log("Unobserved element: ".concat(e)))}this.cleanupElement(e)},initWithDisplayObserver:function(e,t){var n=this;if(Kr.log("observer with display observer initialized"),document.body)return this._initWithDisplayObserver(e,t),!0;var r=new MutationObserver(window.zamaf.wrap((function(){document.body&&(n._initWithDisplayObserver(e,t),r.disconnect())})));r.observe(document.documentElement,{childList:!0})},_initWithDisplayObserver:function(e,t){var n=this,r=document.body,i=Qr(gt(),e);i(),this.observer=new window.MutationObserver(i),this.observer.observe(r,Yr),window.addEventListener("beforeunload",(function(){n.stopWithDisplayObserver()}))}},ni=dt("slot");function ri(){this.slotsDefinedEvent()}function ii(e,t){if(e&&pt(e.elementId)){var n=this.defineNewAdUnit(e,{elementId:e.elementId});return t||this._prepareUnitForDisplay(e),n}return!1}var oi,ai={pendingSlots:[],checkingPendingSlots:!1,_addSlotsToGoogleTag:function(e){var t=this;if(!this.checkingPendingSlots){this.checkingPendingSlots=!0;var n=[];this.pendingSlots.forEach((function(r){!ii.call(t,r,e)&&bt(r)&&n.push(r)})),this.pendingSlots=n,this.checkingPendingSlots=!1,0===this.pendingSlots.length&&(ti.stop(),ri.call(this))}},_updateSlot:function(e){e.elementId=e.elementId||e.code},_insertSlot:function(e){var t=document.createElement("div");t.id=e.elementId,t.style.height="0",document.body.insertBefore(t,document.body.firstChild)},_defineSlots:function(){var e=this,t=this.config,n=t.options,r=this._getExistingSlots();r&&(ni.log("slots already defined on site"),r.forEach(this._triggerEventsForExistingSlot.bind(this))),this.config.options.enableServicesFirst=n.enableServicesFirst||!window.brealtime,this.config.options.enableServicesFirst&&(ni.log("enabling services first"),this._enableServices()),this.disposed.unitFilter&&(t.slots=t.slots.filter(this.disposed.unitFilter)),t.slots.forEach((function(t){e._updateSlot(t),t.insert&&e._insertSlot(t)})),this.pendingSlots=o(t.slots);var i=t.options.noDisplay;ti.initWithDisplayObserver(this._addSlotsToGoogleTag.bind(this,i),this),this.initialObserver=ti,vt(this.wrap((function(){setTimeout(e.wrap((function(){e.pendingSlots.length&&ni.warn("initialization incomplete, pending slots:",e.pendingSlots),ti.stop()})),t.options.initialObserverTtl||3e3),ri.bind(e)()})));var a=J(t,"options.targeting.dynamicSlots.blackList",[]),s=J(t,"options.targeting.dynamicSlots.whiteList",[]);return t.dynamicSlots&&$n.checkDynamicSlotTargeting(a,s)&&this.displayAllDynamic(),!0},_defineAndDisplaySlot:function(e){var t=this.config.slots.find((function(t){return t.elementId===e}));return ii.call(this,t,!1)}};!function(){if("object"==typeof window)if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});else{var e=function(e){for(var t=window.document,n=i(t);n;)n=i(t=n.ownerDocument);return t}(),t=[],n=null,r=null;a.prototype.THROTTLE_TIMEOUT=100,a.prototype.POLL_INTERVAL=null,a.prototype.USE_MUTATION_OBSERVER=!0,a._setupCrossOriginUpdater=function(){return n||(n=function(e,n){r=e&&n?l(e,n):{top:0,bottom:0,left:0,right:0,width:0,height:0},t.forEach((function(e){e._checkForIntersections()}))}),n},a._resetCrossOriginUpdater=function(){n=null,r=null},a.prototype.observe=function(e){if(!this._observationTargets.some((function(t){return t.element==e}))){if(!e||1!=e.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:e,entry:null}),this._monitorIntersections(e.ownerDocument),this._checkForIntersections()}},a.prototype.unobserve=function(e){this._observationTargets=this._observationTargets.filter((function(t){return t.element!=e})),this._unmonitorIntersections(e.ownerDocument),0==this._observationTargets.length&&this._unregisterInstance()},a.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorAllIntersections(),this._unregisterInstance()},a.prototype.takeRecords=function(){var e=this._queuedEntries.slice();return this._queuedEntries=[],e},a.prototype._initThresholds=function(e){var t=e||[0];return Array.isArray(t)||(t=[t]),t.sort().filter((function(e,t,n){if("number"!=typeof e||isNaN(e)||e<0||e>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return e!==n[t-1]}))},a.prototype._parseRootMargin=function(e){var t=(e||"0px").split(/\s+/).map((function(e){var t=/^(-?\d*\.?\d+)(px|%)$/.exec(e);if(!t)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(t[1]),unit:t[2]}}));return t[1]=t[1]||t[0],t[2]=t[2]||t[0],t[3]=t[3]||t[1],t},a.prototype._monitorIntersections=function(t){var n=t.defaultView;if(n&&-1==this._monitoringDocuments.indexOf(t)){var r=this._checkForIntersections,o=null,a=null;if(this.POLL_INTERVAL?o=n.setInterval(r,this.POLL_INTERVAL):(s(n,"resize",r,!0),s(t,"scroll",r,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in n&&(a=new n.MutationObserver(r)).observe(t,{attributes:!0,childList:!0,characterData:!0,subtree:!0})),this._monitoringDocuments.push(t),this._monitoringUnsubscribes.push((function(){var e=t.defaultView;e&&(o&&e.clearInterval(o),c(e,"resize",r,!0)),c(t,"scroll",r,!0),a&&a.disconnect()})),t!=(this.root&&this.root.ownerDocument||e)){var u=i(t);u&&this._monitorIntersections(u.ownerDocument)}}},a.prototype._unmonitorIntersections=function(t){var n=this._monitoringDocuments.indexOf(t);if(-1!=n){var r=this.root&&this.root.ownerDocument||e,o=this._observationTargets.some((function(e){var n=e.element.ownerDocument;if(n==t)return!0;for(;n&&n!=r;){var o=i(n);if((n=o&&o.ownerDocument)==t)return!0}return!1}));if(!o){var a=this._monitoringUnsubscribes[n];if(this._monitoringDocuments.splice(n,1),this._monitoringUnsubscribes.splice(n,1),a(),t!=r){var s=i(t);s&&this._unmonitorIntersections(s.ownerDocument)}}}},a.prototype._unmonitorAllIntersections=function(){var e=this._monitoringUnsubscribes.slice(0);this._monitoringDocuments.length=0,this._monitoringUnsubscribes.length=0;for(var t=0;t<e.length;t++)e[t]()},a.prototype._checkForIntersections=function(){if(this.root||!n||r){var e=this._rootIsInDom(),t=e?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach((function(r){var i=r.element,a=u(i),s=this._rootContainsTarget(i),c=r.entry,d=e&&s&&this._computeTargetAndRootIntersection(i,a,t),l=r.entry=new o({time:window.performance&&performance.now&&performance.now(),target:i,boundingClientRect:a,rootBounds:n&&!this.root?null:t,intersectionRect:d});c?e&&s?this._hasCrossedThreshold(c,l)&&this._queuedEntries.push(l):c&&c.isIntersecting&&this._queuedEntries.push(l):this._queuedEntries.push(l)}),this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)}},a.prototype._computeTargetAndRootIntersection=function(t,i,o){if("none"!=window.getComputedStyle(t).display){for(var a,s,c,d,f,m,v,g,h=i,b=p(t),y=!1;!y&&b;){var w=null,I=1==b.nodeType?window.getComputedStyle(b):{};if("none"==I.display)return null;if(b==this.root||9==b.nodeType)if(y=!0,b==this.root||b==e)n&&!this.root?!r||0==r.width&&0==r.height?(b=null,w=null,h=null):w=r:w=o;else{var _=p(b),C=_&&u(_),S=_&&this._computeTargetAndRootIntersection(_,C,o);C&&S?(b=_,w=l(C,S)):(b=null,h=null)}else{var x=b.ownerDocument;b!=x.body&&b!=x.documentElement&&"visible"!=I.overflow&&(w=u(b))}if(w&&(a=w,s=h,c=void 0,d=void 0,f=void 0,m=void 0,v=void 0,g=void 0,c=Math.max(a.top,s.top),d=Math.min(a.bottom,s.bottom),f=Math.max(a.left,s.left),m=Math.min(a.right,s.right),g=d-c,h=(v=m-f)>=0&&g>=0&&{top:c,bottom:d,left:f,right:m,width:v,height:g}||null),!h)break;b=b&&p(b)}return h}},a.prototype._getRootRect=function(){var t;if(this.root)t=u(this.root);else{var n=e.documentElement,r=e.body;t={top:0,left:0,right:n.clientWidth||r.clientWidth,width:n.clientWidth||r.clientWidth,bottom:n.clientHeight||r.clientHeight,height:n.clientHeight||r.clientHeight}}return this._expandRectByRootMargin(t)},a.prototype._expandRectByRootMargin=function(e){var t=this._rootMarginValues.map((function(t,n){return"px"==t.unit?t.value:t.value*(n%2?e.width:e.height)/100})),n={top:e.top-t[0],right:e.right+t[1],bottom:e.bottom+t[2],left:e.left-t[3]};return n.width=n.right-n.left,n.height=n.bottom-n.top,n},a.prototype._hasCrossedThreshold=function(e,t){var n=e&&e.isIntersecting?e.intersectionRatio||0:-1,r=t.isIntersecting?t.intersectionRatio||0:-1;if(n!==r)for(var i=0;i<this.thresholds.length;i++){var o=this.thresholds[i];if(o==n||o==r||o<n!=o<r)return!0}},a.prototype._rootIsInDom=function(){return!this.root||f(e,this.root)},a.prototype._rootContainsTarget=function(t){return f(this.root||e,t)&&(!this.root||this.root.ownerDocument==t.ownerDocument)},a.prototype._registerInstance=function(){t.indexOf(this)<0&&t.push(this)},a.prototype._unregisterInstance=function(){var e=t.indexOf(this);-1!=e&&t.splice(e,1)},window.IntersectionObserver=a,window.IntersectionObserverEntry=o}function i(e){try{return e.defaultView&&e.defaultView.frameElement||null}catch(e){return null}}function o(e){this.time=e.time,this.target=e.target,this.rootBounds=d(e.rootBounds),this.boundingClientRect=d(e.boundingClientRect),this.intersectionRect=d(e.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0}),this.isIntersecting=!!e.intersectionRect;var t=this.boundingClientRect,n=t.width*t.height,r=this.intersectionRect,i=r.width*r.height;this.intersectionRatio=n?Number((i/n).toFixed(4)):this.isIntersecting?1:0}function a(e,t){var n,r,i,o=t||{};if("function"!=typeof e)throw new Error("callback must be a function");if(o.root&&1!=o.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=(n=this._checkForIntersections.bind(this),r=this.THROTTLE_TIMEOUT,i=null,function(){i||(i=setTimeout((function(){n(),i=null}),r))}),this._callback=e,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(o.rootMargin),this.thresholds=this._initThresholds(o.threshold),this.root=o.root||null,this.rootMargin=this._rootMarginValues.map((function(e){return e.value+e.unit})).join(" "),this._monitoringDocuments=[],this._monitoringUnsubscribes=[]}function s(e,t,n,r){"function"==typeof e.addEventListener?e.addEventListener(t,n,r||!1):"function"==typeof e.attachEvent&&e.attachEvent("on"+t,n)}function c(e,t,n,r){"function"==typeof e.removeEventListener?e.removeEventListener(t,n,r||!1):"function"==typeof e.detatchEvent&&e.detatchEvent("on"+t,n)}function u(e){var t;try{t=e.getBoundingClientRect()}catch(e){}return t?(t.width&&t.height||(t={top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.right-t.left,height:t.bottom-t.top}),t):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function d(e){return!e||"x"in e?e:{top:e.top,y:e.top,bottom:e.bottom,left:e.left,x:e.left,right:e.right,width:e.width,height:e.height}}function l(e,t){var n=t.top-e.top,r=t.left-e.left;return{top:n,left:r,height:t.height,width:t.width,bottom:n+t.height,right:r+t.width}}function f(e,t){for(var n=t;n;){if(n==e)return!0;n=p(n)}return!1}function p(t){var n=t.parentNode;return 9==t.nodeType&&t!=e?i(t):n&&11==n.nodeType&&n.host?n.host:n&&n.assignedSlot?n.assignedSlot.parentNode:n}}();var si=dt("refresh"),ci=function(e,t){this.timerId=null,this.cb=e,this.remaining=t,this.start=performance.now(),this.timeout=t,this.state="paused",this.isDone=function(){return this.remaining<=0},this.pause=function(){"paused"===this.state||this.isDone()||(this.remaining-=performance.now()-this.start,window.clearTimeout(this.timerId),this.state="paused",si.log("Pause timer"))},this.resume=function(){var e=this;si.log("Timer state",this.state),this.remaining<=0||"running"===this.state||(this.start=performance.now(),window.clearTimeout(this.timerId),this.timerId=window.setTimeout(zamaf.wrap((function(){e.remaining=0,e.cb()})),this.remaining),this.state="running",si.log("Resume timer"))},this.reset=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this.state="paused",window.clearTimeout(this.timerId),this.remaining=e,si.log("Timeout reset")},this.clearTimer=function(){window.clearTimeout(this.timerId)}};function ui(){var e={threshold:.5};oi=new IntersectionObserver(fi.bind(this),e),si.log("IntersectionObserver created")}function di(e){oi||ui.call(this);var t=document.getElementById(e.elementId);t&&oi.observe(t)}function li(e){si.log("Unobserve adSlot",e);var t=document.getElementById(e.elementId);oi&&t&&oi.unobserve(t)}function fi(e,t){var n=this;si.log("IntersectionObserver observed:",e),e.forEach((function(e){var t=Nr()[e.target.id];t&&(si.log("IntersectionObserver observed slot",t.code,!!e.isIntersecting),e.target.dataset.isViewable=!!e.isIntersecting,t.isViewable=!!e.isIntersecting,pi.call(n,t))}))}function pi(e){(this.config.options.refreshViewableAds||e.refreshOnlyIfViewable)&&(this.pageIsViewable&&e.isViewable?(si.log("Adslot is in view",e),e.viewabilityTimer.resume()):(si.log("Adslot is out of view",e),e.viewabilityTimer.pause()))}function mi(e){si.log("[".concat(e.elementId,"]: called for refresh")),e.frozen?li.call(this,e):e.displayed&&yt(e.slot)&&(e.refreshCount++,this.refreshUnitEvent(e.elementId,e),e.refreshCount>=this.config.options.refreshLimit?(e.frozen=!0,li.call(this,e)):gi.call(this,e))}function vi(e){var t=this.config.options.refreshViewableAds||e.refreshOnlyIfViewable;(t&&e.viewabilityTimer.isDone()||!t)&&e.refreshTimer.isDone()&&(si.log("AdSlot is refreshable",e),mi.call(this,e))}function gi(e){var t=this;si.log("Set refresh on adslot",e);var n=hi.call(this,e);return 0==n?(e.refreshTimer&&e.refreshTimer.clearTimer(),0):((this.config.options.refreshViewableAds||e.refreshOnlyIfViewable)&&(e.viewabilityTimer?(e.viewabilityTimer.reset(),pi.call(this,e)):e.viewabilityTimer=new ci((function(){si.log("Viewability timer complete",e),vi.call(t,e)}),this.config.options.viewabilityTimeout||1e3)),e.refreshTimer?e.refreshTimer.reset():e.refreshTimer=new ci((function(){si.log("Refresh timer complete",e),vi.call(t,e)}),n),e.refreshTimer.resume(),n)}function hi(e){var t=1e3*parseInt((void 0===e.refreshRate?this.config.options.refreshRate:e.refreshRate)||0);return t<=0||isNaN(t)?(si.log("[".concat(e.elementId,"]: No refresh settings set up for slot")),0):t}var bi={globalRefreshCount:0,_stopRefresh:function(){si.log("Stopping refresh...");var e=this._getGlobals().globalSlots,t=Object.values(e);t&&t.forEach((function(e){e.clearInterval(e.refreshTimeout)})),si.log("Cleared refresh timers for slots: ".concat(JSON.stringify(t)))},_handleRefresh:mi,setupRefresh:function(e){var t=this,n=gi.call(this,e);if(0==n)return si.log("Refreshing not enabled for slot ".concat(e.elementId)),0;(this.config.options.refreshViewableAds||e.refreshOnlyIfViewable)&&di.call(this,e),si.log("refresh rate for slot [".concat(e.elementId,"]: ").concat(n," seconds")),e.refreshCount=0,this.on(Jn,(function(n){pi.call(t,e)}))},globalRefresh:function(){var e=this._getGlobals().globalSlots,t=this.config.options.refreshLimit,n=Object.values(e).filter((function(e){return!e.frozen&&e.displayed&&yt(e.slot)&&bt(e)}));n.length>0?(si.log("refreshing ads",n),this.config.options.prebid||googletag.pubads().refresh(n.map((function(e){return e.slot}))),this.refreshAdsEvent(n)):this._stopRefresh(),this.globalRefreshCount+=1,t&&this.globalRefreshCount>=t&&this._stopRefresh()},setRefreshTimeout:gi,Timer:ci,checkRefreshable:vi,_getRefreshRate:hi,destroyObserverForAdUnit:function(e){li({elementId:e})}},yi=dt("siteDefinedSlots");function wi(e,t){var n=t.getSlotElementId();return e.code=e.code||t.getAdUnitPath(),e.elementId=n,e.sizes=t.getSizes().map((function(e){return[e.getWidth(),e.getHeight()]})),e._existed=!0,e.slot=t,e}var Ii,_i,Ci={_getExistingSlots:function(){var e=googletag.pubads().getSlots();return e&&e.length>0?(yi.log("".concat(e.length," prexisting slots found")),e):(yi.log("no slots found"),!1)},_triggerEventsForExistingSlot:function(e){var t,n=this.config.slots,i=e.getSlotElementId(),o=e.getAdUnitPath(),a=function(e,t,n){var r=-1,i=-1,o=e.findIndex((function(e){return e.code===t&&e.elementId===n}));if(o>-1)return e[o]._existed=!0,{slotIndex:o,dupIndex:o};for(var a=0;a<e.length;a++){var s=e[a];if(s.code===t&&(r=a,!s._existed)){i=a,s._existed=!0;break}}return{slotIndex:i,dupIndex:r}}(n,o,i),s=a.slotIndex,c=a.dupIndex;yi.log("existing slot elementid: ".concat(i,", adCode: ").concat(o,", slotIndex: ").concat(s,", dupIndex: ").concat(c)),s>-1?(t=wi(n[s],e),yi.log("updating slot by existing slot elementid: ".concat(i,", adCode: ").concat(o))):c>-1?(t=wi(r({},n[c]),e),this.config.slots.push(t)):(t=wi({},e),this.config.slots.push(t)),this._postDefineNewSlot(t,i)}},Si=function(){var e=window,t="inner";return"innerWidth"in window||(t="client",e=document.documentElement||document.body),{width:e[t+"Width"],height:e[t+"Height"]}},xi=!1,Ai=Object.defineProperty({},"passive",{get:function(){return xi=!0,!0}}),Ei="",Ti={scrollTested:!1,_getEventWindowVals:function(){return Ti.scrollTested||(window.addEventListener?(window.addEventListener("testPassive",null,Ai),window.removeEventListener("testPassive",null,Ai),Ii="addEventListener",_i="removeEventListener"):(Ii="attachEvent",_i="detachEvent",Ei="on"),Ti.scrollTested=!0),{prefix:Ei,_addEventListener:Ii,_removeEventListener:_i}},addWindowScrollEvent:function(e){var t=this._getEventWindowVals(),n=t.prefix,r=t._addEventListener;this.__windowScrollEvent(r,n+"scroll",e)},removeWindowScrollEvent:function(e){var t=this._getEventWindowVals(),n=t.prefix,r=t._removeEventListener;this.__windowScrollEvent(r,n+"scroll",e)},__windowScrollEvent:function(e,t,n){var r=gt();window[e](t,Qr(r,n),!!xi&&{passive:!0})}},Oi=dt("dynamicAd");function ki(e){return e.nodeType===Node.ELEMENT_NODE&&("BR"===e.nodeName||"block"===window.getComputedStyle(e).getPropertyValue("display"))&&"UL"!==e.tagName&&"LI"!==e.tagName&&"UL"!==e.parentNode.tagName&&"LI"!==e.parentNode.tagName}function ji(e,t){var n=[];return function e(r){r&&r.childNodes&&r.childNodes.length>0&&r.childNodes.forEach((function(r){(function(e,t){return!(e.nodeType!==Node.ELEMENT_NODE||t.excludedClassesSet&&Array.prototype.slice.call(e.classList).find((function(e){return t.excludedClassesSet.has(e)}))||t.excludedElementsSet&&Array.prototype.slice.call(e.classList).find((function(e){return t.excludedClassesSet.has(e)})))})(r,t)&&(n.push(r),e(r))}))}(e),n}function Ri(e,t){var n=t.index,r=void 0===n?0:n,i=t.type,o=void 0===i?"article":i;return"".concat(e,"-").concat(o,"-au-").concat(r)}function zi(e){var t=e.sizes;return Number.isInteger(t[0])?[t[0]]:t.map((function(e){return"fluid"===e?"fluid":e[0]}))}function Pi(e,t){return t.every((function(t){return"fluid"===t||t<=e.offsetWidth}))}var Bi={addDynamicUnit:function(e,n){return Ti.addWindowScrollEvent(this.addDynamicUnitWhenInView.bind(this,e,n)),this.addDynamicUnitWhenInView(e,n),t(t({},n),{},{elementId:e})},addDynamicUnitWhenInView:function(e,n){var r=n.slotConfig,i=n.adDivElement;if(i.dataset.defined)return!1;if(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e.getBoundingClientRect(),r=document.documentElement.scrollTop,i=r+window.innerHeight,o=parseInt(window.innerHeight*t),a=n.top+r,s=a+n.height;return a<=i+o&&s>=r+o}(i,.5)){i.dataset.defined="defined",i.classList.add("dynamic-ad"),r.isDynamic=!0;var o={elementId:e,isDynamic:!0};return this.defineNewAdUnit(r,o),this._displayAdSlot(t(t({},r),{},{elementId:e})),Ti.removeWindowScrollEvent(this.addDynamicUnitWhenInView.bind(this,e,n)),!0}return!1},_setupDynamicUnitsForArticles:function(e){var t=this,n=e.elementId,r=e.elementClass,i=e.dataAttribute,o=e.frequency,a=void 0===o?2:o,s=e.subheaderClassName,c=void 0===s?"heading-size-":s,u=e.type,d=e.excludedClasses,l=e.excludedElements,f=e.articleBottomPadding||0;(f>1||f<0)&&(Oi.warn("Dynamic ad padding given was out of bounds (".concat(f,"). Padding will be ignored.")),f=0);var p=function(e){var t,n=e.articleElementId,r=e.articleElementClass,i=e.zafDataAttribute;return i&&(t=document.querySelectorAll('[data-zaf-dynamic="'+i+'"]')[0]),!t&&n&&(t=document.getElementById(n)),!t&&r&&(t=document.getElementsByClassName(r)[0]),t}({articleElementId:n,articleElementClass:r,zafDataAttribute:i});if(!p)return Oi.warn("ZAF: Element does not exist for dynamic ad slot requested",n||r||i),!1;var m=Si(),v=parseInt(m.height*a),g=p;if(g.offsetHeight<=v)return Oi.warn("ZAF: Article element's height is too short for dynamic ads",n||r||i),[];var h=zi(e);if(!Pi(g,h))return Oi.warn("ZAF: Configured adslots sizes are too wide for the article's element",n||r||i),[];var b=[],y=g.offsetHeight-parseInt(m.height*f),w=mt(g),I=v+w.top;Oi.log("mustBeAfterHeight:",v,w.top,I),Oi.log("mustBeBeforeHeight:",y);var _=mt(g),C=g.id||r||i||n;return pt(Ri(C,{type:u,index:0}))?(Oi.warn("Dynamic ads already been invoked"),b):((i?ft(g.children):d||l?ji(g,{excludedClassesSet:d?new Set(d.split(",")):new Set,excludedElementsSet:l?new Set(l.split(",")):new Set}):ft(g.querySelectorAll("*"))).filter(ki).forEach((function(n){var r=mt(n),i=(r.left-_.left)/g.offsetWidth;if(!(r.top<I||r.top>y||!Pi(n.parentNode,h)||i>.2)){var o=Ri(C,{type:u,index:b.length});if(!pt(o)){var a=t._setupDynamicDivElement(e,o),s=function(e,t){return e.className.indexOf(t)>-1||"H2"===e.tagName}(n,c)?n:n.nextSibling;n.parentNode.insertBefore(a,s),b.push(t.addDynamicUnit(o,{slotConfig:e,adDivElement:a}));var d=mt(a);I=d.top+a.offsetHeight+v}}})),b)},_setupDynamicUnitsForManualUnits:function(e){var t=this,n=e.elementClass,r=e.dataAttribute,i=e.type;if(!n&&!r)return Oi.warn("ZAF: Attempting to render ad unit, but no class selector defined"),[];var o,a=[];n?o=document.getElementsByClassName(n):r&&(o=document.querySelectorAll('[data-zaf-dynamic="'+r+'"]'));var s=zi(e);return ft(o).forEach((function(o,c){var u=Ri(n||r,{index:c,type:i});if(!pt(u)&&Pi(o,s)){var d=t._setupDynamicDivElement(e,u,o);a.push(t.addDynamicUnit(u,{slotConfig:e,adDivElement:d}))}})),a},_setupDynamicUnitsForLists:function(e){var t=e.elementClass,n=e.elementId,r=e.dataAttribute,i=e.subItemElementClass;if(!i)return Oi.warn("ZAF: List element's subItemElementClass is not defined",n||t||""),[];var o=zi(e);if(n){var a=document.getElementById(n);if(a)return Pi(a,o)?this._insertAdBetweenSubItems(a,n,e):(Oi.warn("ZAF: Configured adslots sizes are too wide for the article's element",n),[])}if(t){var s=document.getElementsByClassName(t);return this._handleMultipleAdUnits(i,e,o,s,t)}if(r){var c=document.querySelectorAll('[data-zaf-dynamic="'+r+'"]');return this._handleMultipleAdUnits(i,e,o,c,r)}return t||n||r?[]:this._insertAdBetweenSubItems(document,"dom-list",e)},_handleMultipleAdUnits:function(e,t,n,r,i){var a=this,s=[];return ft(r).forEach((function(r,c){var u="".concat(i,"-").concat(c);if(Pi(r,n)){var d=a._insertAdBetweenSubItems(r,u,t);s.push.apply(s,o(d))}else Oi.warn("ZAF: Configured adslots sizes are too wide for the article's element",e)})),s},_insertAdBetweenSubItems:function(e,t,n){var r=this,i=n.subItemElementClass,o=n.insertIndex,a=void 0===o?2:o,s=n.type,c=n.offset,u=void 0===c?0:c,d=e.getElementsByClassName(i),l=[];return ft(d).forEach((function(e,i){if(!(i<u)){var o=Ri(t,{index:i,type:s}),c=i-u;if(0!=c&&c%a==0&&!pt(o)){var d=r._setupDynamicDivElement(n,o),f=e;e.parentNode.insertBefore(d,f),l.push(r.addDynamicUnit(o,{slotConfig:n,adDivElement:d}))}}})),l},_setupDynamicDivElement:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=n||document.createElement("div");if(r.setAttribute("id",t),r.classList.add("zamaf-au"),Hr(e)&&e.carveSize==qr){var o=Vr(e.sizes),a=i(o,2),s=a[0],c=a[1];Gr(r,s,c)}return r},setupDynamicUnits:function(e){var t,n=e.type;switch(void 0===n?"article":n){case"unit":t=this._setupDynamicUnitsForManualUnits(e);break;case"article":default:t=this._setupDynamicUnitsForArticles(e);break;case"list":t=this._setupDynamicUnitsForLists(e)}return t&&0!==t.length||Oi.warn("no dynamic ads rendered"),t},displayAllDynamic:function(){var e,t=this;return e=function(){return t.config.dynamicSlots.forEach(t.setupDynamicUnits.bind(t))},"complete"!==document.readyState?window.addEventListener("load",(function(){e()})):e(),this},displayDynamic:function(e){var t=this.config.dynamicSlots.find((function(t){var n=t.elementId,r=t.elementClass;return e==n||r==e}));return t?(this.setupDynamicUnits(t),this):(Oi.error("ZAF: Article Slot Group is not within config"),!1)}};function Di(e){return"adl-btn-"+e}var Ui={addReportButton:function(e){var t=document.createElement("div");t.classList.add("adl-report-ad-container");var n=document.createElement("div"),r=Di(e);n.id=r,n.appendChild(t);var i=document.getElementById(e);i.parentNode.insertBefore(n,i.nextElementSibling)},applyAdLightning:function(e){var t=e.slot.getSlotElementId(),n={adlAction:"createUserReportButton",selector:"#"+Di(t),uniqueId:e.creativeId||e.sourceAgnosticCreativeId,targetAd:t};window.postMessage(n,"*"),setTimeout((function(){var e="btn-".concat(t),n=document.getElementById(e);n&&(n.type="button")}),1)}},Ni=dt("spa"),Fi={initSpaListeners:function(){var e,t=this;history.pushState=(e=history.pushState,function(){var t=e.apply(this,arguments);return window.dispatchEvent(new Event("pushState")),window.dispatchEvent(new Event("locationchange")),t}),history.replaceState=function(e){return function(){var t=e.apply(this,arguments);return window.dispatchEvent(new Event("replaceState")),window.dispatchEvent(new Event("locationchange")),t}}(history.replaceState),window.addEventListener("popstate",(function(){window.dispatchEvent(new Event("locationchange"))})),window.addEventListener("locationchange",(function(){setTimeout(t.wrap(function(){this.spaObserve()}.bind(t)),t.config.options.spaObserverDelay||1e3),t.pageChangeEvent(location.href)}))},spaObserve:function(){this.initialObserver&&this.initialObserver.stop(),ti.stop(),this.config.slots.forEach((function(e){delete e.slotChecked})),ti.initWithDisplayObserver(this.pageChangeAction.bind(this),this),setTimeout(this.wrap((function(){ti.stop()})),this.config.options.spaObserverTtl||2e3)},pageChangeAction:function(){var e=this,t=this._getGlobals().globalSlots;Ni.log("page update mutation"),this.config.slots.forEach((function(n){if(!n.slotChecked){var r=n.slot,i=document.getElementById(n.elementId);if(r&&!i)Ni.log("destroying: ",n.elementId,n),e.destroySlot(n.elementId,n,!0);else if(i&&!r)Ni.log("creating: ",n.elementId,n),e.createSlot(n.elementId),n.slotChecked=!0;else if(i&&r)if(e.isRefChanged(i,t,n))Ni.log("destroying and creating: ",n.elementId,n),e.destroySlot(n.elementId,n,!0),e.createSlot(n.elementId),n.slotChecked=!0;else{Ni.log("refreshing: ",n.elementId,n);var o=n.elementId;e.refreshSlot(o,!0,n),n.slotChecked=!0}}}))},createSlot:function(e){return this._defineAndDisplaySlot(e)},destroySlot:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.removeUnitEvent(e,n,r)},refreshSlot:function(e,t,n){var r=this.config.slots.find((function(t){return t.elementId==e}));r?(r.slot||(r.slot=n||window.googletag.pubads().getSlots().find((function(t){return t.getSlotElementId()===e}))||!1),r.slot?(this.refreshUnitEvent(e,r),r.slot.timeLeft=1,this.setRefreshTimeout(r,t||r.slot.isViewable)):Ni.log("unable to locate ad slot; cannot refresh.")):Ni.log("unable to locate config for slot.")},isRefChanged:function(e,t,n){return e!==(t[n.elementId]&&t[n.elementId].domElement)},getSlotByElementId:function(e){return this.config.slots.find((function(t){return t.elementId==e}))},removeAdlightningButton:function(e){var t="adl-btn-"+e,n=document.getElementById(t);n&&n.parentNode&&n.parentNode.removeChild(n)},updateSlotSizes:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(e.insertIndex)Ni.log("updateSlotSizes:: skipping unit:",e);else{var i=document.getElementById(e.elementId);if(i){var o=e.originalSizes||e.sizes;if(e.originalSizes=o,Ni.log("updateSlotSizes:: attempting to adjust sizes:",i.id),!t){var a=i.dataset.zafMaxDimensions;if(!a)return void Ni.log("updateSlotSizes:: no zafMaxDimensions found for slot:",i.id);t=a.split("x")}var s=Wr(o,t),c=e.sizes.map((function(e){return e.join("x")})).join(","),u=s.map((function(e){return e.join("x")})).join(",");c!=u?(Ni.log("updateSlotSizes:: sizes filtered result",i.id,s),e.sizes=s,n&&(Ni.log("updateSlotSizes:: recreated slot:",i.id,s),this.recreateSlot(e,r))):Ni.log("updateSlotSizes:: no changes in size list",i.id,s)}else Ni.log("updateSlotSizes:: could not find element:",e.elementId)}},recreateSlot:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.elementId;e&&(this.destroySlot(n,e),this.removeFromGlobals(n)),this.removeAdlightningButton(n);var r=document.getElementById(n),i=n+"-0-respunit";if(n.endsWith("-respunit")){var o=n.split("-"),a=1+(1*o[o.length-2]|0);i="".concat(o.slice(0,o.length-2).join(""),"-").concat(a,"-respunit")}r.id=i,e.elementId=i,this.defineNewAdUnit(e),t&&this.displayAdSlot(e)},watchSlotSizing:function(e){var t=this,n=document.getElementById(e.elementId);n||Ni.log("watchSlotSizing:: slot element not found:",e.elementId),new MutationObserver((function(e){e.forEach((function(e){var n=e.target;Ni.log("watchSlotSizing:: zafMaxDimensions mutation:",n.id);var r=e.oldValue,o=n.dataset.zafMaxDimensions;if(r!=o){var a=i(o.split("x"),2),s=a[0],c=a[1],u=t.getSlotByElementId(n.id);t.updateSlotSizes(u,[s,c],!0,!0)}else Ni.log("watchSlotSizing:: zafMaxDimensions mutation has no change:",n.id)}))})).observe(n,{childList:!1,subtree:!1,attributes:!0,attributeFilter:["data-zaf-max-dimensions"],attributeOldValue:!0})}},Mi="str",qi="int",Li="float",Wi="bool";function Hi(e){var t;return e&&(t={},[{name:"bidderCode",type:Mi},{name:"width",type:qi},{name:"height",type:qi},{name:"playerWidth",type:qi},{name:"playerHeight",type:qi},{name:"adId",type:Mi},{name:"requestId",type:Mi},{name:"mediaType",type:Mi},{name:"source",type:Mi},{name:"cpm",type:Li},{name:"creativeId",type:Mi},{name:"dealId",type:Mi},{name:"currency",type:Mi},{name:"netRevenue",type:Wi},{name:"ttl",type:qi},{name:"originalCpm",type:Li},{name:"originalCurrency",type:Mi},{name:"auctionId",type:Mi},{name:"responseTimestamp",type:qi},{name:"requestTimestamp",type:qi},{name:"bidder",type:Mi},{name:"timeToRespond",type:qi},{name:"status",type:Mi},{name:"none",type:"none"}].forEach((function(n){var r=n.name,i=n.type,o=e[r];if(null!=o)switch(i){case Wi:t[r]=function(e){return"boolean"!=typeof e?"1"==e||"true"===e:e}(o);break;case qi:t[r]=function(e){return Number.isInteger(e)?e:parseInt(e)}(o);break;case Mi:t[r]=function(e){return null!==e&&e.toString?e.toString():"NULL"}(o);break;case Li:t[r]=function(e){return Number(e)===e&&e%1!=0?e:parseFloat(e)}(o);break;default:t[r]=o}}))),t}var Vi={config:{},init:function(e){var t=this;this.config=e,googletag.cmd.push(zamaf.wrap((function(){googletag.pubads().addEventListener("slotRenderEnded",zamaf.wrap(t.slotRenderedInfo.bind(t))),googletag.pubads().addEventListener("slotOnload",zamaf.wrap(t.slotOnLoad.bind(t)))}))),zamaf.elementBidWonMap={}},_createInfoWithDfpEvent:function(e,t){var n=t.slot.getAdUnitPath(),r={};return["advertiserId","campaignId","creativeId","isEmpty","lineItemId","adserverTargeting"].forEach((function(e){null!==t[e]&&void 0!==t[e]&&(r[e]=t[e])})),Array.isArray(t.size)?(r.size_0=t.size[0],r.size_1=t.size[1]):t.size&&(r.size=t.size),{elementId:e,code:n,dfp:r}},slotRenderedInfo:function(e){var t=e.slot,n=t.getSlotElementId(),r=this._createInfoWithDfpEvent(n,e),i=this.config.options.targetingPrefix,o=void 0===i?"hb_":i,a=function(e,t){var n={};return e.forEach((function(e){var r=t(e);1===r.length?n[e]=r[0]:r.length>1&&r.forEach((function(t){var r="".concat(e,"_").concat(t);n[r]=1}))})),n}(t&&t.getTargetingKeys(),t.getTargeting.bind(t));r.adserverTargeting=a;var s=a[o+"adid"],c=function(e,t){if(!e)return!1;var n=pbjs.getAllWinningBids(),r=function(t){return t.adId===e},i=n.find(r);if(!i){var o=pbjs.getAllPrebidWinningBids();if(!(i=o.find(r))){var a=n&&n.map((function(e){return e.adId})),s=o&&o.map((function(e){return e.adId}));if(a.length>0&&s.length>0){var c={error:{name:"No bid found",message:"No winning bid found for adId ".concat(e,". Winning bids: ").concat(a.join(","),". Winning bids not rendered: ").concat(s.join(","),".")}};window.zamaf._eventEmitter.emit(lr,t,c)}}}return Hi(i)}(s,this.config);return(c=c||zamaf.auctionManager.getAdUnitBid(n,s))&&(r.bid=c),zamaf.elementBidWonMap[n]=r,zamaf.elementBidWonMap[s]&&zamaf.elementBidWonMap[s].length?zamaf.elementBidWonMap[s].push(r):zamaf.elementBidWonMap[s]=[r],zamaf.renderUnitInfoEvent(n,r),r},slotOnLoad:function(e){var t=e.slot.getSlotElementId(),n=zamaf.elementBidWonMap[t];return zamaf.loadUnitInfoEvent(t,n),n},slotOnPbjsRender:function(e){zamaf.elementBidWonMap[e].forEach((function(e){zamaf.pbjsRenderEvent(e.elementId,e)})),delete zamaf.elementBidWonMap[e]}},Gi=dt("gtp:tracker");function $i(e,t,n){var r=n.split(":");Gi.log("Setup tracking event: %j",n),googletag.pubads().addEventListener(r[1],e.wrap((function(r){var i=_r(r);e._eventEmitter.emit(n,t,i)})))}function Ji(e,t){var n=this;["gpt:slotOnload","gpt:slotRenderEnded","gpt:impressionViewable","gpt:slotRequested","gpt:slotVisibilityChanged","gpt:slotResponseReceived"].forEach((function(r){$i.call(n,e,t,r)}))}function Xi(e,t,n){var r={error:{name:"Creative iframe error",message:"Error loading iframe with id ".concat(e,". Error message ").concat(t,".")}};zamaf.eventTracker.track(lr,n,r)}var Qi={addCssRule:function(e,t,n){var r;this.sheet=this.sheet||((r=document.createElement("style")).appendChild(document.createTextNode("")),document.head.appendChild(r),r.sheet),function(e,t,n,r){"insertRule"in e?e.insertRule(t+"{"+n+"}",r):"addRule"in e&&e.addRule(t,n,r)}(this.sheet,e,t,n)}},Ki=dt("tcf:helper");class Yi{constructor(e){var t;Ki.log("new TCF Helper"),this.zaf=e,this.tcfVersion=!1,this.userInit=!1,zamaf.user.isGDPR||(this.userInit=!0),this.initCheckCount=0,this.initCheckLimit=100,this.tcfCheckCount=0,this.tcfCheckLimit=100,this.init=!1,this.tcData=null,this.requiredConsents=(n(t={},"storeUserId",["1"]),n(t,"adPerformance",["7","9"]),t),this.checkIfTCF2Enabled()}checkIfInit(e){var t=this;this.initCheckCount++,this.init?e():this.initCheckCount<=this.initCheckLimit?setTimeout((function(){t.checkIfInit(e)}),100):Ki.log("init check timed out")}checkIfTCF2Enabled(){var e=this;this.tcfCheckCount++,this.init?Ki.log("tcf is false"):this.tcfCheckCount>this.tcfCheckLimit?Ki.log("tcf check timed out"):setTimeout((function(){if(!window.__tcfapi)return Ki.log("__tcfapi is missing"),e.checkIfTCF2Enabled();Ki.log("__tcfapi is exists"),__tcfapi("ping",2,(function(t){return Ki.log("ping",t),t.cmpLoaded?(e.init=!0,void Ki.log("init is true")):e.checkIfTCF2Enabled()}))}),100)}tcfGetConsent(e){window.__tcfapi("addEventListener",2,(function(t,n){Ki.log("addEventListener",t,n),!n||"tcloaded"!==t.eventStatus&&"useractioncomplete"!==t.eventStatus||(e(t),window.__tcfapi("removeEventListener",2,(function(e){}),t.listenerId))}))}whenTCFLoaded(e){var t=this;this.userInit?e():this.checkIfInit((function(){t.tcfGetConsent(e)}))}checkUserConsent(){var e=this;this.tcData&&J(this.tcData,"vendor.consents.".concat("926"),!1)&&Object.keys(this.requiredConsents).forEach((function(t){for(var n=!0,r=e.requiredConsents[t],i=0;i<r.length;i++){var o=r[i];if(!J(e.tcData,"purpose.consents.".concat(o),!1)){n=!1;break}}n&&(zamaf.user.consents=zamaf.user.consents||{},zamaf.user.consents[t]=!0)}))}setupEvents(){var e=this;this.checkIfInit((function(){e.tcfGetConsent((function(t){e.tcData=t,e.checkUserConsent(t),e.zaf.tcfUserReady(t),e.userInit=!0}))}))}}var Zi=dt("class");class eo{constructor(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{this.disposed=e,r(this,e),this._rootEvents(),this.init=!1,this._commandQueue=[],this._unitsForDisplay=[],this.user=this.user||{},this.requestManager=xt,this.auctionManager=Et,this.cmd={push:this.push.bind(this)},this.config={_undefined:!0},this.tcf=new Yi(this),this.tcf.setupEvents(),e.cmd&&(Zi.log("current commands",e.cmd),e.cmd.forEach(this.cmd.push))}catch(e){throw this.emitException(e),e}}push(e){if(Zi.log("push",e,typeof e,this.init),"function"==typeof e)this.pushCommand(e);else if(e&&e.event&&e.handler){var t="on";e.prepend&&e.once?t="prependOnceListener":e.prepend?t="prependListener":e.once&&(t="once"),this[t](e.event,e.handler)}}pushCommand(e){Zi.log("pushCommand",e,this.init),this.init?zamaf.wrap(e)():this._commandQueue.push(e)}_postInitialize(){this.init=!0,Zi.log("calling command queue",this._commandQueue),this._commandQueue.forEach((function(e){return e()})),this.postInitEvent()}_checkDomain(){var e=!1,t=J(this.config,"allowedDomains",[]);if(t&&t.length)for(var n=0;n<t.length&&!(e=ge(window.location.hostname,t[n]));n++);else e=!0;return Zi.log("Domain authorization for ".concat(window.location.hostname," is ").concat(e)),e}wrap(e){var t=this;return function(){try{e.apply(void 0,arguments)}catch(e){throw t.emitException(e),e}}}initialize(e){var t=this,n=e.adConfig;try{var i=function(e,t){var n=t.deviceType,i=r({},e);return wt.log("slots before filtering: ",i.slots,i.dynamicSlots),i.slots=ht(i.slots,n),i.dynamicSlots=ht(i.dynamicSlots,n),wt.log("slots after filtering: ",i.slots,i.dynamicSlots),i}(n,{deviceType:this.user.deviceType});if(this.config=i,!this._checkDomain())throw this.unauthorizedDomainEvent(window.location.hostname),new Error("domain unauthorized for zaf access");this.requestManager.init(this.config),Vi.init(this.config),googletag.cmd.push(this.wrap((function(){Ji(t,t.config)}))),function(e,t){window.googletag.cmd.push(window.zamaf.wrap((function(){if(t&&t.events&&t.events["zaf:creativeiframe:error"]){var n=document.createElement;document.createElementOriginalZaf=document.createElement.bind(document),document.createElement=function(){var r=n.apply(this,arguments);return r.tagName&&"IFRAME"==r.tagName.toUpperCase()&&(r.onerror=function(n){this.id.startsWith("google_ads_iframe_")&&Xi.call(e,this.id,n,t)}),r}.bind(document)}})))}(this,n),Zi.log("config built: ",i);var o=function(){i.options.delay?setTimeout(t.wrap((function(){googletag.cmd.push(t.wrap((function(){t._initialize()})))})),i.options.delay):googletag.cmd.push(t.wrap((function(){document.body?t._initialize():vt(t._initialize.bind(t))})))};zamaf.user.isGDPR?this.once(dr,o):o()}catch(e){throw this.emitException(e),e}}emitException(e){Zi.error("ZAF: unhandled exception",e);var t={error:{name:e.name,message:e.message,stack:e.stack,fileName:e.fileName,lineNumber:e.lineNumber,columnNumber:e.columnNumber}};this._eventEmitter.emit(lr,this.config,t)}_rootEvents(){0!==this._eventEmitter._eventsCount&&this._eventEmitter.removeAllListeners()}_initialize(){this.slotRenderEnded=this.slotRenderEnded||{};var e,t,n,r,i=this.config.options;return Ct.setupAnalytics(this.config),this.config.enableCCPA&&this.user&&this.user.isCCPA&&"1YYY"===qn("usconsent")&&googletag.pubads().setPrivacySettings({restrictDataProcessing:!0}),this.config.options.enableSingleRequest&&(Zi.log("enabling single request option"),googletag.pubads().enableSingleRequest()),this.config.options.prebid&&(Zi.log("disable initial load triggered"),googletag.pubads().disableInitialLoad(),googletag.pubads().isInitialLoadDisabled()||Zi.log("unable to disable initial load ")),i.videoElement&&i.videoElement.elementId&&i.videoElement.content&&(e=this.config,t=e.options.videoElement,n=0,(r=function(){var e=document.getElementById(t.elementId);e?e.innerHTML=t.content:n<50&&setTimeout((function(){r()}),100),n++})()),this.disposed.setTargeting&&this.disposed.setTargeting(this.config),$n.initializeTargeting(this.config),this.initUnitEvents(),this.config.options.disableDefineOnInit?(Zi.log("disableDefineOnInit enabled; enabling services"),this.slotsDefinedEvent()):this._defineSlots(this.config),this.config.options.isSpa&&this.initSpaListeners(),document.addEventListener("visibilitychange",this.wrap(function(){this.pageIsViewable=!document.hidden,this.pageVisibilityEvent(!document.hidden)}.bind(this))),this.pageIsViewable=!document.hidden,this._postInitialize(),this._eventEmitter.emit("zaf:page:load",this.config,{}),!0}_enableServices(){this.__enabledServices?Zi.error("Called enable services more than once."):(this.__enabledServices=!0,googletag.enableServices(),this._popDisplayQueue(),this.enableServicesEvent())}displayAsync(e){var t=this;return googletag.cmd.push(this.wrap((function(){t.displayAdSlot(e)}))),!0}displaySync(e){return this.displayAdSlot(e),!0}shouldSlotRender(e,t){return Zi.log("slot type is",t.type),!(e.displayIf&&e.displayIf!=t.type||e.displayIfNot&&e.displayIfNot==t.type)}_displayAdSlot(e){this._unitsForDisplay.push(e)}_popDisplayQueue(){this._displayAdSlot=this.displayAdSlot,this._unitsForDisplay.forEach(this.displaySync.bind(this)),this._unitsForDisplay=null}_prepareUnitForDisplay(e){var t=this;if(!this.config.options.waitForPreludeSkin||!e.displayIf&&!e.displayIfNot)return Zi.log("ad unit not waiting prelude",e.elementId),this._displayAdSlot(e);Zi.log("ad unit waiting on prelude",e.elementId,e.displayIf,e.displayIfNot),this.once(or,this.wrap((function(n,r){var i=r.configSlot;return i?t.shouldSlotRender(e,i)?t._displayAdSlot(e):void 0:t._displayAdSlot(e)})))}displayAll(){var e=this;return googletag.cmd.push(this.wrap((function(){e.config.slots.forEach((function(t){return e.displaySync(t)}))}))),!0}addImpressionTracker(e){var t=document.body,n=function(e,t){var n=e.insertBefore(document.createElement("img"),e.firstChild);n.className="skin-pixel",n.src=t};switch(typeof e.impressionTracking){case"string":n(t,e.impressionTracking);break;case"object":for(var r in e.impressionTracking)e.impressionTracking.hasOwnProperty(r)&&"string"==typeof e.impressionTracking[r]&&n(t,e.impressionTracking[r])}}runSkin(e){return Oe.call(this,{skin:e,options:this.config.options}),this.skinRenderCallback&&this.skinRenderCallback(e),!0}displaySkin(){return this.runSkin.apply(this,arguments)}}r(eo.prototype,Ci),r(eo.prototype,Ur),r(eo.prototype,ai),r(eo.prototype,Xr),r(eo.prototype,bi),r(eo.prototype,Bi),r(eo.prototype,Qi),r(eo.prototype,Fi),r(eo.prototype,Ui),window.ccpaShowDialog=window.ccpaShowDialog||function(){},window.ccpaConsent=window.ccpaConsent||function(){};var to=dt("main");if(window.zamaf_inflight)to.warn("ZAF: already included");else{window.zamaf_inflight=!0;var no=new eo(window.zamaf);window.zamaf=no,no.version="2.10.1",to.warn("ZAF: initializing zamaf"),no.initialize({adConfig:window.zamaf_config})}}())}();
