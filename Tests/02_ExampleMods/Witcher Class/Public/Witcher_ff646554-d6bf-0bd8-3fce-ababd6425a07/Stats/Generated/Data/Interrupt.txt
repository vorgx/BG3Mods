new entry "Interrupt_SneakAttack_2"
type "InterruptData"
using "Interrupt_SneakAttack"
data "Properties" "IF(IsMeleeAttack()):DealDamage(LevelMapValue(SneakAttack_2), MainMeleeWeaponDamageType);IF(IsRangedAttack()):DealDamage(LevelMapValue(SneakAttack_2), MainRangedWeaponDamageType);IF(HasPassive('MAG_ForcefulSneakAttack_Passive', context.Source)):DealDamage(1d4, Force,Magical)"
data "Stack" "SneakAttack_2"

new entry "Interrupt_SneakAttack_Critical_2"
type "InterruptData"
using "Interrupt_SneakAttack_Critical"
data "Properties" "IF(IsMeleeAttack()):DealDamage(LevelMapValue(SneakAttack_2), MainMeleeWeaponDamageType);IF(IsRangedAttack()):DealDamage(LevelMapValue(SneakAttack_2), MainRangedWeaponDamageType);IF(HasPassive('MAG_ForcefulSneakAttack_Passive', context.Source)):DealDamage(1d4, Force,Magical)"
data "Stack" "SneakAttack_2"

new entry "Interrupt_Source_Walk"
type "InterruptData"
using "Interrupt_IllusorySelf"
data "DisplayName" "Viper_Foresight_name;1"
data "Description" "Viper_Foresight_des;2"

new entry "Interrupt_WitcherParry"
type "InterruptData"
data "DisplayName" "h85c38bc3gba57g4fbdg8d9eg6a7a9548079b;1"
data "Description" "h4edc4720ge7b3g4157g85a9g526a0e6e0566;1"
data "DescriptionParams" "15"
data "ExtraDescription" "hdc8bb721gff1eg42c4ga3b7g70e3d6c2bb5d;1"
data "Icon" "PassiveFeature_Parry"
data "InterruptContext" "OnPreDamage"
data "InterruptContextScope" "Self"
data "Conditions" "IsAbleToReact(context.Observer) and Self(context.Target,context.Observer) and IsAttack() and not HasSpellFlag(SpellFlags.Spell) and HasDamageEffectFlag(DamageFlags.Hit) and not HasStatus('SG_Blinded') and not HasStatus('SG_Prone') and not HasStatus('SG_Incapacitated') and not HasStatus('SG_Restrained')"
data "Properties" "AdjustRoll(-15); ApplyStatus(OBSERVER_OBSERVER,PARRIED_WITCHER,100,1); RemoveStatus(OBSERVER_OBSERVER, PARRY_WITCHER)""
data "Cost" "ReactionActionPoint:1"
data "InterruptDefaultValue" "Enabled"

new entry "Interrupt_CS_Riposte"
type "InterruptData"
data "DisplayName" "h8206f7fbg6fa5g4ceeg9411gbbb7ec7e11e8;1"
data "Description" "h29c21e7bg1694g40bbg9ffdg7de76393c235;3"
data "Icon" "PassiveFeature_Riposte"
data "InterruptContext" "OnCastHit"
data "InterruptContextScope" "Self"
data "Container" "YesNoDecision"
data "Conditions" "IsAbleToReact(context.Observer) and Enemy(context.Source,context.Observer) and IsMeleeAttack() and IsMiss() and not HasStatus('INVISIBILITY') and not AnyEntityIsItem() and not DistanceToEntityGreaterThan(2, context.ObserverPosition, context.Source) and HasLastAttackTriggered()"
data "Properties" "UseSpell(SWAP,Target_Riposte_Cat,true,true,true);ApplyStatus(OBSERVER_OBSERVER,INTERRUPT_RIPOSTE,100,0);IF(HasStatus('Trigger_Cat_defentive', context.Observer)):ApplyStatus(context.Source,PRONE,100,1);"
data "Cost" "ReactionActionPoint:1"
data "InterruptDefaultValue" "Enabled"
data "EnableCondition" "not HasAnyStatus({'SG_Polymorph','SG_Blinded'}) or HasAnyStatus({'SG_Disguise','WILDSHAPE_STARRY_ARCHER_PLAYER','WILDSHAPE_STARRY_CHALICE_PLAYER','WILDSHAPE_STARRY_DRAGON_PLAYER'});"
data "EnableContext" "OnStatusApplied;OnStatusRemoved"