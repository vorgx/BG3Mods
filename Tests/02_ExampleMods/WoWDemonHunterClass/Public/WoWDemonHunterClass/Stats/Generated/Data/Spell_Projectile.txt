// DH Shared Projectiles//

new entry "Projectile_DH_ThrowGlaive"
type "SpellData"
data "SpellType" "Projectile"
data "Icon" "DH_Icon_ThrowGlaive"
data "TargetFloor" "-1"
data "TargetRadius" "18"
data "TargetConditions" "not Self()"
data "ProjectileCount" "1"
data "SpellRoll" "Attack(AttackType.MeleeWeaponAttack)"
data "SpellSuccess" "DealDamage(MainMeleeWeapon, Slashing);ExecuteWeaponFunctors(MainHand);SpawnExtraProjectiles(Projectile_DH_ThrowGlaive_Bounce)"
data "Trajectories" "fc35b6e4-6ffe-4a49-b277-574f5744480a"
data "DisplayName" "ha62925e2g8eefg4a9bg9f4bg664391440736;1"
data "Description" "haab9c51dgdca6g4ac4g8867ga26ce7437971;1"
data "DescriptionParams" "DealDamage(MainMeleeWeapon, Slash);Distance(6)"
data "TooltipDamageList" "DealDamage(MainMeleeWeapon, Slash)"
data "TooltipOnMiss" "88f44664-e175-408e-8810-574f5744480a"
data "PrepareSound" "Generic_GeneralAction_Start"
data "PrepareLoopSound" "Generic_GeneralAction_Loop"
data "CastSound" "Action_Cast_Slash"
data "TargetSound" "Action_Impact_Slash"
data "VocalComponentSound" "Empty"
data "CastTextEvent" "Cast"
data "CycleConditions" "Enemy() and not Dead()"
data "UseCosts" "ActionPoint:1"
data "HitCosts" "DemonicFury:25"
data "SpellAnimation" "e4c33fe4-af36-47b7-9f61-51f2f6924210,,;,,;962fa683-1f5e-46c0-8323-596af00d2954,,;ea68cfbb-960e-409f-a967-fdc27ba36378,,;6574bfb9-d601-4760-bd53-867747514006,,;66cf0be9-de93-4821-a755-32fdda2743e8,,;0b07883a-08b8-43b6-ac18-84dc9e84ff50,,;,,;,,"
data "VerbalIntent" "Damage"
data "SpellFlags" "IsMelee;IsHarmful;HasSomaticComponent;HasHighGroundRangeExtension"
data "MemoryCost" "1"
data "PrepareEffect" "9342eaf4-6a20-44c6-a740-574f5744480a"
data "Sheathing" "Melee"

new entry "Projectile_DH_ThrowGlaive_Bounce"
type "SpellData"
data "SpellType" "Projectile"
using "Projectile_ThrowGlaive"
data "TargetRadius" "6"
data "SpellSuccess" "DealDamage(MainMeleeWeapon, Slashing); ExecuteWeaponFunctors(MainHand);SpawnExtraProjectiles(Projectile_DH_ThrowGlaive_Bounce2)"
data "TargetConditions" "not Self() and not Dead() and Character() and Enemy()"
data "ProjectileCount" "1"
data "UseCosts" ""
data "HitCosts" ""
data "Trajectories" "fc35b6e4-6ffe-4a49-b277-574f5744480a"

new entry "Projectile_DH_ThrowGlaive_Bounce2"
type "SpellData"
data "SpellType" "Projectile"
using "Projectile_ThrowGlaive"
data "TargetRadius" "6"
data "SpellSuccess" "DealDamage(MainMeleeWeapon, Slashing); ExecuteWeaponFunctors(MainHand);SpawnExtraProjectiles(Projectile_DH_ThrowGlaive_Bounce3)"
data "TargetConditions" "not Self() and not Dead() and Character() and Enemy()"
data "ProjectileCount" "1"
data "UseCosts" ""
data "HitCosts" ""
data "Trajectories" "fc35b6e4-6ffe-4a49-b277-574f5744480a"

new entry "Projectile_DH_ThrowGlaive_Bounce3"
type "SpellData"
data "SpellType" "Projectile"
using "Projectile_ThrowGlaive"
data "TargetRadius" "6"
data "SpellSuccess" "DealDamage(MainMeleeWeapon, Slashing); ExecuteWeaponFunctors(MainHand)"
data "TargetConditions" "not Self() and not Dead() and Character() and Enemy()"
data "ProjectileCount" "1"
data "UseCosts" ""
data "HitCosts" ""
data "Trajectories" "fc35b6e4-6ffe-4a49-b277-574f5744480a"



new entry "Projectile_Fly_DH"
type "SpellData"
data "SpellType" "Projectile"
using "Projectile_Jump"
data "TargetRadius" "18"
data "AddRangeFromAbility" ""
data "TargetConditions" "not Surface('SurfaceChasm')"
data "Trajectories" "64046453-9e1f-4f1d-a86d-f4dc4acff457,50f2bac9-61a4-489c-c70f-c3881062f2a2,d9e4cf4d-3a9a-d3d5-8ee3-afcf139aa3dc"
data "Icon" "Action_Fly"
data "DisplayName" "h4351c365g38afg4a30g986agd88ad9905fa3;1"
data "Description" "h8eaa5f4bg6731g47c4g983ag2bcb6488497a;1"
data "ExtraDescription" ""
data "PrepareSound" "Action_Prepare_Fly"
data "PrepareLoopSound" "Action_Loop_Fly"
data "CastSound" "Action_Cast_Fly"
data "SpellActionType" ""
data "UseCosts" "Movement:Distance*0.5"
data "SpellAnimation" "b94b9184-9bd0-4840-be7d-003700173b37,,;,,;5df11e35-f081-44f7-bd6f-7049d0e533cd,,;a508bef8-6767-4560-ac3a-6c04132c825e,,;066f8e0e-b3e1-4b76-a473-d1e23a3b7230,,;,,;7a28f440-1b0b-4a18-96a8-3767959b601a,,;,,;,,"
data "SpellFlags" "IsJump;HasHighGroundRangeExtension;IgnoreVisionBlock;RangeIgnoreVerticalThreshold;Stealth;Invisible;CannotTargetCharacter;CannotTargetItems;NoAOEDamageOnLand"
data "SpellJumpType" "Flight"
data "PrepareEffect" "e10fa2ab-984e-4ab7-b756-4982dfca4018"
data "CastEffect" "8b2df096-373b-4323-b5bc-6cf2c3db8281"
data "Sheathing" "Melee"


new entry "Projectile_DH_SigilOfFlame_Trap"
type "SpellData"
data "SpellType" "Projectile"
data "Level" "3"
data "AreaRadius" "4"
data "ExplodeRadius" "4"
data "TargetConditions" "Character() and not Dead() and not Ally() and not Player()"
data "SpellRoll" "not SavingThrow(Ability.Charisma, CalculateSpellDC(context.PreferredCastingAbility, GetSummoner(context.Source)))"
data "SpellSuccess" "DealDamage(2d8,Fire,Magical);ApplyStatus(DH_Condition_SigilOfFlame,100,1)"
data "SpellFail" "DealDamage(2d8/2,Fire,Magical);ApplyStatus(DH_Condition_SigilOfFlame,100,1)"
data "Trajectories" "67561504-3131-468a-ba38-c052a008d0ed"
data "Icon" "Icon_DH_SigilOfFlame"
data "DisplayName" "h8a510743gd9f9g4cf5gb83dg344d33d8462f;1"
data "Description" "hc1a91722gedc2g455dg8bb4gc0cfd5a87da5;1"
data "DescriptionParams" "DealDamage(2d8, Fire);DealDamage(2d8, Fire)"
data "TooltipStatusApply" "ApplyStatus(DH_Condition_SigilOfFlame, 100, 1)"
data "TooltipAttackSave" "Charisma"
data "TooltipDamageList" "DealDamage(2d8, Fire)"
data "TooltipOnSave" "f762efbb-f8f1-493e-b248-2de1567b4bd2"
data "SpellAnimation" "3ff87abf-1ea1-4c32-aadf-c822d74c7dc0,,;,,;38cdb41c-2eec-4e03-bb31-83cff0346c35,,;85414f5f-b448-4dda-9370-1b6c4b38b561,,;d8925ce4-d6d9-400c-92f5-ad772ef7f178,,;,,;eadedcce-d01b-4fbb-a1ae-d218f13aa5d6,,;,,;,,"
data "SpellFlags" "IsTrap;CanAreaDamageEvade;ImmediateCast"
data "CastEffect" "992d2ee5-d074-49c8-a2ce-574f5744480a"
data "TargetEffect" "53412dd1-8066-4860-a2ae-574f5744480a"
data "DamageType" "Fire"


// Havoc Spec //

new entry "Projectile_Metamorphosis_Havoc"
type "SpellData"
data "SpellType" "Target"
data "TargetRadius" "8"
data "AreaRadius" "6"
data "AddRangeFromAbility" "Strength,1"
data "Cooldown" "OncePerRest"
data "Icon" "DH_Icon_Metamorphosis"
data "DisplayName" "h807a1e61g495eg4caegb0eagb365d925008b;1"
data "Description" "h86d3a744g7bbfg4236ga61dgc87121c618bf;1"
data "TooltipPermanentWarnings" "06c04e89-8677-45da-ba4f-574f5744480a"
data "TargetConditions" "CanStand('')"
data "DescriptionParams" "DealDamage(LevelMapValue(DH_MetamorphosisDamage), Fire);Distance(6);6"
data "TooltipDamageList" "DealDamage(LevelMapValue(DH_MetamorphosisDamage), Fire)"
data "TooltipStatusApply" "ApplyStatus(WoWDH_POLYMORPH_DEMONFORM_M,100,6)"
data "TooltipOnSave" "f762efbb-f8f1-493e-b248-2de1567b4bd2"
data "TooltipAttackSave" "Charisma"
data "RequirementConditions" "not IsInDemonForm()"
data "SpellProperties" "GROUND:TeleportSource();GROUND:IF(not Tagged('FEMALE',context.Source)):ApplyStatus(SELF,WoWDH_POLYMORPH_DEMONFORM_M,100,6); GROUND:IF(Tagged('FEMALE',context.Source)):ApplyStatus(SELF,WoWDH_POLYMORPH_DEMONFORM_F,100,6);GROUND:IF(not ClassLevelHigherOrEqualThan(4,'WoWDemonHunter')):CreateExplosion(Projectile_DemonHunter_FelExplosion_LV1);GROUND:IF(ClassLevelHigherOrEqualThan(4,'WoWDemonHunter') and not ClassLevelHigherOrEqualThan(7,'WoWDemonHunter')):CreateExplosion(Projectile_DemonHunter_FelExplosion_LV2);GROUND:IF(ClassLevelHigherOrEqualThan(7,'WoWDemonHunter') and not ClassLevelHigherOrEqualThan(10,'WoWDemonHunter')):CreateExplosion(Projectile_DemonHunter_FelExplosion_LV3);GROUND:IF(ClassLevelHigherOrEqualThan(10,'WoWDemonHunter')):CreateExplosion(Projectile_DemonHunter_FelExplosion_LV4)"
data "UseCosts" "ActionPoint:1"
data "SpellAnimation" "79e47203-3855-4837-8673-ddb708d86962,,;711781fb-5f5a-4b9a-bd8b-e0b4ff9dec46,,;a17a7bf3-7381-4191-83f4-304d37c738e0,,;1172e0b6-08d1-4f28-a651-a01681b84ee6,,;863fabe7-d990-42a3-8961-7898c207bcb1,,;0002afee-5ad9-4109-ae64-9b2571601226,,;0b07883a-08b8-43b6-ac18-84dc9e84ff50,,;,,;,,"
data "PrepareSound" "Generic_Prepare_Jump"
data "PrepareLoopSound" "Generic_GeneralAction_Loop"
data "CastSound" "Action_Cast_Jump"
data "CastTextEvent" "Cast"
data "VerbalIntent" "Utility"
data "SpellFlags" "HasVerbalComponent;HasHighGroundRangeExtension;RangeIgnoreVerticalThreshold;Invisible;AllowMoveAndCast"
data "Requirements" "!Immobile"
data "PrepareEffect" "d4d25f3d-6fc1-4149-83ca-574f5744480a"
data "CastEffect" "e20c5e32-203b-4dae-9049-574f5744480a"
data "SpellSoundMagnitude" "Small"
data "Sheathing" "Melee"

new entry "Projectile_DemonHunter_FelExplosion_LV1"
type "SpellData"
data "SpellType" "Projectile"
using "Projectile_Fireball_Trap"
data "Level" ""
data "SpellSchool" ""
data "SpellProperties" ""
data "TargetRadius" ""
data "AreaRadius" "6"
data "ExplodeRadius" "6"
data "DisplayName" "h807a1e61g495eg4caegb0eagb365d925008b;1"
data "TargetConditions" "Character() and not Dead() and not Ally() and not Player()"
data "Trajectories" "001ce817-932e-4d8c-bf86-574f5744480a"
data "SpellRoll" "not SavingThrow(Ability.Charisma, SourceSpellDC())"
data "SpellProperties" ""
data "SpellSuccess" "DealDamage(1d8,Fire)"
data "SpellFail" "DealDamage(1d8/2,Fire)"
data "Icon" "PassiveFeature_Generic_Explosion"
data "DisplayName" "h79ffbc48g5c5bg419cgb667g5fbc900dfc9d;2"
data "Description" "hddb6a3a0gde23g4e03gbe54g2b1de3b97ce4;5"
data "DescriptionParams" ""
data "TooltipDamageList" "DealDamage(2d6,Fire)"
data "TooltipAttackSave" "Dexterity"
data "UseCosts" ""
data "SpellFlags" "IsTrap;CanAreaDamageEvade"

new entry "Projectile_DemonHunter_FelExplosion_LV2"
type "SpellData"
data "SpellType" "Projectile"
using "Projectile_DemonHunter_FelExplosion_LV1"
data "SpellSuccess" "DealDamage(2d8,Fire)"
data "SpellFail" "DealDamage(2d8/2,Fire)"

new entry "Projectile_DemonHunter_FelExplosion_LV3"
type "SpellData"
data "SpellType" "Projectile"
using "Projectile_DemonHunter_FelExplosion_LV1"
data "SpellSuccess" "DealDamage(3d8,Fire)"
data "SpellFail" "DealDamage(3d8/2,Fire)"

new entry "Projectile_DemonHunter_FelExplosion_LV4"
type "SpellData"
data "SpellType" "Projectile"
using "Projectile_DemonHunter_FelExplosion_LV1"
data "SpellSuccess" "DealDamage(4d8,Fire)"
data "SpellFail" "DealDamage(4d8/2,Fire)"


// Vengeance Spec //

new entry "Projectile_DemonHunter_FelExplosion_V_LV1"
type "SpellData"
data "SpellType" "Projectile"
using "Projectile_DemonHunter_FelExplosion_LV1"
data "SpellSuccess" "DealDamage(1d8,Fire);ApplyStatus(DAZED,100,1)"
data "SpellFail" "DealDamage(1d8/2,Fire)"

new entry "Projectile_DemonHunter_FelExplosion_V_LV2"
type "SpellData"
data "SpellType" "Projectile"
using "Projectile_DemonHunter_FelExplosion_LV1"
data "SpellSuccess" "DealDamage(2d8,Fire);ApplyStatus(DAZED,100,1)"
data "SpellFail" "DealDamage(2d8/2,Fire)"

new entry "Projectile_DemonHunter_FelExplosion_V_LV3"
type "SpellData"
data "SpellType" "Projectile"
using "Projectile_DemonHunter_FelExplosion_LV1"
data "SpellSuccess" "DealDamage(3d8,Fire);ApplyStatus(DAZED,100,1)"
data "SpellFail" "DealDamage(3d8/2,Fire)"

new entry "Projectile_DemonHunter_FelExplosion_V_LV4"
type "SpellData"
data "SpellType" "Projectile"
using "Projectile_DemonHunter_FelExplosion_LV1"
data "SpellSuccess" "DealDamage(4d8,Fire);ApplyStatus(DAZED,100,1)"
data "SpellFail" "DealDamage(4d8/2,Fire)"


new entry "Projectile_DemonHunter_InfernalStrike_LV1"
type "SpellData"
data "SpellType" "Projectile"
using "Projectile_Fireball_Trap"
data "Level" ""
data "SpellSchool" ""
data "SpellProperties" ""
data "DisplayName" "hb74e41ddg829ag4bb1ga323gb51fff1b50bc;1"
data "TargetRadius" ""
data "AreaRadius" "3"
data "ExplodeRadius" "3"
data "TargetConditions" "Character() and not Dead() and not Ally() and not Player()"
data "Trajectories" "3fa317cb-2301-4b56-bf67-574f5744480a"
data "SpellRoll" "not SavingThrow(Ability.Charisma, SourceSpellDC())"
data "SpellProperties" ""
data "SpellSuccess" "DealDamage(1d4,Fire)"
data "SpellFail" "DealDamage(1d4/2,Fire)"
data "Icon" "PassiveFeature_Generic_Explosion"
data "DisplayName" "h79ffbc48g5c5bg419cgb667g5fbc900dfc9d;2"
data "Description" "hddb6a3a0gde23g4e03gbe54g2b1de3b97ce4;5"
data "DescriptionParams" ""
data "TooltipDamageList" "DealDamage(1d4,Fire)"
data "TooltipAttackSave" "Dexterity"
data "UseCosts" ""
data "SpellFlags" "IsTrap;CanAreaDamageEvade"

new entry "Projectile_DemonHunter_InfernalStrike_LV2"
type "SpellData"
data "SpellType" "Projectile"
using "Projectile_DemonHunter_InfernalStrike_LV1"
data "SpellSuccess" "DealDamage(2d4,Fire)"
data "SpellFail" "DealDamage(2d4/2,Fire)"

new entry "Projectile_DemonHunter_InfernalStrike_LV3"
type "SpellData"
data "SpellType" "Projectile"
using "Projectile_DemonHunter_InfernalStrike_LV1"
data "SpellSuccess" "DealDamage(3d4,Fire)"
data "SpellFail" "DealDamage(3d4/2,Fire)"


new entry "Projectile_DH_SigilOfChains_Trap"
type "SpellData"
data "SpellType" "Projectile"
data "Level" "3"
data "AreaRadius" "12"
data "ExplodeRadius" "12"
data "TargetConditions" "Character() and not Dead() and not Ally() and not Player()"
data "SpellProperties" "Force(-20, TargetToEntity, Neutral, false, true);ApplyStatus(DH_Condition_SigilOfChains,100,2)"
data "Trajectories" "67561504-3131-468a-ba38-c052a008d0ed"
data "Icon" "Icon_DH_SigilOfChains"
data "DisplayName" "h62f58898g65a4g43afgb2b8g5dd97ae9a77d;1"
data "Description" "h56dd6af9g6ad0g4531gabeag9f0f600bd473;1"
data "DescriptionParams" "Distance(12)"
data "TooltipStatusApply" "ApplyStatus(DH_Condition_SigilOfChains, 100, 2)"
data "SpellAnimation" "3ff87abf-1ea1-4c32-aadf-c822d74c7dc0,,;,,;38cdb41c-2eec-4e03-bb31-83cff0346c35,,;85414f5f-b448-4dda-9370-1b6c4b38b561,,;d8925ce4-d6d9-400c-92f5-ad772ef7f178,,;,,;eadedcce-d01b-4fbb-a1ae-d218f13aa5d6,,;,,;,,"
data "SpellFlags" "IsTrap;CanAreaDamageEvade;ImmediateCast"
data "CastEffect" "63935355-1e22-458e-9dbe-574f5744480a"
data "TargetEffect" "a078ee20-4a4c-41b0-b550-574f5744480a"


new entry "Projectile_DemonHunter_DemonSpikes_LV1"
type "SpellData"
data "SpellType" "Projectile"
using "Projectile_Fireball_Trap"
data "Level" ""
data "SpellSchool" ""
data "SpellProperties" ""
data "DisplayName" "hb74e41ddg829ag4bb1ga323gb51fff1b50bc;1"
data "TargetRadius" ""
data "AreaRadius" "4"
data "ExplodeRadius" "4"
data "TargetConditions" "Character() and not Dead() and not Ally() and not Player()"
data "Trajectories" "cfcd4901-65d2-4fb2-9dc0-574f5744480a"
data "SpellRoll" "Attack(AttackType.MeleeSpellAttack)"
data "SpellProperties" "GROUND:IF(HasPassive('DH_RevelInPain',context.Source) and not GetSoulFragment(context.Source,4)):ApplyStatus(SELF,DH_Buff_Vengeance_SoulFragment,100,2); GROUND:IF(HasPassive('DH_RevelInPain',context.Source) and GetSoulFragment(context.Source,4)):SetStatusDuration(SELF,DH_Buff_Vengeance_SoulFragment,5,Force);GROUND:RemoveStatus(SELF,DH_Buff_DemonSpikes_Explode)"
data "SpellSuccess" "DealDamage(1d8 + DexterityModifier*2, Piercing)"
data "SpellFail" ""
data "Icon" "PassiveFeature_Generic_Explosion"
data "DisplayName" "h79ffbc48g5c5bg419cgb667g5fbc900dfc9d;2"
data "Description" "hddb6a3a0gde23g4e03gbe54g2b1de3b97ce4;5"
data "DescriptionParams" ""
data "TooltipDamageList" "DealDamage(1d4,Fire)"
data "TooltipAttackSave" "Dexterity"
data "UseCosts" ""
data "SpellFlags" "IsTrap;CanAreaDamageEvade"


new entry "Projectile_DemonHunter_DemonSpikes_LV2"
type "SpellData"
data "SpellType" "Projectile"
using "Projectile_DemonHunter_DemonSpikes_LV1"
data "SpellSuccess" "DealDamage(2d8 + DexterityModifier*2, Piercing)"

new entry "Projectile_DemonHunter_DemonSpikes_LV3"
type "SpellData"
data "SpellType" "Projectile"
using "Projectile_DemonHunter_DemonSpikes_LV1"
data "SpellSuccess" "DealDamage(3d8 + DexterityModifier*2, Piercing)"

