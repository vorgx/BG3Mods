
//Genral DH Progression Unlocks//

new entry "DH_UnlockDemonicFury"
type "PassiveData"
data "DisplayName" "h5ad6eb54gb2f5g4ef9g94fcg054e8bae0522;1"
data "Description" "h61af57f6g74e3g4ebag9fb8g1f17c6d3b8aa;1"
data "Icon" "DH_Icon_DemonicFury"
data "DescriptionParams" "100"
data "Boosts" ""

new entry "DH_UnlockDemonicFury_2"
type "PassiveData"
data "DisplayName" "h5ad6eb54gb2f5g4ef9g94fcg054e8bae0522;1"
data "Description" "h61af57f6g74e3g4ebag9fb8g1f17c6d3b8aa;1"
data "Icon" "DH_Icon_DemonicFury"
data "DescriptionParams" "120"
data "Boosts" ""


new entry "DH_UnlockDemonicFury_3"
type "PassiveData"
data "DisplayName" "h5ad6eb54gb2f5g4ef9g94fcg054e8bae0522;1"
data "Description" "h61af57f6g74e3g4ebag9fb8g1f17c6d3b8aa;1"
data "Icon" "DH_Icon_DemonicFury"
data "DescriptionParams" "150"
data "Boosts" ""


new entry "DH_Havoc_UnlockChaosStrike"
type "PassiveData"
data "DisplayName" "hb0fecd53g99e8g43a7ga302ge0fa53269877;1"
data "Properties" "IsHidden"
data "Boosts" "UnlockInterrupt(Interrupt_DH_ChaosStrike);UnlockInterrupt(Interrupt_DH_ChaosStrike_Critical)"

//Shared DH Passives //

new entry "DH_Metamorphosis_Havoc_AbilityBoost"
type "PassiveData"
data "DisplayName" "h807a1e61g495eg4caegb0eagb365d925008b;1"
data "Icon" "DH_Icon_Metamorphosis"
data "Properties" "IsHidden"
data "StatsFunctorContext" "OnStatusApply"
data "Conditions" "StatusId('WoWDH_POLYMORPH_DEMONFORM_M') or StatusId('WoWDH_POLYMORPH_DEMONFORM_F')"
data "StatsFunctors" "ApplyStatus(SELF,DH_Buff_Metamorphosis_DEX,100,(DexterityModifier+5)/2);ApplyStatus(SELF,DH_Buff_Metamorphosis_CHA,100,(CharismaModifier+5)/2)"

new entry "DH_Metamorphosis_Vengeance_AbilityBoost"
type "PassiveData"
data "DisplayName" "h807a1e61g495eg4caegb0eagb365d925008b;1"
data "Icon" "DH_Icon_Metamorphosis"
data "Properties" "IsHidden"
data "StatsFunctorContext" "OnStatusApply"
data "Conditions" "StatusId('WoWDH_POLYMORPH_DEMONFORM_V_M') or StatusId('WoWDH_POLYMORPH_DEMONFORM_V_F')"
data "StatsFunctors" "ApplyStatus(SELF,DH_Buff_Metamorphosis_DEX,100,(DexterityModifier+5)/2);ApplyStatus(SELF,DH_Buff_Metamorphosis_CON,100,(ConstitutionModifier+5)/2)"

new entry "DH_Sigils_Passive"
type "PassiveData"
data "DisplayName" "hb6812072g2949g4a49ga6feg9a77f66608f2;1"
data "Description" "h433f06aag5b69g49adg9a05g3d568bb7c6a7;1"
data "Properties" "IsHidden"
data "Boosts" "IF(IsInDemonForm(GetSummoner(context.Source))):IgnoreResistance(Fire, Immune);IF(IsInDemonForm(GetSummoner(context.Source))):IgnoreResistance(Fire, Resistant)"


// Havoc Spec Passives //

new entry "DH_Mastery_DemonicPresence"
type "PassiveData"
data "DisplayName" "he5cfa9e2g4c17g4cddgb1ebg4fe159e1188c;1"
data "Description" "h56170f38g3cc2g41d8g8918gaa2ef20f582a;1"
data "DescriptionParams" "3m"
data "Icon" "DH_Icon_MasteryDemonicPresence"
data "Properties" "Highlighted"
data "Boosts" "IF(HasDamageDoneForType(DamageType.Fire) and not IsInDemonForm()):DamageBonus(CharismaModifier, Fire);IF(HasDamageDoneForType(DamageType.Fire) and IsInDemonForm()):DamageBonus(CharismaModifier*2, Fire);ActionResource(Movement,3,0)"

new entry "DH_HavocDemonic"
type "PassiveData"
data "DisplayName" "hd2c4ea77gadb8g4baega24dg500507236933;1"
data "Description" "h38b8141dgf527g41eaga488gce388313e5fe;1"
data "DescriptionParams" "10%"
data "Icon" "DH_Icon_HavocDemonic"
data "Properties" "Highlighted"
data "StatsFunctorContext" "OnCast"
data "Conditions" "IsEyeBeam() and not IsInDemonForm()"
data "StatsFunctors" "IF(not Tagged('FEMALE',context.Source)):ApplyStatus(SELF,WoWDH_POLYMORPH_DEMONFORM_M,100,2);IF(Tagged('FEMALE',context.Source)):ApplyStatus(SELF,WoWDH_POLYMORPH_DEMONFORM_F,100,2)"

new entry "DH_HavocDemonic_Strikes"
type "PassiveData"
data "DisplayName" "hd2c4ea77gadb8g4baega24dg500507236933;1"
data "Description" "h38b8141dgf527g41eaga488gce388313e5fe;1"
data "DescriptionParams" "5%"
data "Icon" "DH_Icon_HavocDemonic"
data "Properties" "IsHidden"
data "StatsFunctorContext" "OnAttack"
data "Conditions" "(IsHit() or IsCritical()) and (IsChaosStrike() or IsBladeDance()) and SuccessRate(15)"
data "StatsFunctors" "IF(HasStatus('DH_CD_EyeBeam',context.Source)):SetStatusDuration(SELF,DH_CD_EyeBeam,-1,Add)"

new entry "DH_ShatteredDestiny"
type "PassiveData"
data "DisplayName" "hd83985f4g1f4ag4766g8d85gadc48c566d63;1"
data "Description" "h62ed4940gbc84g4d39gadb7g3be12d0f75d9;1"
data "DescriptionParams" "0.5%"
data "Icon" "DH_Icon_ShatteredDestiny"
data "Properties" "Highlighted"
data "StatsFunctorContext" "OnStatusApply"
data "Conditions" "StatusId('WoWDH_POLYMORPH_DEMONFORM_M') or StatusId('WoWDH_POLYMORPH_DEMONFORM_F')"
data "StatsFunctors" "RemoveStatus(SELF,DH_CD_EyeBeam);RemoveStatus(SELF,DH_CD_BladeDance)"

new entry "DH_ShatteredDestiny_Strikes"
type "PassiveData"
data "DisplayName" "hd2c4ea77gadb8g4baega24dg500507236933;1"
data "Description" "h38b8141dgf527g41eaga488gce388313e5fe;1"
data "Icon" "DH_Icon_ShatteredDestiny"
data "Properties" "IsHidden"
data "StatsFunctorContext" "OnCast"
data "Conditions" "IsInDemonForm() and ((IsBladeDance() and SuccessRate(17)) or (IsChaosStrike() and SuccessRate(20)) or (SpellId('Zone_DH_EyeBeam') and SuccessRate(15)) or (SpellId('Projectile_DH_ThrowGlaive') and SuccessRate(12)))"
data "StatsFunctors" "IF(not Tagged('FEMALE',context.Source)):SetStatusDuration(SELF,WoWDH_POLYMORPH_DEMONFORM_M,1,Add); IF(Tagged('FEMALE',context.Source)):SetStatusDuration(SELF,WoWDH_POLYMORPH_DEMONFORM_F,1,Add)"


new entry "DH_Havoc_FelRush_DoubleCast"
type "PassiveData"
data "Properties" "IsHidden"
data "StatsFunctorContext" "OnCast"
data "Conditions" "SpellId('Rush_DH_FelRush')"
data "StatsFunctors" "IF(not HasStatus('DH_Buff_FelRush_FreeCast',context.Source)):ApplyStatus(SELF,DH_Buff_FelRush_FreeCast,100,1)"

new entry "DH_Havoc_FelRush_DoubleCast_End"
type "PassiveData"
data "Properties" "IsHidden"
data "StatsFunctorContext" "OnCast"
data "Conditions" "SpellId('Rush_DH_FelRush')"
data "StatsFunctors" "RemoveStatus(SELF,DH_Buff_FelRush_FreeCast)"

new entry "DH_Havoc_DemonBlades"
type "PassiveData"
data "Properties" "IsHidden"
data "StatsFunctorContext" "OnAttack"
data "Conditions" "IsWeaponAttack() and (IsHit() or IsCritical())"
data "StatsFunctors" "RestoreResource(SELF, DemonicFury, 5, 0);IF(SuccessRate(35)):RestoreResource(SELF, DemonicFury, 5, 0)"

new entry "DH_Havoc_SoulFragment_Passive"
type "PassiveData"
data "DisplayName" "h9ae3e42ag968bg4a53gb4dfgcb19da7fdd16;1"
data "Description" "h4fc94e4aga1cfg406cg98bbg085c2c449807;1"
data "Properties" "IsHidden"
data "StatsFunctorContext" "OnDamage"
data "Conditions" "IsKillingBlow()"
data "StatsFunctors" "IF(not HasMaximumSoulFragment()): ApplyStatus(SELF, DH_Buff_Havoc_SoulFragment,100, 1); IF(HasMaximumSoulFragment()): SetStatusDuration(SELF, DH_Buff_Havoc_SoulFragment,5, Force)"

new entry "DH_Havoc_SoulFragment_Passive_Strike"
type "PassiveData"
data "DisplayName" "h9ae3e42ag968bg4a53gb4dfgcb19da7fdd16;1"
data "Description" "h4fc94e4aga1cfg406cg98bbg085c2c449807;1"
data "Properties" "IsHidden"
data "StatsFunctorContext" "OnCast"
data "Conditions" "IsChaosStrike() and IsHit()"
data "StatsFunctors" "IF(not HasMaximumSoulFragment() and SuccessRate(5)): ApplyStatus(SELF, DH_Buff_Havoc_SoulFragment,100, 1); IF(HasMaximumSoulFragment()):SetStatusDuration(SELF, DH_Buff_Havoc_SoulFragment,5, Force)"


// Vengeance Spec Passives //


new entry "DH_Mastery_FelBlood"
type "PassiveData"
data "DisplayName" "h3a9bc109g3c54g481ag99cfgfa198c6fe546;1"
data "Description" "h2fcaa13bgabe4g440dgab88g4db969fe9981;1"
data "Icon" "DH_Icon_MasteryFelBlood"
data "Properties" "Highlighted"
data "Boosts" "IF(FelBloodDexInterval(1) and not FelBloodDexInterval(2)):AC(1);IF(FelBloodDexInterval(2) and not FelBloodDexInterval(3)):AC(2);IF(FelBloodDexInterval(3) and not FelBloodDexInterval(4)):AC(3);IF(FelBloodDexInterval(4) and not FelBloodDexInterval(5)):AC(4);IF(FelBloodDexInterval(5) and not FelBloodDexInterval(6)):AC(5);IF(FelBloodDexInterval(6) and not FelBloodDexInterval(7)):AC(6);IF(FelBloodDexInterval(7) and not FelBloodDexInterval(8)):AC(7);IF(FelBloodDexInterval(8) and not FelBloodDexInterval(9)):AC(8);IF(FelBloodDexInterval(9) and not FelBloodDexInterval(10)):AC(9);IF(FelBloodDexInterval(10)):AC(10);IncreaseMaxHP(25%)"

new entry "DH_VengeanceDemonic"
type "PassiveData"
data "DisplayName" "h1cce14c6gbd68g4d01g91e1ge40bc41d112f;1"
data "Description" "h59d7e43dga8f3g4d99ga07cg056af3b40d45;1"
data "DescriptionParams" "10%"
data "Icon" "DH_Icon_VengeanceDemonic"
data "Properties" "Highlighted"
data "StatsFunctorContext" "OnCast"
data "Conditions" "IsFelDevastation() and not IsInDemonForm()"
data "StatsFunctors" "IF(not Tagged('FEMALE',context.Source)):ApplyStatus(SELF,WoWDH_POLYMORPH_DEMONFORM_V_M,100,2);IF(Tagged('FEMALE',context.Source)):ApplyStatus(SELF,WoWDH_POLYMORPH_DEMONFORM_V_F,100,2)"

new entry "DH_VengeanceDemonic_SF"
type "PassiveData"
data "DisplayName" "h1cce14c6gbd68g4d01g91e1ge40bc41d112f;1"
data "Description" "h59d7e43dga8f3g4d99ga07cg056af3b40d45;1"
data "DescriptionParams" "10%"
data "Icon" "DH_Icon_VengeanceDemonic"
data "Properties" "IsHidden"
data "StatsFunctorContext" "OnCast"
data "Conditions" "HasStatus('DH_CD_FelDevastation',context.Source)"
data "StatsFunctors" "IF(SpellId('Target_DH_SpiritBomb') and GetSoulFragment(context.Source,5) and SuccessRate(20)):SetStatusDuration(SELF,DH_CD_FelDevastation,-1,Add);IF(SpellId('Target_DH_SpiritBomb') and GetSoulFragment(context.Source,4) and SuccessRate(20)):SetStatusDuration(SELF,DH_CD_FelDevastation,-1,Add);IF(SpellId('Target_DH_SpiritBomb') and GetSoulFragment(context.Source,3) and SuccessRate(20)):SetStatusDuration(SELF,DH_CD_FelDevastation,-1,Add);IF((SpellId('Zone_DH_SoulCleave') or SpellId('Target_DH_SpiritBomb')) and GetSoulFragment(context.Source,2) and SuccessRate(20)):SetStatusDuration(SELF,DH_CD_FelDevastation,-1,Add);IF((SpellId('Zone_DH_SoulCleave') or SpellId('Target_DH_SpiritBomb')) and GetSoulFragment(context.Source,1) and SuccessRate(20)):SetStatusDuration(SELF,DH_CD_FelDevastation,-1,Add);IF(NegativeFelDevastationCD()):RemoveStatus(SELF,'DH_CD_FelDevastation')"

new entry "DH_RevelInPain"
type "PassiveData"
data "DisplayName" "hbbf37763g9250g4a69gbab2gdc320a39d186;1"
data "Description" "hf56e4ff4g5ba0g4207gab7bgfca6c7600097;1"
data "Icon" "DH_Icon_RevelInPain"
data "Properties" "Highlighted"
data "StatsFunctorContext" "OnStatusApplied"
data "Conditions" "StatusId('WoWDH_POLYMORPH_DEMONFORM_V_M') or StatusId('WoWDH_POLYMORPH_DEMONFORM_V_F')"
data "StatsFunctors" "ApplyStatus(DH_Buff_DemonSpikes,100,3)"

new entry "DH_RevelInPain_CheatDeath"
type "PassiveData"
data "DisplayName" "hbbf37763g9250g4a69gbab2gdc320a39d186;1"
data "Description" "hf56e4ff4g5ba0g4207gab7bgfca6c7600097;1"
data "Icon" "DH_Icon_RevelInPain"
data "Properties" "IsHidden;OncePerLongRest"
data "StatsFunctorContext" "OnDamaged"
data "Conditions" ""
data "StatsFunctors" "ApplyStatus(DH_Buff_RevelInPain_CheatDeath,100,-1)"



new entry "DH_Vengeance_SoulFragment_Passive"
type "PassiveData"
data "DisplayName" "hfb383c2dg67ecg4788g9e9bg43843509e8e7;1"
data "Description" "h3db42320g03f2g49efg86cdgc92d8faf3fa2;1"
data "Properties" "IsHidden"
data "StatsFunctorContext" "OnDamage"
data "Conditions" "IsKillingBlow()"
data "StatsFunctors" "IF(not HasMaxVengeanceSoulFragment()): ApplyStatus(SELF, DH_Buff_Vengeance_SoulFragment,100, 1); IF(HasMaxVengeanceSoulFragment()): SetStatusDuration(SELF, DH_Buff_Vengeance_SoulFragment,5, Force)"

new entry "DH_Vengeance_Metamorphosis_Shear_Passive"
type "PassiveData"
data "DisplayName" "hfb383c2dg67ecg4788g9e9bg43843509e8e7;1"
data "Description" "h3db42320g03f2g49efg86cdgc92d8faf3fa2;1"
data "Properties" "IsHidden"
data "StatsFunctorContext" "OnCast"
data "Conditions" "SpellId('Target_DH_Shear') and IsHit()"
data "StatsFunctors" "IF(not HasMaxVengeanceSoulFragment()): ApplyStatus(SELF, DH_Buff_Vengeance_SoulFragment,100, 1); IF(HasMaxVengeanceSoulFragment()):SetStatusDuration(SELF, DH_Buff_Vengeance_SoulFragment,5, Force)"

new entry "DH_Vengeance_SoulCleave_Passive"
type "PassiveData"
data "DisplayName" "hfb383c2dg67ecg4788g9e9bg43843509e8e7;1"
data "Description" "h3db42320g03f2g49efg86cdgc92d8faf3fa2;1"
data "Properties" "IsHidden"
data "StatsFunctorContext" "OnCast"
data "Conditions" "SpellId('Zone_DH_SoulCleave') and (IsHit() or IsCritical())"
data "StatsFunctors" "IF(not GetSoulFragment(context.Source,3)):RemoveStatus(SELF,DH_Buff_Vengeance_SoulFragment); IF(GetSoulFragment(context.Source,3)):RestoreResource(SELF,DemonicFury,20,0); IF(GetSoulFragment(context.Source,3)):RegainHitPoints(SELF,MaxHP/10); IF(GetSoulFragment(context.Source,3)):SetStatusDuration(SELF,DH_Buff_Vengeance_SoulFragment,-2,Add)"


new entry "DH_Vengeance_DemonSpikes_Parry"
type "PassiveData"
data "Properties" "IsHidden"
data "StatsFunctorContext" "OnAttacked"
data "Conditions" "not IsMiss() and DexModifiedProcRate(95)"
data "StatsFunctors" "ApplyStatus(DH_Buff_DemonSpikes_Parry,100,DexterityModifier+5)"



new entry "DH_Vengeance_DemonSpikes"
type "PassiveData"
data "Properties" "IsHidden"
data "StatsFunctorContext" "OnDamagedPrevented;OnDamaged"
data "StatsFunctors" "RemoveStatus(DH_Buff_DemonSpikes_AC)"


// Weapon Passives //


new entry "DH_Weapon_TheHunt"
type "PassiveData"
data "DisplayName" "ha5af3b32g16aag4c72g8b16gbe1876c18ab4;1"
data "Description" "h6cbe9669g8428g40b1g9830gf0cc23f82ba0;1"
data "DescriptionParams" "DealDamage(LevelMapValue(DH_WPN_Damage),Fire)"
data "BoostConditions" "HasAzzinothWarglaives()"
data "Boosts" ""

new entry "DH_Weapon_RelentlessPursuit"
type "PassiveData"
data "DisplayName" "h348d289bgf0bcg48d1gad3bg884955bd1097;1"
data "Description" "h7c859fb6g15feg4d12gb897g108938bd00c6;1"
data "DescriptionParams" "10%"
data "StatsFunctorContext" "OnAttack"
data "Conditions" "(IsHit() or IsCritical()) and HasAzzinothWarglaives() and ((SuccessRate(10) and not IsInDemonForm()) or (SuccessRate(20) and IsInDemonForm())) and ClassLevelHigherOrEqualThan(6,'WoWDemonHunter')"
data "StatsFunctors" "ApplyStatus(SELF,DH_HASTE,100,2)"

new entry "DH_Weapon_CollectiveAnguish"
type "PassiveData"
data "DisplayName" "h5ab9cad1g6ca6g42f1gb856gc5e92cdc6752;1"
data "Description" "hd217649egf34eg4e46gadb0gcdd1af1b856d;1"
data "DescriptionParams" "15%"
data "StatsFunctorContext" "OnCast"
data "Conditions" "HasAzzinothWarglaives() and ClassLevelHigherOrEqualThan(12,'WoWDemonHunter')"
data "StatsFunctors" "IF(SpellId('Zone_DH_EyeBeam')):ApplyStatus(SELF,DH_Buff_CollectiveAnguish_Havoc,100,1);IF(SpellId('Zone_DH_FelDevastation')):ApplyStatus(SELF,DH_Buff_CollectiveAnguish_Vengeance,100,1)"


